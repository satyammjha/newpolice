/*! For license information please see main.72be40c3.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),_=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var R,M=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function _e(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Te(){}var De=!1;function je(e,t,n){if(De)return e(t,n);De=!0;try{return Ne(e,t,n)}finally{De=!1,(null!==Ce||null!==Se)&&(Te(),_e())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Le=!1}function Oe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Re=!1,Me=null,Fe=!1,Ve=null,Be={onError:function(e){Re=!0,Me=e}};function Ue(e,t,n,r,i,a,o,s,u){Re=!1,Me=null,Oe.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Ct,St,Et,It=!1,_t=[],Nt=null,Tt=null,Dt=null,jt=new Map,At=new Map,Lt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){It=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Dt&&Ft(Dt)&&(Dt=null),jt.forEach(Vt),At.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==Tt&&Ut(Tt,e),null!==Dt&&Ut(Dt,e),jt.forEach(t),At.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Lt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Rt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Rt(Tt,e,t,n,r,i),!0;case"mouseover":return Dt=Rt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Rt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Rt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return Sn}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(In),Nn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(jn),Ln=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Rn=l&&"TextEvent"in window&&!On,Mn=l&&(!Pn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Fr(e,0)}function Yn(e){if(W(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,we(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Sr={};function Er(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),_r=Er("animationiteration"),Nr=Er("animationstart"),Tr=Er("transitionend"),Dr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Dr.set(e,t),u(t,[e])}for(var Lr=0;Lr<jr.length;Lr++){var Pr=jr[Lr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Ir,"onAnimationEnd"),Ar(_r,"onAnimationIteration"),Ar(Nr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(a(198));var l=Me;Re=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,i=we(n),o=[];e:{var s=Dr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Ir:case _r:case Nr:u=gn;break;case Tr:u=Dn;break;case"scroll":u=hn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Xn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(g=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ci=-1;function Si(e){return{current:e}}function Ei(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function Ii(e,t){Ci++,xi[Ci]=e.current,e.current=t}var _i={},Ni=Si(_i),Ti=Si(!1),Di=_i;function ji(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ei(Ti),Ei(Ni)}function Pi(e,t,n){if(Ni.current!==_i)throw Error(a(168));Ii(Ni,t),Ii(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Di=Ni.current,Ii(Ni,e),Ii(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ni),Ii(Ni,e)):Ei(Ti),Ii(Ti,n)}var Fi=null,Vi=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Hi=0,Ki=null,Gi=0,Wi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ga.current;Ei(ga),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function _a(e){null===Ia?Ia=[e]:Ia.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Da=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),Oa(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ai(t)?Di:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ai(t)?Di:Ni.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===C?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Ji(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===C){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===C?((a=Rc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function _o(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function No(e,t){return"function"===typeof t?t(e):t}function To(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Ao(e,t){var n=vo,r=_o(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===Du)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Mo(e)}function Oo(e,t,n){return n((function(){Ro(t)&&Mo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ta(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return _o().memoizedState}function Uo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return _o().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,_a(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Na(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Du)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Du.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:To,useRef:Bo,useState:function(){return To(No)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(_o(),mo.memoizedState,e)},useTransition:function(){return[To(No)[0],_o().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Do,useRef:Bo,useState:function(){return Do(No)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Do(No)[0],_o().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return _s(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Pu,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Pu,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Pu,Lu),Lu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Pu,Lu),Lu|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var a=Ai(n)?Di:Ni.current;return a=ji(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ns(e,t,n,r,i){if(Ai(n)){var a=!0;Ri(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=ji(t,c=Ai(n)?Di:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Da?("function"===typeof l&&(Ba(t,n,l,r),u=t.memoizedState),(s=Da||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=ji(t,u=Ai(n)?Di:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Da=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Da?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Da||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ks(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var As,Ls,Ps,Os,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Rs,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Du)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Rc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ai(t.type)&&Li(),Ws(t),null;case 3:return r=t.stateNode,io(),Ei(Ti),Ei(Ni),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ls(e,t),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),Ls(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return xa(t.type._context),Ws(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ti),Ei(Ni),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Cu(i):null!==u?(u.return=o,Zs=u):Cu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Cu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Iu=k.ReactCurrentDispatcher,_u=k.ReactCurrentOwner,Nu=k.ReactCurrentBatchConfig,Tu=0,Du=null,ju=null,Au=0,Lu=0,Pu=Si(0),Ou=0,Ru=null,Mu=0,Fu=0,Vu=0,Bu=null,Uu=null,zu=0,qu=1/0,Hu=null,Ku=!1,Gu=null,Wu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Tu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Au?Au&-Au:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Du||(e===Du&&(0===(2&Tu)&&(Fu|=n),4===Ou&&uc(e,Au)),ic(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(qu=Xe()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Du?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Tu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ht(e,e===Du?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tu;Tu|=2;var o=vc();for(Du===e&&Au===t||(Hu=null,qu=Xe()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Iu.current=o,Tu=i,null!==ju?t=0:(Du=null,Au=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ru,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ru,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Uu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Uu,Hu),t);break}xc(e,Uu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Uu,Hu),r);break}xc(e,Uu,Hu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tu))throw Error(a(327));Cc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ru,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Uu,Hu),ic(e,Xe()),null}function lc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(qu=Xe()+500,Vi&&zi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Tu)&&Cc();var t=Tu;Tu|=1;var n=Nu.transition,r=bt;try{if(Nu.transition=null,bt=1,e)return e()}finally{bt=r,Nu.transition=n,0===(6&(Tu=t))&&zi()}}function hc(){Lu=Pu.current,Ei(Pu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ju)for(n=ju.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Ei(Ti),Ei(Ni),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Du=e,ju=e=Pc(e.current,null),Au=Lu=t,Ou=0,Ru=null,Vu=Fu=Mu=0,Uu=Bu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=ju;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,_u.current=null,null===n||null===n.return){Ou=1,Ru=t,ju=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,ju===n&&null!==n&&(ju=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function mc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Du||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Du,Au)}function gc(e,t){var n=Tu;Tu|=2;var r=vc();for(Du===e&&Au===t||(Hu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Tu=n,Iu.current=r,null!==ju)throw Error(a(261));return Du=null,Au=0,Ou}function yc(){for(;null!==ju;)kc(ju)}function bc(){for(;null!==ju&&!Ye();)kc(ju)}function kc(e){var t=Su(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?wc(e):ju=t,_u.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Lu)))return void(ju=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(ju=n);if(null===e)return Ou=6,void(ju=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ju=t);ju=t=e}while(null!==t);0===Ou&&(Ou=5)}function xc(e,t,n){var r=bt,i=Nu.transition;try{Nu.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==Yu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Du&&(ju=Du=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Dc(tt,(function(){return Cc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nu.transition,Nu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,_u.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Tu=u,bt=s,Nu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Gu,Gu=null,e;0!==(1&$u)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Nu.transition=i,bt=r}return null}function Cc(){if(null!==Yu){var e=kt($u),t=Nu.transition,n=bt;try{if(Nu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Tu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Nu.transition=t}}return!1}function Sc(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Au&n)===n&&(4===Ou||3===Ou&&(130023424&Au)===Au&&500>Xe()-zu?dc(e,0):Vu|=n),ic(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ta(e,t))&&(gt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Dc(e,t){return We(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Rc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case T:return(e=Ac(13,n,t,i)).elementType=T,e.lanes=o,e;case D:return(e=Ac(19,n,t,i)).elementType=D,e.lanes=o,e;case L:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case _:s=9;break e;case N:s=11;break e;case j:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function zc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=La(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),Oa(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),da();break;case 5:ao(t);break;case 1:Ai(t.type)&&Ri(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ks(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=ji(t,Ni.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=La(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ca(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ca(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Cs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Ai(r)?(e=!0,Ri(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Tu)&&(qu=Xe()+500,zi()))}break;case 13:fc((function(){var t=Ta(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=Ta(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=lc,Te=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,_e,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(r||i||a)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/a,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(s.width=(null===e||void 0===e?void 0:e.width)||s.width,s.height=(null===e||void 0===e?void 0:e.height)||s.height,n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,i){var a={video:"undefined"===typeof i||i};n.audio&&(a.audio="undefined"===typeof r||r),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(n.audioConstraints);s&&(t=s);var u=a(n.videoConstraints);u&&(o=u),r(i(t),i(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,i=n.audio,s=(n.forceScreenshotSourceSize,n.disablePictureInPicture),u=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,l=void 0===c?{}:c,f=n.children,h=o(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),d=u?a(a({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l,p={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",a({autoPlay:!0,disablePictureInPicture:s,src:t.src,muted:!i,playsInline:!0,ref:function(t){e.video=t},style:d},h)),f&&f(p))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:C.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);u+=T(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},L={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:L,ReactCurrentOwner:C};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,L(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,E=null,I=-1,_=5,N=-1;function T(){return!(t.unstable_now()-N<_)}function D(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?C():(S=!1,E=null)}}else S=!1}if("function"===typeof b)C=function(){b(D)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=D,C=function(){A.postMessage(null)}}else C=function(){g(D,0)};function L(e){E=e,S||(S=!0,C())}function P(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,L(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return fn},SDK_VERSION:function(){return kr},_DEFAULT_ENTRY_NAME:function(){return sr},_addComponent:function(){return fr},_addOrOverwriteComponent:function(){return hr},_apps:function(){return cr},_clearComponents:function(){return mr},_components:function(){return lr},_getProvider:function(){return pr},_registerComponent:function(){return dr},_removeServiceInstance:function(){return vr},deleteApp:function(){return Sr},getApp:function(){return xr},getApps:function(){return Cr},initializeApp:function(){return wr},onLog:function(){return _r},registerVersion:function(){return Ir},setLogLevel:function(){return Nr}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),s=new A(r||[]);return i(o,"_invoke",{value:N(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function k(){}function w(){}var x={};f(x,u,(function(){return this}));var C=Object.getPrototypeOf,S=C&&C(C(L([])));S&&S!==n&&r.call(S,u)&&(x=S);var E=w.prototype=b.prototype=Object.create(x);function I(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function N(t,n,r){var i=p;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return k.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:k,configurable:!0}),k.displayName=f(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},I(_.prototype),f(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(E),f(E,l,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function l(e){if(Array.isArray(e))return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return l(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||h(e,t)||d()}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||v(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function k(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){var t=S();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function _(e,t,n){return _=S()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i},_.apply(null,arguments)}function N(e){var t="function"===typeof Map?new Map:void 0;return N=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,C(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w(n,e)},N(e)}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var j,A="popstate";function L(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function R(e,t,n,r){return void 0===n&&(n=null),D({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:M(e);return L(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(D({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(A,v),h=e,function(){s.removeEventListener(A,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=R(g.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=R(g.location,e,n);r&&r(i,e);var a=O(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(j||(j={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function B(e,t,n){void 0===n&&(n="/");var r=ee(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=X(i[o],Z(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(L(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ie([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(L(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:$(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n,r=l(n=t)||v(n)||h(n)||d(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=z(a.join("/")),c=[];return c.push.apply(c,m(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&c.push.apply(c,m(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var q=/^:\w+$/,H=3,K=2,G=1,W=10,Q=-2,Y=function(e){return"*"===e};function $(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=Q),t&&(r+=K),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(q.test(t)?H:""===t?G:W)}),r)}function X(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ie([i,l.pathname]),pathnameBase:ae(ie([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ie([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=p(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=c[n]||"";u=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o||"",r),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Z(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function te(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ne(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function re(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(L(!(i=D({},e)).pathname||!i.pathname.includes("?"),te("?","pathname","search",i)),L(!i.pathname||!i.pathname.includes("#"),te("#","pathname","hash",i)),L(!i.search||!i.search.includes("#"),te("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:oe(a),hash:se(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ie=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},oe=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},se=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n)}(N(Error));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var le=["post","put","patch","delete"],fe=(new Set(le),["get"].concat(le));new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ge=r.createContext(null);var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});var be=r.createContext(null);function ke(){return null!=r.useContext(ge)}function we(){return ke()||L(!1),r.useContext(ge).location}function xe(e){r.useContext(me).static||r.useLayoutEffect(e)}function Ce(){return r.useContext(ye).isDataRoute?function(){var e=Le(je.UseNavigateStable).router,t=Oe(Ae.UseNavigateStable),n=r.useRef(!1);xe((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,he({fromRouteId:t},i)))}),[e,t]);return i}():function(){ke()||L(!1);var e=r.useContext(de),t=r.useContext(me),n=t.basename,i=t.navigator,a=r.useContext(ye).matches,o=we().pathname,s=JSON.stringify(ne(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);xe((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=re(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ie([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return c}()}function Se(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ye).matches,a=we().pathname,o=JSON.stringify(ne(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return re(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ee(e,n,i){ke()||L(!1);var a,o=r.useContext(me).navigator,s=r.useContext(ye).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,we());if(n){var h,d="string"===typeof n?F(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||L(!1),a=d}else a=f;var p=a.pathname||"/",v=B(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ie([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ie([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ge.Provider,{value:{location:he({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ie(){var e=function(){var e,t=r.useContext(be),n=Pe(Ae.UseRouteError),i=Oe(Ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var _e=r.createElement(Ie,null),Ne=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return k(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Te(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function De(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||L(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||_e);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Te,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ne,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var je=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(je||{}),Ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ae||{});function Le(e){var t=r.useContext(de);return t||L(!1),t}function Pe(e){var t=r.useContext(pe);return t||L(!1),t}function Oe(e){var t=function(e){var t=r.useContext(ye);return t||L(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||L(!1),n.route.id}i.startTransition;function Re(e){L(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ke()&&L(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=F(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,x=v.state,C=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,I=r.useMemo((function(){var e=ee(g,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:C,key:E},navigationType:c}}),[d,g,b,w,C,E,c]);return null==I?null:r.createElement(me.Provider,{value:p},r.createElement(ge.Provider,{children:o,value:I}))}function Fe(e){var t=e.children,n=e.location;return Ee(Ue(t),n)}var Ve=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ve||{}),Be=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(m(t),[i]);if(e.type!==r.Fragment){e.type!==Re&&L(!1),e.props.index&&e.props.children&&L(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;var Ke=i.startTransition;function Ge(e){var t=e.basename,n=e.children,i=e.future,a=e.window,o=r.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),V((function(e,t){var n=e.location;return R("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:M(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,u=p(r.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1],f=(i||{}).v7_startTransition,h=r.useCallback((function(e){f&&Ke?Ke((function(){return l(e)})):l(e)}),[l,f]);return r.useLayoutEffect((function(){return s.listen(h)}),[s,h]),r.createElement(Me,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s})}var We="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=qe(e,He),p=r.useContext(me).basename,v=!1;if("string"===typeof l&&Qe.test(l)&&(n=l,We))try{var m=new URL(window.location.href),g=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=ee(g.pathname,p);g.origin===m.origin&&null!=y?l=y+g.search+g.hash:v=!0}catch(w){}var b=function(e,t){var n=(void 0===t?{}:t).relative;ke()||L(!1);var i=r.useContext(me),a=i.basename,o=i.navigator,s=Se(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ie([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=n.unstable_viewTransition,l=Ce(),f=we(),h=Se(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:M(f)===M(h);l(e,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:c})}}),[f,l,h,a,o,i,e,s,u,c])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});return r.createElement("a",ze({},d,{href:n||b,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var $e,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($e||($e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));var Je,Ze=n.p+"static/media/logo.485c248eafb241958eae.png",et=n(184),tt=function(){return(0,et.jsxs)("div",{className:"navbar",children:[(0,et.jsx)("div",{className:"logo-div",children:(0,et.jsx)("img",{src:Ze,alt:"",srcset:"",className:"logo"})}),(0,et.jsxs)("div",{className:"nav-links",children:[(0,et.jsx)("li",{children:(0,et.jsx)(Ye,{to:"/",className:"nav-link",children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:(0,et.jsx)("path",{d:"M3.12484 22.916C2.55192 22.916 2.0613 22.7119 1.65296 22.3035C1.24463 21.8952 1.04081 21.4049 1.04151 20.8327V9.37435H3.12484V20.8327H20.8332V22.916H3.12484ZM7.29151 18.7493C6.71859 18.7493 6.22796 18.5452 5.81963 18.1369C5.4113 17.7285 5.20748 17.2382 5.20817 16.666V5.20768H10.4165V3.12435C10.4165 2.55143 10.6207 2.06081 11.029 1.65248C11.4373 1.24414 11.9276 1.04032 12.4998 1.04102H16.6665C17.2394 1.04102 17.73 1.24518 18.1384 1.65352C18.5467 2.06185 18.7505 2.55213 18.7498 3.12435V5.20768H23.9582V16.666C23.9582 17.2389 23.754 17.7296 23.3457 18.1379C22.9373 18.5462 22.4471 18.75 21.8748 18.7493H7.29151ZM12.4998 5.20768H16.6665V3.12435H12.4998V5.20768Z",fill:"#C3FCF2"})})})}),(0,et.jsx)("li",{children:(0,et.jsx)(Ye,{to:"/cases",className:"nav-link",children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:[(0,et.jsxs)("g",{"clip-path":"url(#clip0_460_979)",children:[(0,et.jsx)("path",{d:"M6.25 14.0625H12.5V17.1875H6.25V14.0625Z",fill:"#C3FCF2"}),(0,et.jsx)("path",{d:"M25 3.125H23.4375V0H7.8125V3.125H4.6875V5.07812L3.75 6.25H1.5625V8.98438L0 10.9375V25H18.75L25 17.1875V3.125ZM3.125 7.8125H15.625V10.9375H3.125V7.8125ZM17.1875 23.4375H1.5625V12.5H17.1875V23.4375ZM18.75 10.9375H17.1875V6.25H6.25V4.6875H18.75V10.9375ZM21.875 7.03125L20.3125 8.98438V3.125H9.375V1.5625H21.875V7.03125Z",fill:"#C3FCF2"})]}),(0,et.jsx)("defs",{children:(0,et.jsx)("clipPath",{id:"clip0_460_979",children:(0,et.jsx)("rect",{width:"25",height:"25",fill:"white"})})})]})})}),(0,et.jsx)("li",{children:(0,et.jsx)(Ye,{to:"/officers",className:"nav-link",children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:(0,et.jsx)("path",{d:"M12.5 3.12891C12.09 3.12891 11.6841 3.20966 11.3053 3.36654C10.9265 3.52343 10.5824 3.75339 10.2925 4.04328C10.0026 4.33317 9.77265 4.67733 9.61576 5.05609C9.45887 5.43485 9.37812 5.84081 9.37812 6.25078C9.37812 6.66075 9.45887 7.06671 9.61576 7.44547C9.77265 7.82423 10.0026 8.16839 10.2925 8.45828C10.5824 8.74817 10.9265 8.97813 11.3053 9.13502C11.6841 9.29191 12.09 9.37266 12.5 9.37266C13.328 9.37266 14.122 9.04375 14.7075 8.45828C15.293 7.87282 15.6219 7.07875 15.6219 6.25078C15.6219 5.42281 15.293 4.62875 14.7075 4.04328C14.122 3.45782 13.328 3.12891 12.5 3.12891ZM19.5312 4.68828C18.9096 4.68828 18.3135 4.93521 17.874 5.37475C17.4344 5.81429 17.1875 6.41043 17.1875 7.03203C17.1875 7.65363 17.4344 8.24977 17.874 8.68931C18.3135 9.12885 18.9096 9.37578 19.5312 9.37578C20.1529 9.37578 20.749 9.12885 21.1885 8.68931C21.6281 8.24977 21.875 7.65363 21.875 7.03203C21.875 6.41043 21.6281 5.81429 21.1885 5.37475C20.749 4.93521 20.1529 4.68828 19.5312 4.68828ZM5.46875 4.68828C4.84715 4.68828 4.25101 4.93521 3.81147 5.37475C3.37193 5.81429 3.125 6.41043 3.125 7.03203C3.125 7.65363 3.37193 8.24977 3.81147 8.68931C4.25101 9.12885 4.84715 9.37578 5.46875 9.37578C6.09035 9.37578 6.68649 9.12885 7.12603 8.68931C7.56557 8.24977 7.8125 7.65363 7.8125 7.03203C7.8125 6.41043 7.56557 5.81429 7.12603 5.37475C6.68649 4.93521 6.09035 4.68828 5.46875 4.68828ZM7.8125 12.4898C7.81539 12.0773 7.98128 11.6827 8.27399 11.3921C8.56671 11.1014 8.96249 10.9383 9.375 10.9383H15.625C16.0394 10.9383 16.4368 11.1029 16.7299 11.3959C17.0229 11.689 17.1875 12.0864 17.1875 12.5008V17.1883C17.1874 17.68 17.1104 18.1687 16.9594 18.6367C16.6134 19.6972 15.9007 20.5996 14.9492 21.1819C13.9978 21.7642 12.8699 21.9882 11.7682 21.8137C10.6664 21.6392 9.66294 21.0777 8.93794 20.23C8.21294 19.3822 7.81391 18.3038 7.8125 17.1883V12.4898ZM6.25 12.5008C6.25 11.9305 6.40156 11.3977 6.66875 10.9383H3.125C2.7106 10.9383 2.31317 11.1029 2.02015 11.3959C1.72712 11.689 1.5625 12.0864 1.5625 12.5008V16.407C1.56229 17.0466 1.7191 17.6764 2.01918 18.2412C2.31925 18.8059 2.7534 19.2884 3.2835 19.6462C3.81361 20.0039 4.42344 20.2261 5.05946 20.2931C5.69548 20.3601 6.33823 20.2699 6.93125 20.0305C6.48153 19.1501 6.248 18.1753 6.25 17.1867V12.5008ZM18.75 12.5008V17.1883C18.75 18.2117 18.5047 19.1773 18.0688 20.0305C18.6618 20.2699 19.3045 20.3601 19.9405 20.2931C20.5766 20.2261 21.1864 20.0039 21.7165 19.6462C22.2466 19.2884 22.6808 18.8059 22.9808 18.2412C23.2809 17.6764 23.4377 17.0466 23.4375 16.407V12.5008C23.4375 12.0864 23.2729 11.689 22.9799 11.3959C22.6868 11.1029 22.2894 10.9383 21.875 10.9383H18.3313C18.5969 11.3977 18.75 11.9305 18.75 12.5008Z",fill:"#C3FCF2"})})})}),(0,et.jsx)("li",{children:(0,et.jsx)(Ye,{to:"/EvidencePortal",className:"nav-link",children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"26",viewBox:"0 0 25 26",fill:"none",children:[(0,et.jsxs)("g",{"clip-path":"url(#clip0_460_975)",children:[(0,et.jsx)("path",{d:"M13.7724 0H1.19854C0.600295 0 0.00195312 0.598244 0.00195312 1.19795V17.0646C0.00195312 17.8109 0.451393 18.7113 1.04895 19.0103L11.5267 25.1477C12.1257 25.5957 13.0238 25.5957 13.4732 25.1477L23.9503 19.0103C24.5485 18.561 24.9979 17.8123 24.9979 17.0646V1.19795C24.9979 0.44944 24.399 0.000683484 23.8007 0.000683484H13.7724V0Z",fill:"#C3FCF2"}),(0,et.jsx)("path",{d:"M19.6099 7.0356L12.575 11.2257L5.54034 7.0356H19.6099ZM19.6099 14.0704L12.5751 18.2618L5.54043 14.0703V8.68153L12.5745 12.8731L19.6093 8.68143V14.0704H19.6099ZM20.2089 5.53916H4.94063C4.64146 5.53916 4.34229 5.83833 4.34229 6.28699V14.0719C4.34229 14.3716 4.34229 14.97 4.94063 15.2677C5.53955 15.7171 12.5744 19.9085 12.5744 19.9085C12.5744 19.9085 19.6092 15.7185 20.2089 15.2677C20.8064 14.8197 20.8064 14.3709 20.8064 14.0719V6.28699C20.8064 5.83833 20.6575 5.53916 20.2089 5.53916Z",fill:"white"}),(0,et.jsx)("path",{d:"M12.5744 0H1.19844C0.600197 0 0.00195312 0.598244 0.00195312 1.19795V17.0646C0.00195312 17.8109 0.451393 18.7113 1.04895 19.0103L11.5268 25.1477C11.8257 25.2966 12.1257 25.4469 12.5737 25.4469L12.5744 0Z",fill:"#231F1F","fill-opacity":"0.1"})]}),(0,et.jsx)("defs",{children:(0,et.jsx)("clipPath",{id:"clip0_460_975",children:(0,et.jsx)("rect",{width:"25",height:"25.4842",fill:"white"})})})]})})})]})]})},nt=function(){return(0,et.jsx)("div",{children:"Home"})};function rt(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rt(Je={region:"IN",displayMode:"markers",colorAxis:{colors:["#FFFFFF","red"]},backgroundColor:"#212c3a",datalessRegionColor:"violet",defaultColor:"blue"},"displayMode","regions"),rt(Je,"resolution","provinces"),rt(Je,"magnifyingGlass",{enable:!0,zoomFactor:5});var it=n.p+"static/media/userpfp.7cbda25998fabc6105a0.png",at=function(){var e=p((0,r.useState)(!1),2),t=e[0],n=e[1],i={color:t?"red":"white",fontWeight:"bold",cursor:"pointer",transition:"0.3s ease-in",backgroundColor:"unset",padding:"5px",borderRadius:"5px",display:"inline-block",border:"1.3px solid red"};return(0,et.jsxs)("div",{className:"nav-top",children:[(0,et.jsx)("div",{className:"search",children:(0,et.jsx)("input",{class:"mainLoginInput",type:"text",placeholder:"Search a keyword here.."})}),(0,et.jsxs)("div",{className:"nav-top-links",style:{marginLeft:"25%"},children:[(0,et.jsx)(Ye,{to:"/RegistereCase",children:(0,et.jsx)("div",{className:"navTop-registerCase-ttl",style:i,onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:"Register a Case"})}),(0,et.jsx)(Ye,{to:"/communications",children:(0,et.jsx)("div",{className:"Interactionlog",children:"Interaction log"})}),(0,et.jsx)("div",{children:(0,et.jsx)("img",{className:"userpfp",src:it,alt:"",srcset:""})}),(0,et.jsx)("div",{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",children:(0,et.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6493 7.70219L17.6765 7.11427C17.9664 6.94816 18.1741 6.67946 18.2611 6.35733C18.3479 6.035 18.304 5.69908 18.1365 5.41192L17.1913 3.78884C17.024 3.50149 16.753 3.29535 16.4279 3.20909C16.1033 3.12302 15.7641 3.16654 15.4743 3.33265L14.4468 3.92057C14.3071 4.00081 14.0561 3.98119 13.9305 3.87996C13.9189 3.87064 13.6475 3.65303 13.2552 3.42844C12.8688 3.20661 12.5398 3.08082 12.5238 3.0747L12.5236 3.07464C12.3726 3.01713 12.2297 2.81138 12.2297 2.65051V1.47507C12.2295 0.787482 11.6655 0.228516 10.9724 0.228516H9.08212C8.38899 0.228516 7.825 0.787482 7.825 1.47487V2.6507C7.825 2.81099 7.68214 3.01713 7.53105 3.07464C7.51734 3.07988 7.18733 3.20617 6.79952 3.42844C6.4072 3.65303 6.13579 3.87064 6.12462 3.87977C5.9992 3.98099 5.74836 4.00081 5.60805 3.92057L4.58022 3.33226C4.29039 3.16634 3.95196 3.12282 3.62665 3.20889C3.30174 3.29516 3.03053 3.5013 2.86318 3.78845L1.91804 5.41153C1.75068 5.69889 1.70659 6.03481 1.7936 6.35674C1.88061 6.67926 2.08833 6.94796 2.37797 7.11388L3.40541 7.70199C3.54533 7.78204 3.6537 8.00741 3.62783 8.16557C3.62548 8.17955 3.57198 8.5147 3.57198 8.97147C3.57198 9.42824 3.62548 9.763 3.62783 9.77699C3.6535 9.93494 3.54513 10.1605 3.40541 10.2406L2.37797 10.8285C2.08813 10.9944 1.88061 11.2633 1.7936 11.5858C1.70659 11.9077 1.75068 12.2441 1.91804 12.5312L2.86318 14.1543C3.21003 14.7492 3.97998 14.9536 4.58061 14.6105L5.60786 14.0226C5.74778 13.9421 5.99881 13.9621 6.12403 14.0632C6.13559 14.0725 6.4072 14.2903 6.79952 14.5151C7.18753 14.7377 7.51753 14.8638 7.53125 14.8689C7.68234 14.9264 7.8252 15.1323 7.8252 15.2928V16.4679C7.8252 17.1549 8.38918 17.7142 9.08231 17.7142H10.9726C11.6657 17.7142 12.2297 17.1549 12.2297 16.4679V15.2928C12.2297 15.1325 12.3726 14.9264 12.5236 14.8689C12.5374 14.8638 12.8678 14.7375 13.2556 14.5151C13.6481 14.2903 13.9199 14.0725 13.9311 14.0632C14.0565 13.9621 14.3079 13.9425 14.4476 14.0226L15.4743 14.6101C15.7641 14.7762 16.1031 14.8199 16.4279 14.7339C16.753 14.6476 17.0242 14.4413 17.1913 14.1541L18.1365 12.531C18.3038 12.2437 18.3479 11.9079 18.2611 11.586C18.1741 11.2635 17.9662 10.9944 17.6763 10.8287L16.6495 10.2408C16.5096 10.1607 16.4012 9.93553 16.4269 9.77718C16.4294 9.76319 16.4827 9.42824 16.4827 8.97167C16.4827 8.51451 16.429 8.17975 16.4267 8.16576C16.401 8.00761 16.5094 7.78223 16.6493 7.70219ZM15.8112 8.26349L15.8117 8.26742C15.817 8.30413 15.8588 8.59215 15.8588 8.97167C15.8588 9.37382 15.8121 9.67305 15.8112 9.679L15.8112 9.67907C15.7449 10.0877 15.9764 10.5697 16.3377 10.7764L17.3648 11.3641C17.5104 11.4477 17.6146 11.5831 17.6587 11.7461C17.7028 11.9085 17.6805 12.0777 17.5966 12.2219L16.6514 13.845C16.5672 13.9895 16.4308 14.0927 16.2666 14.1366C16.1027 14.1803 15.9321 14.1582 15.7863 14.0748L14.7598 13.4875C14.3988 13.2804 13.8619 13.3227 13.5382 13.5833C13.5358 13.5856 13.2908 13.7813 12.944 13.9798C12.6007 14.1764 12.3032 14.2911 12.3004 14.2919C11.9113 14.4399 11.6061 14.8798 11.6061 15.293V16.4681C11.6061 16.8143 11.3222 17.0958 10.973 17.0958H9.0827C8.73349 17.0958 8.44954 16.8143 8.44954 16.4681V15.293C8.44954 14.8798 8.14462 14.4397 7.75524 14.2917C7.7521 14.2905 7.45796 14.1782 7.11189 13.9798C6.76503 13.7813 6.52007 13.5856 6.51792 13.5833C6.19399 13.3227 5.65685 13.2802 5.29647 13.4875L4.60275 13.8842C4.55524 13.9118 4.48518 13.9518 4.37632 14.014L4.26942 14.075C3.96646 14.2483 3.57864 14.145 3.40423 13.8456L2.4591 12.2225C2.37503 12.0779 2.35288 11.9087 2.39698 11.7463C2.44087 11.5833 2.54532 11.4479 2.69073 11.3643L2.7262 11.3441L2.72626 11.344C2.89489 11.2478 2.97852 11.2 3.02347 11.1728L3.71719 10.7764C4.07855 10.5697 4.30959 10.0875 4.24355 9.67946L4.24341 9.67854C4.24059 9.65989 4.19593 9.36483 4.19593 8.97167C4.19593 8.5693 4.24266 8.26958 4.24354 8.26394L4.24355 8.26388C4.30998 7.85529 4.07874 7.37326 3.71719 7.16654L3.02191 6.76844L2.68975 6.57843C2.54434 6.49527 2.43989 6.35966 2.396 6.19685C2.3519 6.03423 2.37424 5.8652 2.45812 5.72065L3.40325 4.09757C3.48732 3.9534 3.62371 3.84985 3.78813 3.80633C3.95196 3.76261 4.12264 3.78476 4.26805 3.86753L5.29588 4.45583C5.65744 4.66275 6.19379 4.62059 6.51733 4.35985C6.51988 4.35772 6.76444 4.16265 7.11149 3.9637C7.45443 3.76708 7.75171 3.65265 7.75426 3.65187C8.14344 3.50382 8.44856 3.06434 8.44856 2.6507V1.47487C8.44856 1.12865 8.73251 0.846934 9.08172 0.846934H10.972C11.3212 0.846934 11.6052 1.12865 11.6052 1.47487V2.65031C11.6052 3.06395 11.9103 3.50382 12.2993 3.65167C12.3024 3.65284 12.5995 3.76708 12.9426 3.96351C13.2895 4.16226 13.5342 4.35752 13.5366 4.35966C13.8599 4.62039 14.3973 4.66275 14.758 4.45583L15.7855 3.86811C15.9309 3.78457 16.101 3.76261 16.2658 3.80652C16.43 3.85004 16.5664 3.9534 16.6505 4.09757L17.5956 5.72065C17.6797 5.8652 17.7018 6.03442 17.6577 6.19685C17.6136 6.35966 17.5094 6.49527 17.3638 6.57843L16.3373 7.16654C15.976 7.37326 15.7447 7.85529 15.8112 8.26349ZM10.0273 5.57007C8.1358 5.57007 6.5965 7.0962 6.5965 8.97186C6.5965 10.8475 8.1358 12.3735 10.0273 12.3735C11.9187 12.3735 13.458 10.8475 13.458 8.97186C13.458 7.0962 11.9187 5.57007 10.0273 5.57007ZM10.0273 11.7548C8.47972 11.7548 7.22065 10.5062 7.22065 8.97186C7.22065 7.43737 8.47972 6.18888 10.0273 6.18888C11.5748 6.18888 12.8339 7.43737 12.8339 8.97186C12.8339 10.5062 11.5748 11.7548 10.0273 11.7548Z",fill:"#D9D9D9"})})}),(0,et.jsx)("div",{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:(0,et.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.5566 0.228516C12.4986 0.228516 10.8397 1.60503 9.23531 2.93636C7.78314 4.14124 6.41152 5.27922 4.89119 5.27922H2.36946C1.27258 5.27922 0.380371 6.17265 0.380371 7.27146V8.95516C0.380371 10.0538 1.27258 10.9472 2.36946 10.9472H2.48137V14.8477C2.48137 15.9463 3.37378 16.8399 4.47065 16.8399H5.31116C6.40803 16.8399 7.30025 15.9463 7.30025 14.8477V11.8017C7.94249 12.2192 8.58048 12.7476 9.23473 13.2906C10.8393 14.6216 12.4982 15.9985 14.5562 15.9985C16.3788 15.9983 17.8064 12.5349 17.8064 8.1135C17.8064 3.6919 16.3788 0.228516 14.5566 0.228516ZM6.68414 14.8479C6.68414 15.606 6.06823 16.2227 5.31136 16.2227H4.47084C3.71378 16.2227 3.09786 15.606 3.09786 14.8479V10.9472H4.89119C5.50827 10.9472 6.10075 11.1371 6.68414 11.4402V14.8479ZM9.62836 12.8151C8.15606 11.5932 6.6336 10.3299 4.89119 10.3299H2.36946C1.61258 10.3299 0.996672 9.71323 0.996672 8.95515V7.27146C0.996672 6.51339 1.61258 5.8965 2.36946 5.8965H4.891C6.63341 5.8965 8.15567 4.63305 9.62817 3.41168C10.7043 2.51882 11.8066 1.60677 13.01 1.14871C11.9878 2.46278 11.3065 5.05911 11.3065 8.1135C11.3065 11.1673 11.9877 13.7638 13.0096 15.0775C11.8066 14.6198 10.7043 13.7078 9.62836 12.8151ZM14.5566 15.381C13.2847 15.381 11.923 12.4608 11.923 8.1135C11.923 3.76599 13.2845 0.8456 14.5566 0.8456C15.8283 0.8456 17.1901 3.76599 17.1901 8.1135C17.1899 12.4608 15.8283 15.381 14.5566 15.381Z",fill:"#D9D9D9"})})})]})]})};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ct=["onLoad","onError"];function lt(e){var t=e.chartVersion,n=void 0===t?"current":t,i=e.chartPackages,a=void 0===i?["corechart","controls"]:i,o=e.chartLanguage,s=void 0===o?"en":o,u=e.mapsApiKey,c=p((0,r.useState)(null),2),l=c[0],f=c[1],h=p((0,r.useState)(!1),2),d=h[0],v=h[1];return function(e,t,n){(0,r.useEffect)((function(){if(document){var r=document.querySelector('script[src="'.concat(e,'"]'));if(!(null===r||void 0===r?void 0:r.dataset.loaded)){var i=r||document.createElement("script");r||(i.src=e);var a=function(){i.dataset.loaded="1",null===t||void 0===t||t()};return i.addEventListener("load",a),n&&i.addEventListener("error",n),r||document.head.append(i),function(){i.removeEventListener("load",a),n&&i.removeEventListener("error",n)}}null===t||void 0===t||t()}}),[])}("https://www.gstatic.com/charts/loader.js",(function(){var e=null===window||void 0===window?void 0:window.google;e&&(e.charts.load(n,{packages:a,language:s,mapsApiKey:u}),e.charts.setOnLoadCallback((function(){f(e)})))}),(function(){v(!0)})),[l,d]}function ft(e){var t=e.onLoad,n=e.onError,i=p(lt(ut(e,ct)),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){a&&t&&t(a)}),[a]),(0,r.useEffect)((function(){o&&n&&n()}),[o]),null}var ht,dt={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:function(){},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}},pt=0,vt=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],mt=function(){var e=c(s().mark((function e(t,n){var r,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.abrupt("return",new Promise((function(e,i){var a="".concat(r.headers?"headers=".concat(r.headers):"headers=0"),o="".concat(r.query?"&tq=".concat(encodeURIComponent(r.query)):""),s="".concat(r.gid?"&gid=".concat(r.gid):""),u="".concat(r.sheet?"&sheet=".concat(r.sheet):""),c="".concat(r.access_token?"&access_token=".concat(r.access_token):""),l="".concat(a).concat(s).concat(u).concat(o).concat(c),f="".concat(n,"/gviz/tq?").concat(l);new t.visualization.Query(f).send((function(t){t.isError()?i("Error in query:  ".concat(t.getMessage()," ").concat(t.getDetailedMessage())):e(t.getDataTable())}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gt=r.createContext(dt),yt=gt.Provider,bt=gt.Consumer,kt=function(e){var t=e.children,n=e.value;return r.createElement(yt,{value:n},t)},wt=function(e){var t=e.render;return r.createElement(bt,null,(function(e){return t(e)}))},xt=function(e){x(n,e);var t=I(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={hiddenColumns:[]},e.listenToLegendToggle=function(){var t=e.props,n=t.google,r=t.googleChartWrapper;n.visualization.events.addListener(r,"select",(function(){var t=r.getChart().getSelection(),n=r.getDataTable();if(0!==t.length&&!t[0].row&&n){var i=t[0].column,a=e.getColumnID(n,i);e.state.hiddenColumns.includes(a)?e.setState((function(e){return st(st({},e),{},{hiddenColumns:m(e.hiddenColumns.filter((function(e){return e!==a})))})})):e.setState((function(e){return st(st({},e),{},{hiddenColumns:[].concat(m(e.hiddenColumns),[a])})}))}}))},e.applyFormatters=function(t,n){var r,i=e.props.google,a=T(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.type){case"ArrowFormat":new i.visualization.ArrowFormat(o.options).format(t,o.column);break;case"BarFormat":new i.visualization.BarFormat(o.options).format(t,o.column);break;case"ColorFormat":var s,u=new i.visualization.ColorFormat(o.options),c=T(o.ranges);try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addRange.apply(u,m(l))}}catch(f){c.e(f)}finally{c.f()}u.format(t,o.column);break;case"DateFormat":new i.visualization.DateFormat(o.options).format(t,o.column);break;case"NumberFormat":new i.visualization.NumberFormat(o.options).format(t,o.column);break;case"PatternFormat":new i.visualization.PatternFormat(o.options).format(t,o.column)}}}catch(f){a.e(f)}finally{a.f()}},e.getColumnID=function(e,t){return e.getColumnId(t)||e.getColumnLabel(t)},e.draw=function(){var t=c(s().mark((function t(n){var r,i,a,o,u,c,l,f,h,d,p,v,g,y,b,k,w,x,C,S,E,I,_,N,T;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.data,i=n.diffdata,a=n.rows,o=n.columns,u=n.options,c=n.legend_toggle,l=n.legendToggle,f=n.chartType,h=n.formatters,d=n.spreadSheetUrl,p=n.spreadSheetQueryParameters,v=e.props,g=v.google,y=v.googleChartWrapper,k=null,i&&(w=g.visualization.arrayToDataTable(i.old),x=g.visualization.arrayToDataTable(i.new),k=g.visualization[f].prototype.computeDiff(w,x)),null===r){t.next=8;break}b=Array.isArray(r)?g.visualization.arrayToDataTable(r):new g.visualization.DataTable(r),t.next=19;break;case 8:if(!a||!o){t.next=12;break}b=g.visualization.arrayToDataTable([o].concat(m(a))),t.next=19;break;case 12:if(!d){t.next=18;break}return t.next=15,mt(g,d,p);case 15:b=t.sent,t.next=19;break;case 18:b=g.visualization.arrayToDataTable([]);case 19:for(C=b.getNumberOfColumns(),S=0;S<C;S+=1)E=e.getColumnID(b,S),e.state.hiddenColumns.includes(E)&&(I=b.getColumnLabel(S),_=b.getColumnId(S),N=b.getColumnType(S),b.removeColumn(S),b.addColumn({label:I,id:_,type:N}));return T=y.getChart(),"Timeline"===y.getChartType()&&T&&T.clearChart(),y.setChartType(f),y.setOptions(u||{}),y.setDataTable(b),y.draw(),null!==e.props.googleChartDashboard&&e.props.googleChartDashboard.draw(b),k&&(y.setDataTable(k),y.draw()),h&&(e.applyFormatters(b,h),y.setDataTable(b),y.draw()),!0!==l&&!0!==c||e.grayOutHiddenColumns({options:u}),t.abrupt("return");case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.grayOutHiddenColumns=function(t){var n=t.options,r=e.props.googleChartWrapper,i=r.getDataTable();if(i){var a=i.getNumberOfColumns();if(!1!==e.state.hiddenColumns.length>0){var o=Array.from({length:a-1}).map((function(t,r){var a=e.getColumnID(i,r+1);return e.state.hiddenColumns.includes(a)?"#CCCCCC":n&&n.colors?n.colors[r]:vt[r]}));r.setOptions(st(st({},n),{},{colors:o})),r.draw()}}},e.onResize=function(){e.props.googleChartWrapper.draw()},e}return k(n,[{key:"componentDidMount",value:function(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.google,n=e.googleChartWrapper;window.removeEventListener("resize",this.onResize),t.visualization.events.removeAllListeners(n),"Timeline"===n.getChartType()&&n.getChart()&&n.getChart().clearChart()}},{key:"componentDidUpdate",value:function(){this.draw(this.props)}},{key:"render",value:function(){return null}}]),n}(r.Component),Ct=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.google,n=e.googleChartWrapper,i=e.googleChartDashboard;return r.createElement(wt,{render:function(e){return r.createElement(xt,Object.assign({},e,{google:t,googleChartWrapper:n,googleChartDashboard:i}))}})}}]),n}(r.Component),St=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).propsFromContext=null,r}return k(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"listenToEvents",value:function(e){var t=this,n=e.chartEvents,r=e.google,i=e.googleChartWrapper;if(n){r.visualization.events.removeAllListeners(i);var a,o=T(n);try{var s,u=function(){var e=a.value;s=t;var n=e.eventName,o=e.callback;r.visualization.events.addListener(i,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o({chartWrapper:i,props:s.props,google:r,eventArgs:t})}))};for(o.s();!(a=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}}}},{key:"componentDidMount",value:function(){var e,t=this.props,n=t.google,r=t.googleChartWrapper;this.listenToEvents({chartEvents:(null===(e=this.propsFromContext)||void 0===e?void 0:e.chartEvents)||null,google:n,googleChartWrapper:r})}},{key:"render",value:function(){var e=this;return this.props,r.createElement(wt,{render:function(t){return e.propsFromContext=t,null}})}}]),n}(r.Component),Et=0,It=function(e){x(n,e);var t=I(n);function n(){for(var e,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return g(this,n),e=t.call.apply(t,[this].concat(o)),i=E(e),e.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},e.graphID=null,e.dashboard_ref=r.createRef(),e.toolbar_ref=r.createRef(),e.getGraphID=function(){var t,n=e.props,r=n.graphID,i=n.graph_id;return t=r||i?r&&!i?r:i&&!r?i:r:e.graphID?e.graphID:"reactgooglegraph-".concat(pt+=1),e.graphID=t,e.graphID},e.getControlID=function(e,t){return Et+=1,"undefined"===typeof e?"googlechart-control-".concat(t,"-").concat(Et):e},e.addControls=function(t,n){var r=e.props,i=r.google,a=r.controls,o=a?a.map((function(t,n){var r=t.controlID,a=t.controlType,o=t.options,s=t.controlWrapperParams,u=e.getControlID(r,n);return{controlProp:t,control:new i.visualization.ControlWrapper(st({containerId:u,controlType:a,options:o},s))}})):null;if(!o)return null;n.bind(o.map((function(e){return e.control})),t);var s,u=T(o);try{var c,l=function(){var n,r=s.value,a=r.control,o=r.controlProp.controlEvents,u=T(void 0===o?[]:o);try{var l=function(){var r=n.value;c=E(e);var o=r.callback,s=r.eventName;i.visualization.events.removeListener(a,s,o),i.visualization.events.addListener(a,s,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];o({chartWrapper:t,controlWrapper:a,props:c.props,google:i,eventArgs:n})}))};for(u.s();!(n=u.n()).done;)l()}catch(f){u.e(f)}finally{u.f()}};for(u.s();!(s=u.n()).done;)l()}catch(f){u.e(f)}finally{u.f()}return o},e.renderChart=function(){var t=e.props,n=t.width,i=t.height,a=t.options,o=t.style,s=t.className,u=t.rootProps,c=t.google,l=st({height:i||a&&a.height,width:n||a&&a.width},o);return r.createElement("div",Object.assign({id:e.getGraphID(),style:l,className:s},u),e.state.isReady&&null!==e.state.googleChartWrapper?r.createElement(r.Fragment,null,r.createElement(Ct,{googleChartWrapper:e.state.googleChartWrapper,google:c,googleChartDashboard:e.state.googleChartDashboard}),r.createElement(St,{googleChartWrapper:e.state.googleChartWrapper,google:c})):null)},e.renderControl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return i.state.isReady&&null!==i.state.googleChartControls?r.createElement(r.Fragment,null,i.state.googleChartControls.filter((function(t){var n=t.controlProp,r=t.control;return e({control:r,controlProp:n})})).map((function(e){var t=e.control;e.controlProp;return r.createElement("div",{key:t.getContainerId(),id:t.getContainerId()})}))):null},e.renderToolBar=function(){return e.props.toolbarItems?r.createElement("div",{ref:e.toolbar_ref}):null},e}return k(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.google,r=e.chartType,i=e.chartWrapperParams,a=e.toolbarItems,o=e.getChartEditor,s=e.getChartWrapper,u=st({chartType:r,options:t,containerId:this.getGraphID()},i),c=new n.visualization.ChartWrapper(u);c.setOptions(t||{}),s&&s(c,n);var l=new n.visualization.Dashboard(this.dashboard_ref),f=this.addControls(c,l);a&&n.visualization.drawToolbar(this.toolbar_ref.current,a);var h=null;o&&o({chartEditor:h=new n.visualization.ChartEditor,chartWrapper:c,google:n}),this.setState({googleChartEditor:h,googleChartControls:f,googleChartDashboard:l,googleChartWrapper:c,isReady:!0})}},{key:"componentDidUpdate",value:function(){if(this.state.googleChartWrapper&&this.state.googleChartDashboard&&this.state.googleChartControls){var e=this.props.controls;if(e)for(var t=0;t<e.length;t+=1){var n=e[t],r=n.controlType,i=n.options,a=n.controlWrapperParams;a&&"state"in a&&this.state.googleChartControls[t].control.setState(a.state),this.state.googleChartControls[t].control.setOptions(i),this.state.googleChartControls[t].control.setControlType(r)}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.isReady!==t.isReady||e.controls!==this.props.controls}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,i=e.options,a=e.style,o=st({height:n||i&&i.height,width:t||i&&i.width},a);return this.props.render?r.createElement("div",{ref:this.dashboard_ref,style:o},r.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):r.createElement("div",{ref:this.dashboard_ref,style:o},this.renderControl((function(e){return"bottom"!==e.controlProp.controlPosition})),this.renderChart(),this.renderControl((function(e){return"bottom"===e.controlProp.controlPosition})),this.renderToolBar())}}]),n}(r.Component),_t=function(e){x(n,e);var t=I(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i)))._isMounted=!1,e.state={loadingStatus:"loading",google:null},e.onLoad=function(t){if(e.props.onLoad&&e.props.onLoad(t),e.isFullyLoaded(t))e.onSuccess(t);else var n=setInterval((function(){var t=window.google;e._isMounted?t&&e.isFullyLoaded(t)&&(clearInterval(n),e.onSuccess(t)):clearInterval(n)}),1e3)},e.onSuccess=function(t){e.setState({loadingStatus:"ready",google:t})},e.onError=function(){e.setState({loadingStatus:"errored"})},e}return k(n,[{key:"render",value:function(){var e=this.props,t=e.chartLanguage,n=e.chartPackages,i=e.chartVersion,a=e.mapsApiKey,o=e.loader,s=e.errorElement;return r.createElement(kt,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?r.createElement(It,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&s?s:o,r.createElement(ft,{chartLanguage:t,chartPackages:n,chartVersion:i,mapsApiKey:a,onLoad:this.onLoad,onError:this.onError}))}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"isFullyLoaded",value:function(e){var t=this.props,n=t.controls,r=t.toolbarItems,i=t.getChartEditor;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!n||e.visualization.ChartWrapper)&&(!i||e.visualization.ChartEditor)&&(!r||e.visualization.drawToolbar)}}]),n}(r.Component);_t.defaultProps=dt,function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"}(ht||(ht={}));var Nt,Tt=[["State","Crime Count"],["Andhra Pradesh",1200],["Arunachal Pradesh",200],["Assam",800],["Bihar",1500],["Chhattisgarh",1e3],["Goa",50],["Gujarat",1200],["Haryana",700],["Himachal Pradesh",300],["Jharkhand",800],["Karnataka",1300],["Kerala",600],["Madhya Pradesh",1400],["Maharashtra",1800],["Manipur",100],["Meghalaya",150],["Mizoram",50],["Nagaland",80],["Odisha",900],["Punjab",500],["Rajasthan",1100],["Sikkim",30],["Tamil Nadu",1200],["Telangana",1e3],["Tripura",70],["Uttar Pradesh",1800],["Uttarakhand",300],["West Bengal",1200]],Dt=(rt(Nt={region:"IN",displayMode:"markers",colorAxis:{colors:["#FFFFFF","red"]},backgroundColor:"#212c3a",datalessRegionColor:"violet",defaultColor:"blue"},"displayMode","regions"),rt(Nt,"resolution","provinces"),rt(Nt,"magnifyingGlass",{enable:!0,zoomFactor:5}),Nt),jt=function(){return(0,et.jsx)(_t,{chartType:"GeoChart",width:"90%",height:"90%",data:Tt,options:Dt})},At=function(){return(0,et.jsxs)("div",{style:{marginTop:"50px"},children:[(0,et.jsxs)("div",{className:"lineChartTop ",children:[(0,et.jsx)("h3",{className:"pastMonths",children:"Past month"}),(0,et.jsx)("h3",{className:"svnDays activeMonthLineChart",children:"7 days"})]}),(0,et.jsx)(_t,{chartType:"AreaChart",width:"75.4%",height:"80%",data:[["Date","Crime Rate"],["2023-10-01",10],["2023-10-02",8],["2023-10-03",12],["2023-10-04",9],["2023-10-05",11],["2023-10-06",7],["2023-10-07",14],["2023-10-08",13],["2023-10-09",10],["2023-10-10",11],["2023-10-11",9],["2023-10-12",12],["2023-10-13",8],["2023-10-14",10],["2023-10-15",11],["2023-10-16",9],["2023-10-17",13],["2023-10-18",12],["2023-10-19",8],["2023-10-20",10],["2023-10-21",7],["2023-10-22",11],["2023-10-23",9],["2023-10-24",12],["2023-10-25",10],["2023-10-26",13],["2023-10-27",14],["2023-10-28",12],["2023-10-29",11],["2023-10-30",10],["2023-10-31",9]],options:{title:"Crime Rate in Chandigarh (Past One Month)",hAxis:{title:"Date",titleTextStyle:{color:"white"},textStyle:{color:"white"}},vAxis:{title:"Crime Rate",textStyle:{color:"white"},titleTextStyle:{color:"white"}},legend:"none",backgroundColor:"#14161F",titleTextStyle:{color:"white"}}})]})},Lt=[{casetype1:"case1"},{casetype2:"case2"}],Pt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"lastCaseMainContainer",children:[(0,et.jsxs)("div",{className:"casetypecontainer",data:Lt,children:[(0,et.jsx)("div",{className:"casetype1",children:"Casetype1"}),(0,et.jsx)("div",{className:"casetype2",children:"Casetype2"})]}),(0,et.jsx)("h2",{children:"Case Name"}),(0,et.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem modi similique dicta, assumenda odit unde hic itaque perspiciatis nostrum iure."}),(0,et.jsx)("div",{className:"caseStatus",children:"Forwarded to higher authority"})]})})},Ot=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"fwdMainContainer",children:[(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]}),(0,et.jsxs)("div",{className:"fwdcaseitem",children:[(0,et.jsxs)("div",{className:"fwdtop",children:[(0,et.jsx)("h4",{children:"Case Id "}),(0,et.jsx)("h4",{id:"casename",children:" Case Name"})]}),(0,et.jsx)("span",{className:"date",children:"13/12/23"}),(0,et.jsx)("span",{className:"fwdupdate",children:"Closed"})]})]})})};n(164);"undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var Rt=n.p+"static/media/police1.51a610a290bf6f263359.jpeg",Mt=n.p+"static/media/police2.3476105dad50725abbc5.jpeg",Ft=n.p+"static/media/police3.9c6a7a260371a96ac514.jpeg",Vt=n.p+"static/media/capture.8d71598b81eed1b728af.png",Bt=n(97),Ut=n.n(Bt),zt=function(){var e=p((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"loginMainContaier",children:[(0,et.jsxs)("div",{className:"leftImagesContainer",children:[(0,et.jsx)("img",{src:Rt,alt:""}),(0,et.jsx)("img",{src:Mt,alt:""}),(0,et.jsx)("img",{src:Ft,alt:""})]}),(0,et.jsxs)("div",{className:"loginFieldContainer",children:[(0,et.jsx)("img",{src:Ze,alt:""}),(0,et.jsxs)("div",{className:"loginInputContainer",children:[(0,et.jsxs)("fieldset",{children:[(0,et.jsx)("legend",{id:"officerIdLabel",children:"Officer Id"}),(0,et.jsx)("input",{type:"text","aria-labelledby":"officerIdLabel"})]}),(0,et.jsxs)("fieldset",{children:[(0,et.jsx)("legend",{id:"passwordLabel",children:"Password"}),(0,et.jsx)("input",{type:"text","aria-labelledby":"passwordLabel"})]}),(0,et.jsxs)("div",{className:"faceScanContainer",id:"scanFace",onClick:function(){var e=document.querySelector('input[aria-labelledby="officerIdLabel"]'),t=document.querySelector('input[aria-labelledby="passwordLabel"]');if(e&&t){var r=e.value,i=t.value;r&&i?(console.log("cam Opened"),n(!0),setTimeout((function(){n(!1),console.log("cam Closed"),document.querySelector(".loginInputContainer").style.display="none",document.querySelector(".loginMsg").style.display="flex"}),5e3)):console.log("Please fill in Officer Id and Password before scanning.")}else console.error("Could not find input elements.")},children:[(0,et.jsx)("img",{src:Vt,alt:""}),(0,et.jsx)("p",{children:"Scan with your face to open"})]})]}),(0,et.jsx)("div",{className:"webcamContainer",children:t&&(0,et.jsx)(Ut(),{})})]}),(0,et.jsxs)("div",{className:"rightImagesContainer",children:[(0,et.jsx)("img",{src:Rt,alt:""}),(0,et.jsx)("img",{src:Mt,alt:""}),(0,et.jsx)("img",{src:Ft,alt:""})]}),(0,et.jsxs)("div",{className:"loginMsg",children:[(0,et.jsx)("h2",{children:"Loggedin Succesfully"}),(0,et.jsx)("p",{children:"redirecting to dashboard..."})]})]})})},qt=n.p+"static/media/policepfp.9e403569f9806945a9cb.jpg",Ht=["Constable","Sub-Inspector","Inspector","DSP","SP","DIG","IG","ADG","DGP"],Kt=[{id:1,name:"Officer 1",rank:"Constable",station:"Station 1"},{id:2,name:"Officer 2",rank:"Sub-Inspector",station:"Station 2"},{id:3,name:"Officer 3",rank:"Inspector",station:"Station 3"},{id:4,name:"Officer 4",rank:"DSP",station:"Station 4"},{id:5,name:"Officer 5",rank:"SP",station:"Station 5"},{id:6,name:"Officer 6",rank:"DIG",station:"Station 6"},{id:7,name:"Officer 7",rank:"IG",station:"Station 7"},{id:8,name:"Officer 8",rank:"ADG",station:"Station 8"},{id:9,name:"Officer 9",rank:"DGP",station:"Station 9"},{id:12,name:"Officer 2",rank:"Sub-Inspector",station:"Station 2"},{id:13,name:"Officer 3",rank:"Inspector",station:"Station 3"}],Gt=function(){var e=p((0,r.useState)(null),2),t=e[0],n=e[1],i=t?Kt.filter((function(e){return e.rank===t})):Kt;return(0,et.jsxs)("div",{className:"officers-page",children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"police-list",children:[(0,et.jsxs)("div",{className:"ranks",children:[(0,et.jsx)("h2",{className:"ranks-head",children:"Officers"}),(0,et.jsx)("ul",{children:Ht.map((function(e,r){return(0,et.jsx)("li",{onClick:function(){return function(e){n(e)}(e)},className:e===t?"selected":"",children:e},r)}))})]}),(0,et.jsx)("div",{className:"officers",children:(0,et.jsxs)("div",{className:"Cases officers-list",children:[(0,et.jsx)("input",{className:"mainLoginInput CaseSearch",type:"text",placeholder:"Search..."}),(0,et.jsx)("div",{className:"data-container officer-data-container",children:i.map((function(e){return(0,et.jsxs)("div",{className:"officer-list",children:[(0,et.jsxs)("div",{className:"officer-list-top",children:[(0,et.jsx)("div",{children:(0,et.jsx)("img",{src:qt,alt:"",className:"policepfp"})}),(0,et.jsxs)("div",{children:[(0,et.jsx)("div",{className:"officer-list-name",children:"Name"}),(0,et.jsx)("div",{className:"officer-list-rank",children:"Rank"})]})]}),(0,et.jsxs)("div",{className:"officer-list-bottom",children:[(0,et.jsxs)("div",{className:"contact-details",children:[(0,et.jsx)("div",{children:" 9990000343    "}),(0,et.jsx)("div",{children:"sukhuna lake, chandigarh"})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("div",{className:"officer-list-about",children:"About :"}),(0,et.jsxs)("div",{className:"officer-list-desc",children:[(0,et.jsx)("span",{className:"exp",children:"Year of experience:  11Years"}),(0,et.jsx)("span",{className:"achievements",children:"Achievements: Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rerum delectus facilis voluptatum?"}),(0,et.jsx)("span",{className:""})]})]})]})]})}))})]})})]})]})},Wt=function(){var e=p((0,r.useState)({complaineeName:"",complaineePhoneNumber:"",victimName:"",victimPhoneNumber:"",timeOfIncident:"",dateOfIncident:"",locationOfIncident:"",typeOfIncident:"",descriptionOfIncident:"",suspectName:"",knownInformation:"",addressOfSuspect:"",typeOfSuspect:"",evidenceDescription:""}),2),t=e[0],n=e[1],i=function(e){var r=e.target,i=r.name,a=r.value;n(st(st({},t),{},rt({},i,a)))},a=function(){var e=c(s().mark((function e(r){var i,a,o,u,c,l,f,h,d,p,v,m,g,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i=t.complaineeName,a=t.complaineePhoneNumber,o=t.victimName,u=t.victimPhoneNumber,c=t.timeOfIncident,l=t.dateOfIncident,f=t.locationOfIncident,h=t.typeOfIncident,d=t.descriptionOfIncident,p=t.suspectName,v=t.knownInformation,m=t.addressOfSuspect,g=t.typeOfSuspect,y=t.evidenceDescription,e.next=4,fetch("https://ct-test-eb719-default-rtdb.firebaseio.com/registeredCases.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({complaineeName:i,complaineePhoneNumber:a,victimName:o,victimPhoneNumber:u,timeOfIncident:c,dateOfIncident:l,locationOfIncident:f,typeOfIncident:h,descriptionOfIncident:d,suspectName:p,knownInformation:v,addressOfSuspect:m,typeOfSuspect:g,evidenceDescription:y})});case 4:e.sent&&n({complaineeName:"",complaineePhoneNumber:"",victimName:"",victimPhoneNumber:"",timeOfIncident:"",dateOfIncident:"",locationOfIncident:"",typeOfIncident:"",descriptionOfIncident:"",suspectName:"",knownInformation:"",addressOfSuspect:"",typeOfSuspect:"",evidenceDescription:""}),alert("Submitted");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(at,{className:"navtop-register"}),(0,et.jsxs)("div",{className:"registercasecontainer",children:[(0,et.jsx)("h1",{children:"Register a New Case"}),(0,et.jsxs)("form",{onSubmit:a,method:"POST",children:[(0,et.jsxs)("div",{className:"basicDetailsContainer",children:[(0,et.jsx)("h3",{children:"Basic details"}),(0,et.jsxs)("div",{className:"complaineeDetails",children:[(0,et.jsx)("input",{type:"text",name:"complaineeName",placeholder:"Name of complainee",onChange:i}),(0,et.jsx)("input",{type:"number",name:"complaineePhoneNumber",placeholder:"Phone Number",onChange:i})]}),(0,et.jsxs)("div",{className:"victimDetails",children:[(0,et.jsx)("input",{type:"text",name:"victimName",placeholder:"Name of victim",onChange:i}),(0,et.jsx)("input",{type:"number",name:"victimPhoneNumber",placeholder:"Victim's phone number",onChange:i})]})]}),(0,et.jsxs)("div",{className:"incidentDetailsContainer",children:[(0,et.jsx)("h3",{children:"Incident Details"}),(0,et.jsxs)("div",{className:"timeanddateofincident",children:[(0,et.jsx)("input",{type:"time",name:"timeOfIncident",placeholder:"Time of incident",onChange:i})," ",(0,et.jsx)("p",{children:"*"}),(0,et.jsx)("input",{type:"date",name:"dateOfIncident",placeholder:"Date of incident",onChange:i})]}),(0,et.jsxs)("div",{className:"locationandtypeofincident",children:[(0,et.jsx)("input",{type:"text",name:"locationOfIncident",placeholder:"Location of incident",onChange:i}),(0,et.jsx)("p",{children:"*"}),(0,et.jsx)("input",{type:"text",name:"typeOfIncident",placeholder:"Type of incident",onChange:i}),(0,et.jsx)("p",{children:"*"})]}),(0,et.jsx)("input",{type:"text",name:"descriptionOfIncident",placeholder:"Description of incident",onChange:i}),(0,et.jsx)("p",{children:"*"})]}),(0,et.jsxs)("div",{className:"suspectDetailsContainer",children:[(0,et.jsx)("h3",{children:"Suspect Details:"}),(0,et.jsxs)("div",{className:"suspectnameandinfo",children:[(0,et.jsx)("input",{type:"text",name:"suspectName",placeholder:"Name of suspect",onChange:i}),(0,et.jsx)("input",{type:"text",name:"knownInformation",placeholder:"Known information",onChange:i})]}),(0,et.jsx)("input",{type:"text",name:"addressOfSuspect",placeholder:"Address if available",onChange:i}),(0,et.jsx)("input",{type:"text",name:"typeOfSuspect",placeholder:"Type of suspect",onChange:i})]}),(0,et.jsxs)("div",{className:"evidenceDetailsContainer",children:[(0,et.jsx)("h3",{children:"Evidence (if any):"}),(0,et.jsx)("input",{type:"text",name:"evidenceDescription",placeholder:"Evidence description",onChange:i})]}),(0,et.jsx)("button",{type:"submit",style:{backgroundColor:"rgba(255, 0, 0, 0.101)",marginBottom:"20px",width:"30vw",borderRadius:"5px",marginLeft:"10%",height:"20px",alignItems:"center",textAlign:"center"},onClick:a,children:"Submit"})]})]})]})},Qt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new $t;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$t=function(e){x(n,e);var t=I(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return k(n)}(N(Error)),Xt=function(e){return function(e){var t=Qt(e);return Yt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Jt=function(e){try{return Yt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Zt(e[n],t[n]));return e}var en=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},tn=function(){try{return en()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Jt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},nn=function(e){var t=function(e){var t,n;return null===(n=null===(t=tn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},rn=function(){var e;return null===(e=tn())||void 0===e?void 0:e.config},an=function(){function e(){var t=this;g(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function on(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(a)),""].join(".")}function sn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function un(){return!function(){var e,t=null===(e=tn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function ln(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var fn=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(E(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(E(a),hn.prototype.create),a}return k(n)}(N(Error)),hn=function(){function e(t,n,r){g(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(dn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new fn(n,a,t)}}]),e}();var dn=/\{\$([^}]+)}/g;function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(mn(s)&&mn(u)){if(!vn(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function mn(e){return null!==e&&"object"===typeof e}function gn(e,t){var n=new yn(e,t);return n.subscribe.bind(n)}var yn=function(){function e(t,n){var r=this;g(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=bn),void 0===r.error&&(r.error=bn),void 0===r.complete&&(r.complete=bn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function bn(){}var kn=1e3,wn=2,xn=144e5,Cn=.5;function Sn(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wn,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn)*Math.pow(t,e),r=Math.round(Cn*n*(Math.random()-.5)*2);return Math.min(xn,n+r)}function En(e){return e&&e._delegate?e._delegate:e}var In=function(){function e(t,n,r){g(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),_n="[DEFAULT]",Nn=function(){function e(t,n){g(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new an;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_n})}catch(u){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=p(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===_n?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.component?this.component.multipleInstances?e:_n:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Tn,Dn,jn=function(){function e(t){g(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),An=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dn||(Dn={}));var Ln={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},Pn=Dn.INFO,On=(rt(Tn={},Dn.DEBUG,"log"),rt(Tn,Dn.VERBOSE,"log"),rt(Tn,Dn.INFO,"info"),rt(Tn,Dn.WARN,"warn"),rt(Tn,Dn.ERROR,"error"),Tn),Rn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Mn=function(){function e(t){g(this,e),this.name=t,this._logLevel=Pn,this._logHandler=Rn,this._userLogHandler=null,An.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Dn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ln[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Dn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Dn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dn.INFO].concat(t)),this._logHandler.apply(this,[this,Dn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dn.WARN].concat(t)),this._logHandler.apply(this,[this,Dn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dn.ERROR].concat(t)),this._logHandler.apply(this,[this,Dn.ERROR].concat(t))}}]),e}();var Fn,Vn,Bn=function(e,t){return t.some((function(t){return e instanceof t}))};var Un=new WeakMap,zn=new WeakMap,qn=new WeakMap,Hn=new WeakMap,Kn=new WeakMap;var Gn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vn||(Vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($n(this),n),Yn(Un.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yn(e.apply($n(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[$n(this),t].concat(r));return qn.set(a,t.sort?t.sort():[t]),Yn(a)}}function Qn(e){return"function"===typeof e?Wn(e):(e instanceof IDBTransaction&&function(e){if(!zn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zn.set(e,t)}}(e),Bn(e,Fn||(Fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Gn):e)}function Yn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Yn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Un.set(t,e)})).catch((function(){})),Kn.set(t,e),t}(e);if(Hn.has(e))return Hn.get(e);var t=Qn(e);return t!==e&&(Hn.set(e,t),Kn.set(t,e)),t}var $n=function(e){return Kn.get(e)};var Xn,Jn,Zn=["get","getKey","getAll","getAllKeys","count"],er=["put","add","delete","clear"],tr=new Map;function nr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(tr.get(t))return tr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=er.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Zn.includes(n))){var a=function(){var e=c(s().mark((function e(t){var a,o,u,c,l,f,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return tr.set(t,a),a}}}Gn=function(e){return st(st({},e),{},{get:function(t,n,r){return nr(t,n)||e.get(t,n,r)},has:function(t,n){return!!nr(t,n)||e.has(t,n)}})}(Gn);var rr=function(){function e(t){g(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ir="@firebase/app",ar="0.9.23",or=new Mn("@firebase/app"),sr="[DEFAULT]",ur=(rt(Xn={},ir,"fire-core"),rt(Xn,"@firebase/app-compat","fire-core-compat"),rt(Xn,"@firebase/analytics","fire-analytics"),rt(Xn,"@firebase/analytics-compat","fire-analytics-compat"),rt(Xn,"@firebase/app-check","fire-app-check"),rt(Xn,"@firebase/app-check-compat","fire-app-check-compat"),rt(Xn,"@firebase/auth","fire-auth"),rt(Xn,"@firebase/auth-compat","fire-auth-compat"),rt(Xn,"@firebase/database","fire-rtdb"),rt(Xn,"@firebase/database-compat","fire-rtdb-compat"),rt(Xn,"@firebase/functions","fire-fn"),rt(Xn,"@firebase/functions-compat","fire-fn-compat"),rt(Xn,"@firebase/installations","fire-iid"),rt(Xn,"@firebase/installations-compat","fire-iid-compat"),rt(Xn,"@firebase/messaging","fire-fcm"),rt(Xn,"@firebase/messaging-compat","fire-fcm-compat"),rt(Xn,"@firebase/performance","fire-perf"),rt(Xn,"@firebase/performance-compat","fire-perf-compat"),rt(Xn,"@firebase/remote-config","fire-rc"),rt(Xn,"@firebase/remote-config-compat","fire-rc-compat"),rt(Xn,"@firebase/storage","fire-gcs"),rt(Xn,"@firebase/storage-compat","fire-gcs-compat"),rt(Xn,"@firebase/firestore","fire-fst"),rt(Xn,"@firebase/firestore-compat","fire-fst-compat"),rt(Xn,"fire-js","fire-js"),rt(Xn,"firebase","fire-js-all"),Xn),cr=new Map,lr=new Map;function fr(e,t){try{e.container.addComponent(t)}catch(n){or.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function hr(e,t){e.container.addOrOverwriteComponent(t)}function dr(e){var t=e.name;if(lr.has(t))return or.debug("There were multiple attempts to register component ".concat(t,".")),!1;lr.set(t,e);var n,r=T(cr.values());try{for(r.s();!(n=r.n()).done;){fr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sr;pr(e,t).clearInstance(n)}function mr(){lr.clear()}var gr=(rt(Jn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),rt(Jn,"bad-app-name","Illegal App name: '{$appName}"),rt(Jn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),rt(Jn,"app-deleted","Firebase App named '{$appName}' already deleted"),rt(Jn,"no-options","Need to provide options, when not being deployed to hosting via source."),rt(Jn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),rt(Jn,"invalid-log-argument","First argument to `onLog` must be null or a function."),rt(Jn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),rt(Jn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),rt(Jn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),rt(Jn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Jn),yr=new hn("app","Firebase",gr),br=function(){function e(t,n,r){var i=this;g(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}]),e}(),kr="10.6.0";function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:sr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=rn()),!n)throw yr.create("no-options");var a=cr.get(i);if(a){if(vn(n,a.options)&&vn(r,a.config))return a;throw yr.create("duplicate-app",{appName:i})}var o,s=new jn(i),u=T(lr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new br(n,r,s);return cr.set(i,l),l}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=cr.get(e);if(!t&&e===sr&&rn())return wr();if(!t)throw yr.create("no-app",{appName:e});return t}function Cr(){return Array.from(cr.values())}function Sr(e){return Er.apply(this,arguments)}function Er(){return(Er=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!cr.has(n)){e.next=6;break}return cr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e,t,n){var r,i=null!==(r=ur[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void or.warn(s.join(" "))}dr(new In("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _r(e,t){if(null!==e&&"function"!==typeof e)throw yr.create("invalid-log-argument");!function(e,t){var n,r=T(An);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ln[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Dn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Nr(e){var t;t=e,An.forEach((function(e){e.setLogLevel(t)}))}var Tr="firebase-heartbeat-database",Dr=1,jr="firebase-heartbeat-store",Ar=null;function Lr(){return Ar||(Ar=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Yn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Yn(s.result),e.oldVersion,e.newVersion,Yn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Tr,Dr,{upgrade:function(e,t){if(0===t)e.createObjectStore(jr)}}).catch((function(e){throw yr.create("idb-open",{originalErrorMessage:e.message})}))),Ar}function Pr(e){return Or.apply(this,arguments)}function Or(){return Or=c(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lr();case 3:return n=e.sent,e.next=6,n.transaction(jr).objectStore(jr).get(Fr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof fn?or.warn(e.t0.message):(i=yr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),or.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Or.apply(this,arguments)}function Rr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=c(s().mark((function e(t,n){var r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lr();case 3:return r=e.sent,i=r.transaction(jr,"readwrite"),a=i.objectStore(jr),e.next=8,a.put(n,Fr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof fn?or.warn(e.t0.message):(o=yr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),or.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Mr.apply(this,arguments)}function Fr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Vr=function(){function e(t){var n=this;g(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new qr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=c(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=Br(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:r});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=c(s().mark((function e(){var t,n,r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=Br(),r=Ur(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=Xt(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Br(){return(new Date).toISOString().substring(0,10)}function Ur(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Hr(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Hr(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var zr,qr=function(){function e(t){g(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",ln().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Pr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Rr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Rr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Hr(e){return Xt(JSON.stringify({version:2,heartbeats:e})).length}zr="",dr(new In("platform-logger",(function(e){return new rr(e)}),"PRIVATE")),dr(new In("heartbeat",(function(e){return new Vr(e)}),"PRIVATE")),Ir(ir,ar,zr),Ir(ir,ar,"esm2017"),Ir("fire-js","");Ir("firebase","10.6.0","app");var Kr,Gr,Wr=function(e,t){return t.some((function(t){return e instanceof t}))};var Qr=new WeakMap,Yr=new WeakMap,$r=new WeakMap,Xr=new WeakMap,Jr=new WeakMap;var Zr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$r.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ei(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gr||(Gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ri(this),n),ni(Qr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ni(e.apply(ri(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ri(this),t].concat(r));return $r.set(a,t.sort?t.sort():[t]),ni(a)}}function ti(e){return"function"===typeof e?ei(e):(e instanceof IDBTransaction&&function(e){if(!Yr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Yr.set(e,t)}}(e),Wr(e,Kr||(Kr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Zr):e)}function ni(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ni(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qr.set(t,e)})).catch((function(){})),Jr.set(t,e),t}(e);if(Xr.has(e))return Xr.get(e);var t=ti(e);return t!==e&&(Xr.set(e,t),Jr.set(t,e)),t}var ri=function(e){return Jr.get(e)};var ii,ai=["get","getKey","getAll","getAllKeys","count"],oi=["put","add","delete","clear"],si=new Map;function ui(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(si.get(t))return si.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=oi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ai.includes(n))){var a=function(){var e=c(s().mark((function e(t){var a,o,u,c,l,f,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return si.set(t,a),a}}}!function(e){Zr=e(Zr)}((function(e){return st(st({},e),{},{get:function(t,n,r){return ui(t,n)||e.get(t,n,r)},has:function(t,n){return!!ui(t,n)||e.has(t,n)}})}));var ci="@firebase/installations",li="0.6.4",fi=1e4,hi="w:".concat(li),di="FIS_v2",pi="https://firebaseinstallations.googleapis.com/v1",vi=36e5,mi=(rt(ii={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),rt(ii,"not-registered","Firebase Installation is not registered."),rt(ii,"installation-not-found","Firebase Installation not found."),rt(ii,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),rt(ii,"app-offline","Could not process request. Application offline."),rt(ii,"delete-pending-registration","Can't delete installation while there is a pending registration request."),ii),gi=new hn("installations","Installations",mi);function yi(e){return e instanceof fn&&e.code.includes("request-failed")}function bi(e){var t=e.projectId;return"".concat(pi,"/projects/").concat(t,"/installations")}function ki(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function wi(e,t){return xi.apply(this,arguments)}function xi(){return(xi=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",gi.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ci(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Si(e,t){var n=t.refreshToken,r=Ci(e);return r.append("Authorization",function(e){return"".concat(di," ").concat(e)}(n)),r}function Ei(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(e,t){return Ni.apply(this,arguments)}function Ni(){return(Ni=c(s().mark((function e(t,n){var r,i,a,o,u,c,l,f,h,d,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=bi(r),u=Ci(r),!(c=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,c.getHeartbeatsHeader();case 8:(l=e.sent)&&u.append("x-firebase-client",l);case 10:return f={fid:a,authVersion:di,appId:r.appId,sdkVersion:hi},h={method:"POST",headers:u,body:JSON.stringify(f)},e.next=14,Ei((function(){return fetch(o,h)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return p=e.sent,v={fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:ki(p.authToken)},e.abrupt("return",v);case 23:return e.next=25,wi("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(e){return new Promise((function(t){setTimeout(t,e)}))}var Di=/^[cdef][\w-]{21}$/,ji="";function Ai(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,m(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Di.test(t)?t:ji}catch(n){return ji}}function Li(e){return"".concat(e.appName,"!").concat(e.appId)}var Pi=new Map;function Oi(e,t){var n=Li(e);Ri(n,t),function(e,t){var n=Fi();n&&n.postMessage({key:e,fid:t});Vi()}(n,t)}function Ri(e,t){var n=Pi.get(e);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Mi=null;function Fi(){return!Mi&&"BroadcastChannel"in self&&((Mi=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Ri(e.data.key,e.data.fid)}),Mi}function Vi(){0===Pi.size&&Mi&&(Mi.close(),Mi=null)}var Bi="firebase-installations-database",Ui=1,zi="firebase-installations-store",qi=null;function Hi(){return qi||(qi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ni(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ni(s.result),e.oldVersion,e.newVersion,ni(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Bi,Ui,{upgrade:function(e,t){if(0===t)e.createObjectStore(zi)}})),qi}function Ki(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=c(s().mark((function e(t,n){var r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Hi();case 3:return i=e.sent,a=i.transaction(zi,"readwrite"),o=a.objectStore(zi),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Oi(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Wi(e){return Qi.apply(this,arguments)}function Qi(){return Qi=c(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,Hi();case 3:return r=e.sent,i=r.transaction(zi,"readwrite"),e.next=7,i.objectStore(zi).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return $i.apply(this,arguments)}function $i(){return $i=c(s().mark((function e(t,n){var r,i,a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Hi();case 3:return i=e.sent,a=i.transaction(zi,"readwrite"),o=a.objectStore(zi),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(c=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(c,r);case 17:return e.next=19,a.done;case 19:return!c||u&&u.fid===c.fid||Oi(t,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Xi(e){return Ji.apply(this,arguments)}function Ji(){return(Ji=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi(t.appConfig,(function(e){var r=Zi(e),i=ea(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==ji){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e){return aa(e||{fid:Ai(),registrationStatus:0})}function ea(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(gi.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ta.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:na(e)}:{installationEntry:t}}function ta(){return(ta=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_i(t,n);case 3:return r=e.sent,e.abrupt("return",Ki(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!yi(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Wi(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Ki(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function na(e){return ra.apply(this,arguments)}function ra(){return(ra=c(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Ti(100);case 6:return e.next=8,ia(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Xi(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e){return Yi(e,(function(e){if(!e)throw gi.create("installation-not-found");return aa(e)}))}function aa(e){return 1===(t=e).registrationStatus&&t.registrationTime+fi<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function oa(e,t){return sa.apply(this,arguments)}function sa(){return(sa=c(s().mark((function e(t,n){var r,i,a,o,u,c,l,f,h,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=ua(r,n),o=Si(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(c=e.sent)&&o.append("x-firebase-client",c);case 9:return l={installation:{sdkVersion:hi,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(l)},e.next=13,Ei((function(){return fetch(a,f)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return d=e.sent,p=ki(d),e.abrupt("return",p);case 22:return e.next=24,wi("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t){var n=t.fid;return"".concat(bi(e),"/").concat(n,"/authTokens:generate")}function ca(e){return la.apply(this,arguments)}function la(){return la=c(s().mark((function e(t){var n,r,i,a,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Yi(t.appConfig,(function(e){if(!ma(e))throw gi.create("not-registered");var i=e.authToken;if(!n&&ga(i))return e;if(1===i.requestStatus)return r=fa(t,n),e;if(!navigator.onLine)throw gi.create("app-offline");var a=ya(e);return r=pa(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Ti(100);case 6:return e.next=8,da(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",ca(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e){return Yi(e,(function(e){if(!ma(e))throw gi.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+fi<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=c(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oa(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Ki(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!yi(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Wi(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Ki(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ma(e){return void 0!==e&&2===e.registrationStatus}function ga(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+vi}(e)}function ya(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ba(){return(ba=c(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Xi(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):ca(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(){return ka=c(s().mark((function e(t){var n,r,i,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,wa(r);case 4:return e.next=6,ca(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function wa(e){return xa.apply(this,arguments)}function xa(){return(xa=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e){return gi.create("missing-app-config-values",{valueName:e})}var Sa,Ea="installations",Ia=function(e){var t=pr(e.getProvider("app").getImmediate(),Ea).getImmediate(),n={getId:function(){return function(e){return ba.apply(this,arguments)}(t)},getToken:function(e){return function(e){return ka.apply(this,arguments)}(t,e)}};return n};dr(new In(Ea,(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ca("App Configuration");if(!e.name)throw Ca("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ca(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:pr(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),dr(new In("installations-internal",Ia,"PRIVATE")),Ir(ci,li),Ir(ci,li,"esm2017");var _a="analytics",Na="firebase_id",Ta="origin",Da=6e4,ja="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Aa="https://www.googletagmanager.com/gtag/js",La=new Mn("@firebase/analytics"),Pa=(rt(Sa={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),rt(Sa,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),rt(Sa,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),rt(Sa,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),rt(Sa,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),rt(Sa,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),rt(Sa,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),rt(Sa,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),rt(Sa,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),rt(Sa,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),rt(Sa,"no-client-id",'The "client_id" field is empty.'),rt(Sa,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Sa),Oa=new hn("analytics","Analytics",Pa);function Ra(e){if(!e.startsWith(Aa)){var t=Oa.create("invalid-gtag-resource",{gtagURL:e});return La.warn(t.message),""}return e}function Ma(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Fa(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Ra}),r=document.createElement("script"),i="".concat(Aa,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Va(e,t,n,r,i,a){return Ba.apply(this,arguments)}function Ba(){return Ba=c(s().mark((function e(t,n,r,i,a,o){var u,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Ma(r);case 9:if(c=e.sent,!(l=c.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),La.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Ba.apply(this,arguments)}function Ua(e,t,n,r,i){return za.apply(this,arguments)}function za(){return za=c(s().mark((function e(t,n,r,i,a){var o,u,c,l,f,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Ma(r);case 7:c=e.sent,l=T(u),e.prev=9,h=s().mark((function e(){var t,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,r=c.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)})),l.s();case 12:if((f=l.n()).done){e.next=18;break}return e.delegateYield(h(),"t0",14);case 14:if(!e.t0){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),l.e(e.t1);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t2=e.catch(0),La.error(e.t2);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),za.apply(this,arguments)}function qa(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=c(s().mark((function i(a){var o,u,c,l,f,h,d,p,v,m,g,y,b=arguments;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=b.length,u=new Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=b[c];if("event"!==a){i.next=8;break}return l=u[0],f=u[1],i.next=6,Ua(e,t,n,l,f);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return h=u[0],d=u[1],i.next=12,Va(e,t,n,r,h,d);case 12:i.next=15;break;case 14:"consent"===a?(p=u[0],e("consent","update",p)):"get"===a?(v=u[0],m=u[1],g=u[2],e("get",v,m,g)):"set"===a?(y=u[0],e("set",y)):e.apply(void 0,[a].concat(u));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),La.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Ha(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Aa)&&i.src.includes(e))return i}return null}var Ka=30,Ga=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;g(this,e),this.throttleMetadata=t,this.intervalMillis=n}return k(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Wa=new Ga;function Qa(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Ya(e){return $a.apply(this,arguments)}function $a(){return($a=c(s().mark((function e(t){var n,r,i,a,o,u,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Qa(i)},o=ja.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return c="",e.prev=8,e.next=11,u.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(c=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Oa.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function Xa(e){return Ja.apply(this,arguments)}function Ja(){return Ja=c(s().mark((function e(t){var n,r,i,a,o,u,l,f,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:Wa,r=h.length>2?h[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw Oa.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw Oa.create("no-api-key");case 9:return l=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new ao,setTimeout(c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Da),e.abrupt("return",Za({appId:a,apiKey:o,measurementId:u},l,f,n));case 13:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Za(e,t,n){return eo.apply(this,arguments)}function eo(){return eo=c(s().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p,v=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:Wa,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,to(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return La.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Ya(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),no(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return La.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===h||void 0===h?void 0:h.customData)||void 0===u?void 0:u.httpStatus)?Sn(a,o.intervalMillis,Ka):Sn(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),La.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",Za(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),eo.apply(this,arguments)}function to(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Oa.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function no(e){if(!(e instanceof fn)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var ro,io,ao=function(){function e(){g(this,e),this.listeners=[]}return k(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function oo(){return oo=c(s().mark((function e(t,n,r,i,a){var o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function so(e){io=e}function uo(e){ro=e}function co(){return lo.apply(this,arguments)}function lo(){return(lo=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cn()){e.next=5;break}return La.warn(Oa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,ln();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),La.warn(Oa.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function fo(){return fo=c(s().mark((function e(t,n,r,i,a,o,u){var c,l,f,h,d,v,m,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=Xa(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&La.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return La.error(e)})),n.push(l),f=co().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=p(h,2),v=d[0],m=d[1],Ha(o)||Fa(o,v.measurementId),io&&(a("consent","default",io),so(void 0)),a("js",new Date),(g=null!==(c=null===u||void 0===u?void 0:u.config)&&void 0!==c?c:{})[Ta]="firebase",g.update=!0,null!=m&&(g[Na]=m),a("config",v.measurementId,g),ro&&(a("set",ro),uo(void 0)),e.abrupt("return",v.measurementId);case 20:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}var ho,po,vo=function(){function e(t){g(this,e),this.app=t}return k(e,[{key:"_delete",value:function(){return delete mo[this.app.options.appId],Promise.resolve()}}]),e}(),mo={},go=[],yo={},bo="dataLayer",ko="gtag",wo=!1;function xo(){var e=[];if(function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Oa.create("invalid-analytics-context",{errorInfo:t});La.warn(n.message)}}function Co(e,t,n){xo();var r=e.options.appId;if(!r)throw Oa.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Oa.create("no-api-key");La.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=mo[r])throw Oa.create("already-exists",{id:r});if(!wo){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(bo);var i=qa(mo,go,yo,bo,ko),a=i.wrappedGtag,o=i.gtagCore;po=a,ho=o,wo=!0}return mo[r]=function(e,t,n,r,i,a,o){return fo.apply(this,arguments)}(e,go,yo,t,ho,bo,n),new vo(e)}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr(),t=pr(e=En(e),_a);return t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pr(e,_a);if(n.isInitialized()){var r=n.getImmediate();if(vn(t,n.getOptions()))return r;throw Oa.create("already-initialized")}var i=n.initialize({options:t});return i}(e)}function Eo(e,t,n,r){e=En(e),function(e,t,n,r,i){return oo.apply(this,arguments)}(po,mo[e.app.options.appId],t,n,r).catch((function(e){return La.error(e)}))}var Io="@firebase/analytics",_o="0.10.0";function No(){return No="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},No.apply(this,arguments)}dr(new In(_a,(function(e,t){var n=t.options;return Co(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),dr(new In("analytics-internal",(function(e){try{var t=e.getProvider(_a).getImmediate();return{logEvent:function(e,n,r){return Eo(t,e,n,r)}}}catch(n){throw Oa.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Ir(Io,_o),Ir(Io,_o,"esm2017");var To=function(){function e(t){g(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();To.UNAUTHENTICATED=new To(null),To.GOOGLE_CREDENTIALS=new To("google-credentials-uid"),To.FIRST_PARTY=new To("first-party-uid"),To.MOCK_USER=new To("mock-user");var Do="10.5.2",jo=new Mn("@firebase/firestore");function Ao(e){if(jo.logLevel<=Dn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Oo);jo.debug.apply(jo,["Firestore (".concat(Do,"): ").concat(e)].concat(m(i)))}}function Lo(e){if(jo.logLevel<=Dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Oo);jo.error.apply(jo,["Firestore (".concat(Do,"): ").concat(e)].concat(m(i)))}}function Po(e){if(jo.logLevel<=Dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Oo);jo.warn.apply(jo,["Firestore (".concat(Do,"): ").concat(e)].concat(m(i)))}}function Oo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Do,") INTERNAL ASSERTION FAILED: ")+e;throw Lo(t),new Error(t)}function Mo(e,t){e||Ro()}var Fo="invalid-argument",Vo="failed-precondition",Bo=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(fn),Uo=k((function e(t,n){g(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zo=function(){function e(){g(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(To.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qo=function(){function e(t){g(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ho=function(){function e(t){var n=this;g(this,e),this.auth=null,t.onInit((function(e){n.auth=e}))}return k(e,[{key:"getToken",value:function(){var e=this;return this.auth?this.auth.getToken().then((function(t){return t?(Mo("string"==typeof t.accessToken),new Uo(t.accessToken,new To(e.auth.getUid()))):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),Ko=function(){function e(t,n,r){g(this,e),this.t=t,this.i=n,this.o=r,this.type="FirstParty",this.user=To.FIRST_PARTY,this.u=new Map}return k(e,[{key:"l",value:function(){return this.o?this.o():null}},{key:"headers",get:function(){this.u.set("X-Goog-AuthUser",this.t);var e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}]),e}(),Go=function(){function e(t,n,r){g(this,e),this.t=t,this.i=n,this.o=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new Ko(this.t,this.i,this.o))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(To.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Wo=k((function e(t){g(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qo=function(){function e(t){var n=this;g(this,e),this.h=t,this.appCheck=null,t.onInit((function(e){n.appCheck=e}))}return k(e,[{key:"getToken",value:function(){return this.appCheck?this.appCheck.getToken().then((function(e){return e?(Mo("string"==typeof e.token),new Wo(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),Yo=function(){function e(t,n){g(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function $o(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ro()}function Xo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bo(Fo,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$o(e);throw new Bo(Fo,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Jo(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Zo,es;(es=Zo||(Zo={}))[es.OK=0]="OK",es[es.CANCELLED=1]="CANCELLED",es[es.UNKNOWN=2]="UNKNOWN",es[es.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",es[es.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",es[es.NOT_FOUND=5]="NOT_FOUND",es[es.ALREADY_EXISTS=6]="ALREADY_EXISTS",es[es.PERMISSION_DENIED=7]="PERMISSION_DENIED",es[es.UNAUTHENTICATED=16]="UNAUTHENTICATED",es[es.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",es[es.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",es[es.ABORTED=10]="ABORTED",es[es.OUT_OF_RANGE=11]="OUT_OF_RANGE",es[es.UNIMPLEMENTED=12]="UNIMPLEMENTED",es[es.INTERNAL=13]="INTERNAL",es[es.UNAVAILABLE=14]="UNAVAILABLE",es[es.DATA_LOSS=15]="DATA_LOSS";function ts(e,t){return e<t?-1:e>t?1:0}var ns=function(e){x(n,e);var t=I(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return k(n)}(N(Error)),rs=function(e){function t(e){g(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ts(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ns("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();rs.EMPTY_BYTE_STRING=new rs("");new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);var is=function(){function e(t,n,r,i,a){g(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ro();if(this.right.isRed())throw Ro();var e=this.left.check();if(e!==this.right.check())throw Ro();return e+(this.isRed()?0:1)}}]),e}();is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new(function(){function e(){g(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw Ro()}},{key:"value",get:function(){throw Ro()}},{key:"color",get:function(){throw Ro()}},{key:"left",get:function(){throw Ro()}},{key:"right",get:function(){throw Ro()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new is(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var as=new Map;var os=function(){function e(t){var n,r;if(g(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Bo(Fo,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Bo(Fo,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new Bo(Fo,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jo(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bo(Fo,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bo(Fo,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bo(Fo,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ss=function(){function e(t,n,r,i){g(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new os({}),this._settingsFrozen=!1}return k(e,[{key:"app",get:function(){if(!this._app)throw new Bo(Vo,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Bo(Vo,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new os(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zo;switch(e.type){case"firstParty":return new Go(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bo(Fo,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=as.get(e);t&&(Ao("ComponentProvider","Removing Datastore"),as.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function us(e,t){var n="string"==typeof e?e:t||"(default)",r=pr("object"==typeof e?e:xr(),"firestore/lite").getImmediate({identifier:n});if(!r._initialized){var i=nn("firestore");i&&cs.apply(void 0,[r].concat(m(i)))}return r}function cs(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Xo(e,ss))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=To.MOCK_USER;else{s=on(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Bo(Fo,"mockUserToken must contain 'sub' or 'user_id' field!");u=new To(c)}e._authCredentials=new qo(new Uo(s,u))}}new RegExp("[~\\*/\\[\\]]");!function(){var e;e="".concat(kr,"_lite"),Do=e,dr(new In("firestore/lite",(function(e,t){var n=t.instanceIdentifier,r=t.options,i=e.getProvider("app").getImmediate(),a=new ss(new Ho(e.getProvider("auth-internal")),new Qo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bo(Fo,'"projectId" not provided in firebase.initializeApp.');return new Yo(e.options.projectId,t)}(i,n),i);return r&&a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),Ir("firestore-lite","4.3.2",""),Ir("firestore-lite","4.3.2","esm2017")}();var ls,fs=function(e){var t=e.dateTime,n=e.location,r=e.officer,i=e.summary;return(0,et.jsxs)("div",{className:"interactionlog-row",children:[(0,et.jsx)("div",{className:"interactionlog-col",children:t}),(0,et.jsx)("div",{className:"interactionlog-col",children:n}),(0,et.jsx)("div",{className:"interactionlog-col",children:r}),(0,et.jsx)("div",{className:"interactionlog-col",children:i})]})},hs=function(){var e=p((0,r.useState)({dateTime:"",location:"",officer:"",summary:""}),2),t=e[0],n=e[1],i=p((0,r.useState)([{dateTime:"2023-11-01 14:30",location:"Park",officer:"Officer Smith",summary:"Met with victim to discuss the case."}]),2),a=i[0],o=i[1],s=function(e){var r=e.target,i=r.name,a=r.value;n(st(st({},t),{},rt({},i,a)))};return(0,et.jsxs)("div",{className:"InteractionLog",children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"interactionlog-container",children:[(0,et.jsx)("h2",{className:"interactionlog-container-head",children:"Interaction Log"}),(0,et.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o([].concat(m(a),[t])),n({dateTime:"",location:"",officer:"",summary:""})},children:[(0,et.jsx)("input",{type:"text",name:"dateTime",value:t.dateTime,onChange:s,placeholder:"Date and Time"}),(0,et.jsx)("input",{type:"text",name:"location",value:t.location,onChange:s,placeholder:"Location"}),(0,et.jsx)("input",{type:"text",name:"officer",value:t.officer,onChange:s,placeholder:"Officer Name"}),(0,et.jsx)("input",{type:"text",name:"summary",value:t.summary,onChange:s,placeholder:"Summary"}),(0,et.jsx)("button",{type:"submit",children:"Add Interaction"})]}),a.map((function(e,t){return(0,et.jsx)(fs,st({},e),t)}))]})]})},ds=n.p+"static/media/fir.5a8a89c65dba07be84ef.jpg",ps=function(){var e=p((0,r.useState)(!1),2),t=(e[0],e[1]);return(0,et.jsxs)("div",{className:"fir-container",children:[(0,et.jsx)("img",{className:"fixed-size-fir",src:ds,alt:"Sample Image"}),(0,et.jsx)("button",{onClick:function(){var e=document.querySelector(".fixed-size-fir");e&&(document.fullscreenElement?(document.exitFullscreen(),t(!1)):(e.requestFullscreen().catch((function(e){console.error("Error attempting to enable full-screen mode:",e)})),t(!0)))},children:"Full Screen"})]})},vs=n.p+"static/media/criminal-process.f11b9500004f4bc4ebd4.png",ms=function(){function e(t,n){var r=this;g(this,e),this._delegate=t,this.firebase=n,fr(t,new In("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Sr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){hr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gs=(rt(ls={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),rt(ls,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ls),ys=new hn("app-compat","Firebase",gs);var bs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ir,setLogLevel:Nr,onLog:_r,apps:null,SDK_VERSION:kr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(dr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ys.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Zt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pn(n,e=e||sr))throw ys.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ms);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Zt(n,e)},createSubscribe:gn,ErrorFactory:hn,deepExtend:Zt}),n}(),ks=new Mn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ks.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ws=self.firebase.SDK_VERSION;ws&&ws.indexOf("LITE")>=0&&ks.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xs=bs;!function(e){Ir("@firebase/app-compat","0.2.23",e)}();xs.registerVersion("firebase","10.6.0","app-compat");var Cs,Ss="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Es={},Is=Is||{},_s=Ss||self;function Ns(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ts(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ds="closure_uid_"+(1e9*Math.random()>>>0),js=0;function As(e,t,n){return e.call.apply(e.bind,arguments)}function Ls(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ps(e,t,n){return(Ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?As:Ls).apply(null,arguments)}function Os(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ms(){this.s=this.s,this.o=this.o}Ms.prototype.s=!1,Ms.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ds)&&e[Ds]||(e[Ds]=++js))},Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bs(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ns(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Us(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Us.prototype.h=function(){this.defaultPrevented=!0};var zs=function(){if(!_s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_s.addEventListener("test",(function(){}),t),_s.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function qs(e){return/^[\s\xa0]*$/.test(e)}function Hs(){var e=_s.navigator;return e&&(e=e.userAgent)?e:""}function Ks(e){return-1!=Hs().indexOf(e)}function Gs(e){return Gs[" "](e),e}Gs[" "]=function(){};var Ws,Qs,Ys=Ks("Opera"),$s=Ks("Trident")||Ks("MSIE"),Xs=Ks("Edge"),Js=Xs||$s,Zs=Ks("Gecko")&&!(-1!=Hs().toLowerCase().indexOf("webkit")&&!Ks("Edge"))&&!(Ks("Trident")||Ks("MSIE"))&&!Ks("Edge"),eu=-1!=Hs().toLowerCase().indexOf("webkit")&&!Ks("Edge");function tu(){var e=_s.document;return e?e.documentMode:void 0}e:{var nu="",ru=function(){var e=Hs();return Zs?/rv:([^\);]+)(\)|;)/.exec(e):Xs?/Edge\/([\d\.]+)/.exec(e):$s?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):eu?/WebKit\/(\S+)/.exec(e):Ys?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ru&&(nu=ru?ru[1]:""),$s){var iu=tu();if(null!=iu&&iu>parseFloat(nu)){Ws=String(iu);break e}}Ws=nu}if(_s.document&&$s){var au=tu();Qs=au||(parseInt(Ws,10)||void 0)}else Qs=void 0;var ou=Qs;function su(e,t){if(Us.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zs){e:{try{Gs(t.nodeName);var i=!0;break e}catch(jo){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&su.$.h.call(this)}}Rs(su,Us);var uu={2:"touch",3:"pen",4:"mouse"};su.prototype.h=function(){su.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cu="closure_listenable_"+(1e6*Math.random()|0),lu=0;function fu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++lu,this.fa=this.ia=!1}function hu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function du(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pu(e){var t={};for(var n in e)t[n]=e[n];return t}var vu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vu.length;a++)n=vu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gu(e){this.src=e,this.g={},this.h=0}function yu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Fs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}gu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=bu(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new fu(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ku="closure_lm_"+(1e6*Math.random()|0),wu={};function xu(e,t,n,r,i){if(r&&r.once)return Su(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xu(e,t[a],n,r,i);return null}return n=ju(n),e&&e[cu]?e.O(t,n,Ts(r)?!!r.capture:!!r,i):Cu(e,t,n,!1,r,i)}function Cu(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ts(i)?!!i.capture:!!i,s=Tu(e);if(s||(e[ku]=s=new gu(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Nu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zs||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_u(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Su(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Su(e,t[a],n,r,i);return null}return n=ju(n),e&&e[cu]?e.P(t,n,Ts(r)?!!r.capture:!!r,i):Cu(e,t,n,!0,r,i)}function Eu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Eu(e,t[a],n,r,i);else r=Ts(r)?!!r.capture:!!r,n=ju(n),e&&e[cu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bu(a=e.g[t],n,r,i))&&(hu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Tu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bu(t,n,r,i)),(n=-1<e?t[e]:null)&&Iu(n))}function Iu(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[cu])yu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_u(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tu(t))?(yu(n,e),0==n.h&&(n.src=null,t[ku]=null)):hu(e)}}}function _u(e){return e in wu?wu[e]:wu[e]="on"+e}function Nu(e,t){if(e.fa)e=!0;else{t=new su(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Iu(e),e=n.call(r,t)}return e}function Tu(e){return(e=e[ku])instanceof gu?e:null}var Du="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(e){return"function"===typeof e?e:(e[Du]||(e[Du]=function(t){return e.handleEvent(t)}),e[Du])}function Au(){Ms.call(this),this.i=new gu(this),this.S=this,this.J=null}function Lu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Us(t,e);else if(t instanceof Us)t.target=t.target||e;else{var i=t;mu(t=new Us(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Pu(o,r,!0,t)&&i}if(i=Pu(o=t.g=e,r,!0,t)&&i,i=Pu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Pu(o=t.g=n[a],r,!1,t)&&i}function Pu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&yu(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Rs(Au,Ms),Au.prototype[cu]=!0,Au.prototype.removeEventListener=function(e,t,n,r){Eu(this,e,t,n,r)},Au.prototype.N=function(){if(Au.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hu(n[r]);delete t.g[e],t.h--}}this.J=null},Au.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Au.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ou=_s.JSON.stringify,Ru=function(){function e(t,n){g(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Mu(){var e=Ku,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fu=function(){function e(){g(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=Vu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vu=new Ru((function(){return new Bu}),(function(e){return e.reset()})),Bu=function(){function e(){g(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Uu(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function zu(e){_s.setTimeout((function(){throw e}),0)}var qu,Hu=!1,Ku=new Fu,Gu=function(){var e=_s.Promise.resolve(void 0);qu=function(){e.then(Wu)}},Wu=function(){for(var e;e=Mu();){try{e.h.call(e.g)}catch(n){zu(n)}var t=Vu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hu=!1};function Qu(e,t){Au.call(this),this.h=e||1,this.g=t||_s,this.j=Ps(this.qb,this),this.l=Date.now()}function Yu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function $u(e,t,n){if("function"===typeof e)n&&(e=Ps(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ps(e.handleEvent,e)}return 2147483647<Number(t)?-1:_s.setTimeout(e,t||0)}function Xu(e){e.g=$u((function(){e.g=null,e.i&&(e.i=!1,Xu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Rs(Qu,Au),(Cs=Qu.prototype).ga=!1,Cs.T=null,Cs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lu(this,"tick"),this.ga&&(Yu(this),this.start()))}},Cs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cs.N=function(){Qu.$.N.call(this),Yu(this),delete this.g};var Ju=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Xu(this)}},{key:"N",value:function(){No(C(n.prototype),"N",this).call(this),this.g&&(_s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ms);function Zu(e){Ms.call(this),this.h=e,this.g={}}Rs(Zu,Ms);var ec=[];function tc(e,t,n,r){Array.isArray(n)||(n&&(ec[0]=n.toString()),n=ec);for(var i=0;i<n.length;i++){var a=xu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nc(e){du(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iu(e)}),e),e.g={}}function rc(){this.g=!0}function ic(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ou(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Zu.prototype.N=function(){Zu.$.N.call(this),nc(this)},Zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rc.prototype.Ea=function(){this.g=!1},rc.prototype.info=function(){};var ac={},oc=null;function sc(){return oc=oc||new Au}function uc(e){Us.call(this,ac.Ta,e)}function cc(e){var t=sc();Lu(t,new uc(t))}function lc(e,t){Us.call(this,ac.STAT_EVENT,e),this.stat=t}function fc(e){var t=sc();Lu(t,new lc(t,e))}function hc(e,t){Us.call(this,ac.Ua,e),this.size=t}function dc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _s.setTimeout((function(){e()}),t)}ac.Ta="serverreachability",Rs(uc,Us),ac.STAT_EVENT="statevent",Rs(lc,Us),ac.Ua="timingevent",Rs(hc,Us);var pc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mc(){}function gc(e){return e.h||(e.h=e.i())}function yc(){}mc.prototype.h=null;var bc,kc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wc(){Us.call(this,"d")}function xc(){Us.call(this,"c")}function Cc(){}function Sc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Zu(this),this.P=Ic,e=Js?125:void 0,this.V=new Qu(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ec}function Ec(){this.i=null,this.g="",this.h=!1}Rs(wc,Us),Rs(xc,Us),Rs(Cc,mc),Cc.prototype.g=function(){return new XMLHttpRequest},Cc.prototype.i=function(){return{}},bc=new Cc;var Ic=45e3,_c={},Nc={};function Tc(e,t,n){e.L=1,e.v=Qc(qc(t)),e.s=n,e.S=!0,Dc(e,null)}function Dc(e,t){e.G=Date.now(),Pc(e),e.A=qc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),sl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ec,e.g=cf(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ju(Ps(e.Pa,e,e.g),e.O)),tc(e.U,e.g,"readystatechange",e.nb),t=e.I?pu(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),cc(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function jc(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ac(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Lc(e,n))==Nc){4==t&&(e.o=4,fc(14),i=!1),ic(e.j,e.m,null,"[Incomplete Response]");break}if(r==_c){e.o=4,fc(15),ic(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ic(e.j,e.m,r,null),Vc(e,r)}jc(e)&&r!=Nc&&r!=_c&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ef(t),t.M=!0,fc(11))):(ic(e.j,e.m,n,"[Invalid Chunked Response]"),Fc(e),Mc(e))}function Lc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Nc:(n=Number(t.substring(n,r)),isNaN(n)?_c:(r+=1)+n>t.length?Nc:(t=t.slice(r,r+n),e.C=r+n,t))}function Pc(e){e.Y=Date.now()+e.P,Oc(e,e.P)}function Oc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dc(Ps(e.lb,e),t)}function Rc(e){e.B&&(_s.clearTimeout(e.B),e.B=null)}function Mc(e){0==e.l.H||e.J||rf(e.l,e)}function Fc(e){Rc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Yu(e.V),nc(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Vc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||pl(n.i,e)))if(!e.K&&pl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;nf(n),Gl(n)}Zl(n),fc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dc(Ps(n.ib,n),6e3));if(1>=dl(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else of(n,11)}else if((e.K||n.g==e)&&nf(n),!qs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(vl(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Wc(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=uf(r,r.J?r.pa:null,r.Y),d.K){ml(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Rc(p),Pc(p)),r.g=d}else Jl(r);0<n.j.length&&Ql(n)}else"stop"!=a[0]&&"close"!=a[0]||of(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?of(n,7):Kl(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}cc()}catch(a){}}function Bc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ns(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ns(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ns(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Cs=Sc.prototype).setTimeout=function(e){this.P=e},Cs.nb=function(e){e=e.target;var t=this.M;t&&3==Vl(e)?t.l():this.Pa(e)},Cs.Pa=function(e){try{if(e==this.g)e:{var t=Vl(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Js||this.g&&(this.h.h||this.g.ja()||Bl(this.g)))){this.J||4!=t||7==n||cc(),Rc(this);var r=this.g.da();this.ca=r;t:if(jc(this)){var i=Bl(this.g);e="";var a=i.length,o=4==Vl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fc(this),Mc(this);var s="";break t}this.h.i=new _s.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qs(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,fc(12),Fc(this),Mc(this);break e}ic(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vc(this,r)}this.S?(Ac(this,t,s),Js&&this.i&&3==t&&(tc(this.U,this.V,"tick",this.mb),this.V.start())):(ic(this.j,this.m,s,null),Vc(this,s)),4==t&&Fc(this),this.i&&!this.J&&(4==t?rf(this.l,this):(this.i=!1,Pc(this)))}else(function(e){var t={};e=(e.g&&2<=Vl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!qs(e[n])){var r=Uu(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,fc(12)):(this.o=0,fc(13)),Fc(this),Mc(this)}}}catch(t){}},Cs.mb=function(){if(this.g){var e=Vl(this.g),t=this.g.ja();this.C<t.length&&(Rc(this),Ac(this,e,t),this.i&&4!=e&&Pc(this))}},Cs.cancel=function(){this.J=!0,Fc(this)},Cs.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(cc(),fc(17)),Fc(this),this.o=2,Mc(this)):Oc(this,this.Y-e)};var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zc){this.h=e.h,Hc(this,e.j),this.s=e.s,this.g=e.g,Kc(this,e.m),this.l=e.l;var t=e.i,n=new rl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gc(this,n),this.o=e.o}else e&&(t=String(e).match(Uc))?(this.h=!1,Hc(this,t[1]||"",!0),this.s=Yc(t[2]||""),this.g=Yc(t[3]||"",!0),Kc(this,t[4]),this.l=Yc(t[5]||"",!0),Gc(this,t[6]||"",!0),this.o=Yc(t[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}function qc(e){return new zc(e)}function Hc(e,t,n){e.j=n?Yc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gc(e,t,n){t instanceof rl?(e.i=t,function(e,t){t&&!e.j&&(il(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(al(this,t),sl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=$c(t,tl)),e.i=new rl(t,e.h))}function Wc(e,t,n){e.i.set(t,n)}function Qc(e){return Wc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $c(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Xc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zc.prototype.toString=function(){var e=[],t=this.j;t&&e.push($c(t,Jc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($c(t,Jc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($c(n,"/"==n.charAt(0)?el:Zc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$c(n,nl)),e.join("")};var Jc=/[#\/\?@]/g,Zc=/[#\?:]/g,el=/[#\?]/g,tl=/[#\?@]/g,nl=/#/g;function rl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function il(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function al(e,t){il(e),t=ul(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ol(e,t){return il(e),t=ul(e,t),e.g.has(t)}function sl(e,t,n){al(e,t),0<n.length&&(e.i=null,e.g.set(ul(e,t),Vs(n)),e.h+=n.length)}function ul(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cs=rl.prototype).add=function(e,t){il(this),this.i=null,e=ul(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cs.forEach=function(e,t){il(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Cs.ta=function(){il(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cs.Z=function(e){il(this);var t=[];if("string"===typeof e)ol(this,e)&&(t=t.concat(this.g.get(ul(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Cs.set=function(e,t){return il(this),this.i=null,ol(this,e=ul(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Cs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var cl=k((function e(t,n){g(this,e),this.g=t,this.map=n}));function ll(e){this.l=e||fl,_s.PerformanceNavigationTiming?e=0<(e=_s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_s.g&&_s.g.Ka&&_s.g.Ka()&&_s.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fl=10;function hl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dl(e){return e.h?1:e.g?e.g.size:0}function pl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vl(e,t){e.g?e.g.add(t):e.h=t}function ml(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Vs(e.i)}ll.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var yl,bl=function(){function e(){g(this,e)}return k(e,[{key:"stringify",value:function(e){return _s.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return _s.JSON.parse(e,void 0)}}]),e}();function kl(){this.g=new bl}function wl(e,t,n){var r=n||"";try{Bc(e,(function(e,n){var i=e;Ts(e)&&(i=Ou(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(jo){}}function Cl(e){this.l=e.ec||null,this.j=e.ob||!1}function Sl(e,t){Au.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=El,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rs(Cl,mc),Cl.prototype.g=function(){return new Sl(this.l,this.j)},Cl.prototype.i=(yl={},function(){return yl}),Rs(Sl,Au);var El=0;function Il(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function _l(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nl(e)}function Nl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cs=Sl.prototype).open=function(e,t){if(this.readyState!=El)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nl(this)},Cs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||_s).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Cs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_l(this)),this.readyState=El},Cs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof _s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Il(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Cs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_l(this):Nl(this),3==this.readyState&&Il(this)}},Cs.Za=function(e){this.g&&(this.response=this.responseText=e,_l(this))},Cs.Ya=function(e){this.g&&(this.response=e,_l(this))},Cs.ka=function(){this.g&&_l(this)},Cs.setRequestHeader=function(e,t){this.v.append(e,t)},Cs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cs.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tl=_s.JSON.parse;function Dl(e){Au.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jl,this.L=this.M=!1}Rs(Dl,Au);var jl="",Al=/^https?$/i,Ll=["POST","PUT"];function Pl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ol(e),Ml(e)}function Ol(e){e.F||(e.F=!0,Lu(e,"complete"),Lu(e,"error"))}function Rl(e){if(e.h&&"undefined"!=typeof Is&&(!e.C[1]||4!=Vl(e)||2!=e.da()))if(e.v&&4==Vl(e))$u(e.La,0,e);else if(Lu(e,"readystatechange"),4==Vl(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Uc)[1]||null;!a&&_s.self&&_s.self.location&&(a=_s.self.location.protocol.slice(0,-1)),i=!Al.test(a?a.toLowerCase():"")}t=i}if(t)Lu(e,"complete"),Lu(e,"success");else{e.m=6;try{var o=2<Vl(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Ol(e)}}finally{Ml(e)}}}function Ml(e,t){if(e.g){Fl(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Lu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(_s.clearTimeout(e.A),e.A=null)}function Vl(e){return e.g?e.g.readyState:0}function Bl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case jl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ul(e){var t="";return du(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ul(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wc(e,t,n))}function ql(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hl(e){this.Ga=0,this.j=[],this.l=new rc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ql("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ql("baseRetryDelayMs",5e3,e),this.hb=ql("retryDelaySeedMs",1e4,e),this.eb=ql("forwardChannelMaxRetries",2,e),this.xa=ql("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ll(e&&e.concurrentRequestLimit),this.Ja=new kl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Kl(e){if(Wl(e),3==e.H){var t=e.W++,n=qc(e.I);if(Wc(n,"SID",e.K),Wc(n,"RID",t),Wc(n,"TYPE","terminate"),$l(e,n),(t=new Sc(e,e.l,t)).L=2,t.v=Qc(qc(n)),n=!1,_s.navigator&&_s.navigator.sendBeacon)try{n=_s.navigator.sendBeacon(t.v.toString(),"")}catch(Do){}!n&&_s.Image&&((new Image).src=t.v,n=!0),n||(t.g=cf(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Pc(t)}sf(e)}function Gl(e){e.g&&(ef(e),e.g.cancel(),e.g=null)}function Wl(e){Gl(e),e.u&&(_s.clearTimeout(e.u),e.u=null),nf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&_s.clearTimeout(e.m),e.m=null)}function Ql(e){if(!hl(e.i)&&!e.m){e.m=!0;var t=e.Na;qu||Gu(),Hu||(qu(),Hu=!0),Ku.add(t,e),e.C=0}}function Yl(e,t){var n;n=t?t.m:e.W++;var r=qc(e.I);Wc(r,"SID",e.K),Wc(r,"RID",n),Wc(r,"AID",e.V),$l(e,r),e.o&&e.s&&zl(r,e.o,e.s),n=new Sc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Xl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),vl(e.i,n),Tc(n,r,t)}function $l(e,t){e.na&&du(e.na,(function(e,n){Wc(t,n,e)})),e.h&&Bc({},(function(e,n){Wc(t,n,e)}))}function Xl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ps(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{wl(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Jl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;qu||Gu(),Hu||(qu(),Hu=!0),Ku.add(t,e),e.A=0}}function Zl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=dc(Ps(e.Ma,e),af(e,e.A)),e.A++,!0)}function ef(e){null!=e.B&&(_s.clearTimeout(e.B),e.B=null)}function tf(e){e.g=new Sc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=qc(e.wa);Wc(t,"RID","rpc"),Wc(t,"SID",e.K),Wc(t,"AID",e.V),Wc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Wc(t,"TO",e.qa),Wc(t,"TYPE","xmlhttp"),$l(e,t),e.o&&e.s&&zl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Qc(qc(t)),n.s=null,n.S=!0,Dc(n,e)}function nf(e){null!=e.v&&(_s.clearTimeout(e.v),e.v=null)}function rf(e,t){var n=null;if(e.g==t){nf(e),ef(e),e.g=null;var r=2}else{if(!pl(e.i,t))return;n=t.F,ml(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Lu(r=sc(),new hc(r,n)),Ql(e)}else Jl(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(dl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=dc(Ps(e.Na,e,t),af(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:of(e,5);break;case 4:of(e,10);break;case 3:of(e,6);break;default:of(e,2)}}function af(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function of(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ps(e.pb,e);n||(n=new zc("//www.google.com/images/cleardot.gif"),_s.location&&"http"==_s.location.protocol||Hc(n,"https"),Qc(n)),function(e,t){var n=new rc;if(_s.Image){var r=new Image;r.onload=Os(xl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Os(xl,n,r,"TestLoadImage: error",!1,t),r.onabort=Os(xl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Os(xl,n,r,"TestLoadImage: timeout",!1,t),_s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fc(2);e.H=0,e.h&&e.h.za(t),sf(e),Wl(e)}function sf(e){if(e.H=0,e.ma=[],e.h){var t=gl(e.i);0==t.length&&0==e.j.length||(Bs(e.ma,t),Bs(e.ma,e.j),e.i.i.length=0,Vs(e.j),e.j.length=0),e.h.ya()}}function uf(e,t,n){var r=n instanceof zc?qc(n):new zc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Kc(r,r.m);else{var i=_s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new zc(null);r&&Hc(a,r),t&&(a.g=t),i&&Kc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Wc(r,n,t),Wc(r,"VER",e.ra),$l(e,r),r}function cf(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Dl(new Cl({ob:!0})):new Dl(e.va)).Oa(e.J),t}function lf(){}function ff(){if($s&&!(10<=Number(ou)))throw Error("Environmental error: no available transport.")}function hf(e,t){Au.call(this),this.g=new Hl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!qs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vf(this)}function df(e){wc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pf(){xc.call(this),this.status=1}function vf(e){this.g=e}function mf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gf(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function yf(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Cs=Dl.prototype).Oa=function(e){this.M=e},Cs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bc.g(),this.C=this.u?gc(this.u):gc(bc),this.g.onreadystatechange=Ps(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Pl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=_s.FormData&&e instanceof _s.FormData,!(0<=Fs(Ll,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=T(n);try{for(c.s();!(u=c.n()).done;){var l=p(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fl(this),0<this.B&&((this.L=function(e){return $s&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ps(this.ua,this)):this.A=$u(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Pl(this,s)}},Cs.ua=function(){"undefined"!=typeof Is&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lu(this,"timeout"),this.abort(8))},Cs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Lu(this,"complete"),Lu(this,"abort"),Ml(this))},Cs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ml(this,!0)),Dl.$.N.call(this)},Cs.La=function(){this.s||(this.G||this.v||this.l?Rl(this):this.kb())},Cs.kb=function(){Rl(this)},Cs.isActive=function(){return!!this.g},Cs.da=function(){try{return 2<Vl(this)?this.g.status:-1}catch(yl){return-1}},Cs.ja=function(){try{return this.g?this.g.responseText:""}catch(yl){return""}},Cs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tl(t)}},Cs.Ia=function(){return this.m},Cs.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cs=Hl.prototype).ra=8,Cs.H=1,Cs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Sc(this,this.l,e),n=this.s;if(this.U&&(n?mu(n=pu(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xl(this,t,r),Wc(i=qc(this.I),"RID",e),Wc(i,"CVER",22),this.F&&Wc(i,"X-HTTP-Session-Id",this.F),$l(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ul(n)))+"&"+r:this.o&&zl(i,this.o,n)),vl(this.i,t),this.bb&&Wc(i,"TYPE","init"),this.P?(Wc(i,"$req",r),Wc(i,"SID","null"),t.aa=!0,Tc(t,i,null)):Tc(t,i,r),this.H=2}}else 3==this.H&&(e?Yl(this,e):0==this.j.length||hl(this.i)||Yl(this))},Cs.Ma=function(){if(this.u=null,tf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dc(Ps(this.jb,this),e)}},Cs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fc(10),Gl(this),tf(this))},Cs.ib=function(){null!=this.v&&(this.v=null,Gl(this),Zl(this),fc(19))},Cs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),fc(2)):(this.l.info("Failed to ping google.com"),fc(1))},Cs.isActive=function(){return!!this.h&&this.h.isActive(this)},(Cs=lf.prototype).Ba=function(){},Cs.Aa=function(){},Cs.za=function(){},Cs.ya=function(){},Cs.isActive=function(){return!0},Cs.Va=function(){},ff.prototype.g=function(e,t){return new hf(e,t)},Rs(hf,Au),hf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;fc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=uf(e,null,e.Y),Ql(e)},hf.prototype.close=function(){Kl(this.g)},hf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ou(e),e=n);t.j.push(new cl(t.fb++,e)),3==t.H&&Ql(t)},hf.prototype.N=function(){this.g.h=null,delete this.j,Kl(this.g),delete this.g,hf.$.N.call(this)},Rs(df,wc),Rs(pf,xc),Rs(vf,lf),vf.prototype.Ba=function(){Lu(this.g,"a")},vf.prototype.Aa=function(e){Lu(this.g,new df(e))},vf.prototype.za=function(e){Lu(this.g,new pf)},vf.prototype.ya=function(){Lu(this.g,"b")},Rs(mf,(function(){this.blockSize=-1})),mf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)gf(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){gf(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){gf(this,r),i=0;break}}this.h=i,this.i+=t},mf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var bf={};function kf(e){return-128<=e&&128>e?function(e,t){var n=bf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new yf([0|e],0>e?-1:0)})):new yf([0|e],0>e?-1:0)}function wf(e){if(isNaN(e)||!isFinite(e))return Cf;if(0>e)return Nf(wf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=xf;return new yf(t,0)}var xf=4294967296,Cf=kf(0),Sf=kf(1),Ef=kf(16777216);function If(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function _f(e){return-1==e.h}function Nf(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new yf(n,~e.h).add(Sf)}function Tf(e,t){return e.add(Nf(t))}function Df(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function jf(e,t){this.g=e,this.h=t}function Af(e,t){if(If(t))throw Error("division by zero");if(If(e))return new jf(Cf,Cf);if(_f(e))return t=Af(Nf(e),t),new jf(Nf(t.g),Nf(t.h));if(_f(t))return t=Af(e,Nf(t)),new jf(Nf(t.g),t.h);if(30<e.g.length){if(_f(e)||_f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Sf,r=t;0>=r.X(e);)n=Lf(n),r=Lf(r);var i=Pf(n,1),a=Pf(r,1);for(r=Pf(r,2),n=Pf(n,2);!If(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Pf(r,1),n=Pf(n,1)}return t=Tf(e,i.R(t)),new jf(i,t)}for(i=Cf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=wf(n)).R(t);_f(o)||0<o.X(e);)o=(a=wf(n-=r)).R(t);If(a)&&(a=Sf),i=i.add(a),e=Tf(e,o)}return new jf(i,e)}function Lf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new yf(n,e.h)}function Pf(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new yf(i,e.h)}(Cs=yf.prototype).ea=function(){if(_f(this))return-Nf(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:xf+r)*t,t*=xf}return e},Cs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(If(this))return"0";if(_f(this))return"-"+Nf(this).toString(e);for(var t=wf(Math.pow(e,6)),n=this,r="";;){var i=Af(n,t).g,a=((0<(n=Tf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(If(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Cs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Cs.X=function(e){return _f(e=Tf(this,e))?-1:If(e)?0:1},Cs.abs=function(){return _f(this)?Nf(this):this},Cs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new yf(n,-2147483648&n[n.length-1]?-1:0)},Cs.R=function(e){if(If(this)||If(e))return Cf;if(_f(this))return _f(e)?Nf(this).R(Nf(e)):Nf(Nf(this).R(e));if(_f(e))return Nf(this.R(Nf(e)));if(0>this.X(Ef)&&0>e.X(Ef))return wf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Df(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Df(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Df(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Df(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new yf(n,0)},Cs.gb=function(e){return Af(this,e).h},Cs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new yf(n,this.h&e.h)},Cs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new yf(n,this.h|e.h)},Cs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new yf(n,this.h^e.h)},ff.prototype.createWebChannel=ff.prototype.g,hf.prototype.send=hf.prototype.u,hf.prototype.open=hf.prototype.m,hf.prototype.close=hf.prototype.close,pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,vc.COMPLETE="complete",yc.EventType=kc,kc.OPEN="a",kc.CLOSE="b",kc.ERROR="c",kc.MESSAGE="d",Au.prototype.listen=Au.prototype.O,Dl.prototype.listenOnce=Dl.prototype.P,Dl.prototype.getLastError=Dl.prototype.Sa,Dl.prototype.getLastErrorCode=Dl.prototype.Ia,Dl.prototype.getStatus=Dl.prototype.da,Dl.prototype.getResponseJson=Dl.prototype.Wa,Dl.prototype.getResponseText=Dl.prototype.ja,Dl.prototype.send=Dl.prototype.ha,Dl.prototype.setWithCredentials=Dl.prototype.Oa,mf.prototype.digest=mf.prototype.l,mf.prototype.reset=mf.prototype.reset,mf.prototype.update=mf.prototype.j,yf.prototype.add=yf.prototype.add,yf.prototype.multiply=yf.prototype.R,yf.prototype.modulo=yf.prototype.gb,yf.prototype.compare=yf.prototype.X,yf.prototype.toNumber=yf.prototype.ea,yf.prototype.toString=yf.prototype.toString,yf.prototype.getBits=yf.prototype.D,yf.fromNumber=wf,yf.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Nf(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=wf(Math.pow(n,8)),i=Cf,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=wf(Math.pow(n,o)),i=i.R(o).add(wf(s))):i=(i=i.R(r)).add(wf(s))}return i};var Of=Es.createWebChannelTransport=function(){return new ff},Rf=Es.getStatEventTarget=function(){return sc()},Mf=Es.ErrorCode=pc,Ff=Es.EventType=vc,Vf=Es.Event=ac,Bf=Es.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uf=Es.FetchXmlHttpFactory=Cl,zf=Es.WebChannel=yc,qf=Es.XhrIo=Dl,Hf=Es.Md5=mf,Kf=Es.Integer=yf,Gf="@firebase/firestore",Wf=function(){function e(t){g(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Wf.UNAUTHENTICATED=new Wf(null),Wf.GOOGLE_CREDENTIALS=new Wf("google-credentials-uid"),Wf.FIRST_PARTY=new Wf("first-party-uid"),Wf.MOCK_USER=new Wf("mock-user");var Qf="10.5.2",Yf=new Mn("@firebase/firestore");function $f(){return Yf.logLevel}function Xf(e){if(Yf.logLevel<=Dn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(eh);Yf.debug.apply(Yf,["Firestore (".concat(Qf,"): ").concat(e)].concat(m(i)))}}function Jf(e){if(Yf.logLevel<=Dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(eh);Yf.error.apply(Yf,["Firestore (".concat(Qf,"): ").concat(e)].concat(m(i)))}}function Zf(e){if(Yf.logLevel<=Dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(eh);Yf.warn.apply(Yf,["Firestore (".concat(Qf,"): ").concat(e)].concat(m(i)))}}function eh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Qf,") INTERNAL ASSERTION FAILED: ")+e;throw Jf(t),new Error(t)}function nh(e,t){e||th()}function rh(e,t){return e}var ih={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ah=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(fn),oh=k((function e(){var t=this;g(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),sh=k((function e(t,n){g(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),uh=function(){function e(){g(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ch=function(){function e(t){g(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),lh=function(){function e(t){g(this,e),this.t=t,this.currentUser=Wf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new oh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new oh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Xf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Xf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Xf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(nh("string"==typeof n.accessToken),new sh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return nh(null===e||"string"==typeof e),new Wf(e)}}]),e}(),fh=function(){function e(t,n,r){g(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Wf.FIRST_PARTY,this.I=new Map}return k(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),hh=function(){function e(t,n,r){g(this,e),this.l=t,this.h=n,this.P=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new fh(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),dh=k((function e(t){g(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ph=function(){function e(t){g(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Xf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Xf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Xf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Xf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(nh("string"==typeof t.token),e.R=t.token,new dh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function vh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var mh=function(){function e(){g(this,e)}return k(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=vh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function gh(e,t){return e<t?-1:e>t?1:0}function yh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function bh(e){return e+"\0"}var kh=function(){function e(t,n){if(g(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ah(ih.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ah(ih.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ah(ih.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ah(ih.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?gh(this.nanoseconds,e.nanoseconds):gh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),wh=function(){function e(t){g(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new kh(0,0))}},{key:"max",value:function(){return new e(new kh(253402300799,999999999))}}]),e}(),xh=function(){function e(t,n,r){g(this,e),void 0===n?n=0:n>t.length&&th(),void 0===r?r=t.length-n:r>t.length-n&&th(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ch=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ah(ih.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,m(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xh),Sh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Eh=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ah(ih.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ah(ih.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ah(ih.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ah(ih.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xh),Ih=function(){function e(t){g(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ch.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ch.fromString(t))}},{key:"fromName",value:function(t){return new e(Ch.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ch.emptyPath())}},{key:"comparator",value:function(e,t){return Ch.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ch(t.slice()))}}]),e}(),_h=k((function e(t,n,r,i){g(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Nh(e){return e.fields.find((function(e){return 2===e.kind}))}function Th(e){return e.fields.filter((function(e){return 2!==e.kind}))}_h.UNKNOWN_ID=-1;var Dh=k((function e(t,n){g(this,e),this.fieldPath=t,this.kind=n}));var jh=function(){function e(t,n){g(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,Ph.min())}}]),e}();function Ah(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wh.fromTimestamp(1e9===r?new kh(n+1,0):new kh(n,r));return new Ph(i,Ih.empty(),t)}function Lh(e){return new Ph(e.readTime,e.key,-1)}var Ph=function(){function e(t,n,r){g(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(wh.min(),Ih.empty(),-1)}},{key:"max",value:function(){return new e(wh.max(),Ih.empty(),-1)}}]),e}();function Oh(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ih.comparator(e.documentKey,t.documentKey))?n:gh(e.largestBatchId,t.largestBatchId)}var Rh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mh=function(){function e(){g(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Fh(e){return Vh.apply(this,arguments)}function Vh(){return(Vh=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ih.FAILED_PRECONDITION&&t.message===Rh){e.next=2;break}throw t;case 2:Xf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bh=function(){function e(t){var n=this;g(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&th(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Uh=function(){function e(t,n){var r=this;g(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new oh,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new Hh(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=Yh(e.target.error);r.V.reject(new Hh(t,n))}}return k(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(Xf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Gh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Hh(n,t)}}}]),e}(),zh=function(){function e(t,n,r){g(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(sn())&&Jf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"O",value:function(){var e=c(s().mark((function e(t){var n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Xf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Hh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ah(ih.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ah(ih.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Hh(t,n))},i.onupgradeneeded=function(e){Xf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){Xf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=c(s().mark((function e(t,n,r,i){var a,o,u,c,l=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=s().mark((function e(){var n,u,c,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,l.O(t);case 4:return l.db=e.sent,n=Uh.open(l.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),Bh.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.m;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&o<3,Xf("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Xf("SimpleDb","Removing database:",e),Wh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!cn())return!1;if(e.C())return!0;var t=sn(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),qh=function(){function e(t){g(this,e),this.k=t,this.q=!1,this.K=null}return k(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return Wh(this.k.delete())}}]),e}(),Hh=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,ih.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(ah);function Kh(e){return"IndexedDbTransactionError"===e.name}var Gh=function(){function e(t){g(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Xf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wh(n)}},{key:"add",value:function(e){return Xf("SimpleDb","ADD",this.store.name,e,e),Wh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Wh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Xf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Xf("SimpleDb","DELETE",this.store.name,e),Wh(this.store.delete(e))}},{key:"count",value:function(){return Xf("SimpleDb","COUNT",this.store.name),Wh(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Bh((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Bh((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){Xf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Bh((function(n,r){t.onerror=function(e){var t=Yh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Bh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new qh(i),o=t(i.primaryKey,i.value,a);if(o instanceof Bh){var s=o.catch((function(e){return a.done(),Bh.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return Bh.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Wh(e){return new Bh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Yh(e.target.error);n(t)}}))}var Qh=!1;function Yh(e){var t=zh.S(sn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ah("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qh||(Qh=!0,setTimeout((function(){throw r}),0)),r}}return e}var $h=function(){function e(t,n){g(this,e),this.asyncQueue=t,this.X=n,this.task=null}return k(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;Xf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Xf,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Kh(e.t4)){e.next=17;break}Xf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Fh(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Xh=function(){function e(t,n){g(this,e),this.localStore=t,this.persistence=n}return k(e,[{key:"te",value:function(){var e=c(s().mark((function e(){var t,n=this,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Bh.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Xf("IndexBackiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return Xf("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Lh(t);Oh(r,n)>0&&(n=r)})),new Ph(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Jh=function(){function e(t,n){var r=this;g(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function Zh(e){return null==e}function ed(e){return 0===e&&1/e==-1/0}function td(e){return"number"==typeof e&&Number.isInteger(e)&&!ed(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function nd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=id(t)),t=rd(e.get(n),t);return id(t)}function rd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function id(e){return e+"\x01\x01"}function ad(e){var t=e.length;if(nh(t>=2),2===t)return nh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ch.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&th(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:th()}a=o+2}return new Ch(r)}Jh._e=-1;var od=["userId","batchId"];function sd(e,t){return[e,nd(t)]}function ud(e,t,n){return[e,nd(t),n]}var cd={},ld=["prefixPath","collectionGroup","readTime","documentId"],fd=["prefixPath","collectionGroup","documentId"],hd=["collectionGroup","readTime","prefixPath","documentId"],dd=["canonicalId","targetId"],pd=["targetId","path"],vd=["path","targetId"],md=["collectionId","parent"],gd=["indexId","uid"],yd=["uid","sequenceNumber"],bd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kd=["indexId","uid","orderedDocumentKey"],wd=["userId","collectionPath","documentId"],xd=["userId","collectionPath","largestBatchId"],Cd=["userId","collectionGroup","largestBatchId"],Sd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ed=[].concat(m(Sd),["documentOverlays"]),Id=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_d=Id,Nd=[].concat(_d,["indexConfiguration","indexState","indexEntries"]),Td=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return k(n)}(Mh);function Dd(e,t){var n=rh(e);return zh.M(n.ae,t)}function jd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ad(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ld(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Pd=function(){function e(t,n){g(this,e),this.comparator=t,this.root=n||Rd.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Od(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Od(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Od(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Od(this.root,e,this.comparator,!0)}}]),e}(),Od=function(){function e(t,n,r,i){g(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Rd=function(){function e(t,n,r,i,a){g(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw th();if(this.right.isRed())throw th();var e=this.left.check();if(e!==this.right.check())throw th();return e+(this.isRed()?0:1)}}]),e}();Rd.EMPTY=null,Rd.RED=!0,Rd.BLACK=!1,Rd.EMPTY=new(function(){function e(){g(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw th()}},{key:"value",get:function(){throw th()}},{key:"color",get:function(){throw th()}},{key:"left",get:function(){throw th()}},{key:"right",get:function(){throw th()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Rd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Md=function(){function e(t){g(this,e),this.comparator=t,this.data=new Pd(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fd=function(){function e(t){g(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Vd(e){return e.hasNext()?e.getNext():void 0}var Bd=function(){function e(t){g(this,e),this.fields=t,t.sort(Eh.comparator)}return k(e,[{key:"unionWith",value:function(t){var n,r=new Md(Eh.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ud=function(e){x(n,e);var t=I(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return k(n)}(N(Error));var zd=function(e){function t(e){g(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return gh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ud("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();zd.EMPTY_BYTE_STRING=new zd("");var qd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(e){if(nh(!!e),"string"==typeof e){var t=0,n=qd.exec(e);if(nh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kd(e.seconds),nanos:Kd(e.nanos)}}function Kd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gd(e){return"string"==typeof e?zd.fromBase64String(e):zd.fromUint8Array(e)}function Wd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qd(e){var t=e.mapValue.fields.__previous_value__;return Wd(t)?Qd(t):t}function Yd(e){var t=Hd(e.mapValue.fields.__local_write_time__.timestampValue);return new kh(t.seconds,t.nanos)}var $d=k((function e(t,n,r,i,a,o,s,u,c){g(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Xd=function(){function e(t,n){g(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zd={nullValue:"NULL_VALUE"};function ep(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wd(e)?4:pp(e)?9007199254740991:10:th()}function tp(e,t){if(e===t)return!0;var n=ep(e);if(n!==ep(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yd(e).isEqual(Yd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Hd(e.timestampValue),r=Hd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gd(e.bytesValue).isEqual(Gd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kd(e.geoPointValue.latitude)===Kd(t.geoPointValue.latitude)&&Kd(e.geoPointValue.longitude)===Kd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kd(e.integerValue)===Kd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Kd(e.doubleValue),r=Kd(t.doubleValue);return n===r?ed(n)===ed(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yh(e.arrayValue.values||[],t.arrayValue.values||[],tp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jd(n)!==jd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tp(n[i],r[i])))return!1;return!0}(e,t);default:return th()}}function np(e,t){return void 0!==(e.values||[]).find((function(e){return tp(e,t)}))}function rp(e,t){if(e===t)return 0;var n=ep(e),r=ep(t);if(n!==r)return gh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Kd(e.integerValue||e.doubleValue),r=Kd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ip(e.timestampValue,t.timestampValue);case 4:return ip(Yd(e),Yd(t));case 5:return gh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Gd(e),r=Gd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=gh(n[i],r[i]);if(0!==a)return a}return gh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gh(Kd(e.latitude),Kd(t.latitude));return 0!==n?n:gh(Kd(e.longitude),Kd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=rp(n[i],r[i]);if(a)return a}return gh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jd.mapValue&&t===Jd.mapValue)return 0;if(e===Jd.mapValue)return 1;if(t===Jd.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=gh(r[o],a[o]);if(0!==s)return s;var u=rp(n[r[o]],i[a[o]]);if(0!==u)return u}return gh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw th()}}function ip(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gh(e,t);var n=Hd(e),r=Hd(t),i=gh(n.seconds,r.seconds);return 0!==i?i:gh(n.nanos,r.nanos)}function ap(e){return op(e)}function op(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Hd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ih.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=op(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(op(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):th()}function sp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function up(e){return!!e&&"integerValue"in e}function cp(e){return!!e&&"arrayValue"in e}function lp(e){return!!e&&"nullValue"in e}function fp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hp(e){return!!e&&"mapValue"in e}function dp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ad(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=dp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function pp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vp(e){return"nullValue"in e?Zd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sp(Xd.empty(),Ih.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:th()}function mp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sp(Xd.empty(),Ih.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Jd:th()}function gp(e,t){var n=rp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yp(e,t){var n=rp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bp=function(){function e(t){g(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!hp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dp(t)}},{key:"setAll",value:function(e){var t=this,n=Eh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return tp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];hp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ad(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function kp(e){var t=[];return Ad(e.fields,(function(e,n){var r=new Eh([e]);if(hp(n)){var i=kp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Bd(t)}var wp=function(){function e(t,n,r,i,a,o,s){g(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(wh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=wh.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,wh.min(),wh.min(),wh.min(),bp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,wh.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,wh.min(),wh.min(),bp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,wh.min(),wh.min(),bp.empty(),2)}}]),e}(),xp=k((function e(t,n){g(this,e),this.position=t,this.inclusive=n}));function Cp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ih.comparator(Ih.fromName(o.referenceValue),n.key):rp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Sp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tp(e.position[n],t.position[n]))return!1;return!0}var Ep=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";g(this,e),this.field=t,this.dir=n}));function Ip(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var _p=k((function e(){g(this,e)})),Np=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rp(t,this.value)):null!==t&&ep(this.value)===ep(t)&&this.matchesComparison(rp(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return th()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fp(e,t,r):"array-contains"===t?new zp(e,r):"in"===t?new qp(e,r):"not-in"===t?new Hp(e,r):"array-contains-any"===t?new Kp(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Vp(e,n):new Bp(e,n)}}]),n}(_p),Tp=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return k(n,[{key:"matches",value:function(e){return Dp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(_p);function Dp(e){return"and"===e.op}function jp(e){return"or"===e.op}function Ap(e){return Lp(e)&&Dp(e)}function Lp(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Tp)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Pp(e){if(e instanceof Np)return e.field.canonicalString()+e.op.toString()+ap(e.value);if(Ap(e))return e.filters.map((function(e){return Pp(e)})).join(",");var t=e.filters.map((function(e){return Pp(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Op(e,t){return e instanceof Np?function(e,t){return t instanceof Np&&e.op===t.op&&e.field.isEqual(t.field)&&tp(e.value,t.value)}(e,t):e instanceof Tp?function(e,t){return t instanceof Tp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Op(n,t.filters[r])}),!0)}(e,t):void th()}function Rp(e,t){var n=e.filters.concat(t);return Tp.create(n,e.op)}function Mp(e){return e instanceof Np?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ap(e.value))}(e):e instanceof Tp?function(e){return e.op.toString()+" {"+e.getFilters().map(Mp).join(" ,")+"}"}(e):"Filter"}var Fp=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,e,r,i)).key=Ih.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=Ih.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Np),Vp=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,"in",r)).keys=Up("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Np),Bp=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,"not-in",r)).keys=Up("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Np);function Up(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ih.fromName(e.referenceValue)}))}var zp=function(e){x(n,e);var t=I(n);function n(e,r){return g(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return cp(t)&&np(t.arrayValue,this.value)}}]),n}(Np),qp=function(e){x(n,e);var t=I(n);function n(e,r){return g(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&np(this.value.arrayValue,t)}}]),n}(Np),Hp=function(e){x(n,e);var t=I(n);function n(e,r){return g(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(np(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!np(this.value.arrayValue,t)}}]),n}(Np),Kp=function(e){x(n,e);var t=I(n);function n(e,r){return g(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return np(t.value.arrayValue,e)}))}}]),n}(Np),Gp=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;g(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function Wp(e){return new Gp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qp(e){var t=rh(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Pp(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Zh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ap(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ap(e)})).join(",")),t.ce=n}return t.ce}function Yp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ip(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Op(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sp(e.startAt,t.startAt)&&Sp(e.endAt,t.endAt)}function $p(e){return Ih.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xp(e,t){return e.filters.filter((function(e){return e instanceof Np&&e.field.isEqual(t)}))}function Jp(e,t,n){var r,i=Zd,a=!0,o=T(Xp(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Zd,c=!0;switch(s.op){case"<":case"<=":u=vp(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Zd}gp({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Zp(e,t,n){var r,i=Jd,a=!0,o=T(Xp(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Jd,c=!0;switch(s.op){case">=":case">":u=mp(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Jd}yp({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];yp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ev=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;g(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function tv(e,t,n,r,i,a,o,s){return new ev(e,t,n,r,i,a,o,s)}function nv(e){return new ev(e)}function rv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function iv(e){return null!==e.collectionGroup}function av(e){var t=rh(e);if(null===t.le){t.le=[];var n,r=new Set,i=T(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Md(Eh.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Ep(e,o))})),r.has(Eh.keyField().canonicalString())||t.le.push(new Ep(Eh.keyField(),o))}return t.le}function ov(e){var t=rh(e);return t.he||(t.he=sv(t,av(e))),t.he}function sv(e,t){if("F"===e.limitType)return Wp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Ep(e.field,t)}));var n=e.endAt?new xp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xp(e.startAt.position,e.startAt.inclusive):null;return Wp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function uv(e,t){var n=e.filters.concat([t]);return new ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cv(e,t,n){return new ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lv(e,t){return Yp(ov(e),ov(t))&&e.limitType===t.limitType}function fv(e){return"".concat(Qp(ov(e)),"|lt:").concat(e.limitType)}function hv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Mp(e)})).join(", "),"]")),Zh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ap(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ap(e)})).join(",")),"Target(".concat(t,")")}(ov(e)),"; limitType=").concat(e.limitType,")")}function dv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ih.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(av(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Cp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,av(e),t))&&!(e.endAt&&!function(e,t,n){var r=Cp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,av(e),t))}(e,t)}function pv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vv(e){return function(t,n){var r,i=!1,a=T(av(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=mv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function mv(e,t,n){var r=e.field.isKeyField()?Ih.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rp(r,i):th()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return th()}}var gv=function(){function e(t,n){g(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ad(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ld(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),yv=new Pd(Ih.comparator);function bv(){return yv}var kv=new Pd(Ih.comparator);function wv(){for(var e=kv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function xv(e){var t=kv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Cv(){return Ev()}function Sv(){return Ev()}function Ev(){return new gv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Iv=new Pd(Ih.comparator),_v=new Md(Ih.comparator);function Nv(){for(var e=_v,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tv=new Md(gh);function Dv(){return Tv}function jv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(t)?"-0":t}}function Av(e){return{integerValue:""+e}}function Lv(e,t){return td(t)?Av(t):jv(e,t)}var Pv=k((function e(){g(this,e),this._=void 0}));function Ov(e,t,n){return e instanceof Fv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Wd(t)&&(t=Qd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vv?Bv(e,t):e instanceof Uv?zv(e,t):function(e,t){var n=Mv(e,t),r=Hv(n)+Hv(e.Ie);return up(n)&&up(e.Ie)?Av(r):jv(e.serializer,r)}(e,t)}function Rv(e,t,n){return e instanceof Vv?Bv(e,t):e instanceof Uv?zv(e,t):n}function Mv(e,t){return e instanceof qv?function(e){return up(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Fv=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n)}(Pv),Vv=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Pv);function Bv(e,t){var n,r=Kv(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return tp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Uv=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Pv);function zv(e,t){var n,r=Kv(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!tp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qv=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return k(n)}(Pv);function Hv(e){return Kd(e.integerValue||e.doubleValue)}function Kv(e){return cp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Gv=k((function e(t,n){g(this,e),this.field=t,this.transform=n}));var Wv=k((function e(t,n){g(this,e),this.version=t,this.transformResults=n})),Qv=function(){function e(t,n){g(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Yv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var $v=k((function e(){g(this,e)}));function Xv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cm(e.key,Qv.none()):new nm(e.key,e.data,Qv.none());var n,r=e.data,i=bp.empty(),a=new Md(Eh.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new rm(e.key,i,new Bd(a.toArray()),Qv.none())}function Jv(e,t,n){e instanceof nm?function(e,t,n){var r=e.value.clone(),i=am(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rm?function(e,t,n){if(Yv(e.precondition,t)){var r=am(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(im(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zv(e,t,n,r){return e instanceof nm?function(e,t,n,r){if(!Yv(e.precondition,t))return n;var i=e.value.clone(),a=om(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rm?function(e,t,n,r){if(!Yv(e.precondition,t))return n;var i=om(e.fieldTransforms,r,t),a=t.data;return a.setAll(im(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Yv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function em(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Mv(a.transform,o||null);null!=s&&(null===r&&(r=bp.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function tm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vv&&t instanceof Vv||e instanceof Uv&&t instanceof Uv?yh(e.elements,t.elements,tp):e instanceof qv&&t instanceof qv?tp(e.Ie,t.Ie):e instanceof Fv&&t instanceof Fv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var nm=function(e){x(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return g(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}($v),rm=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return g(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return k(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}($v);function im(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function am(e,t,n){var r=new Map;nh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Rv(o,s,n[i]))}return r}function om(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Ov(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var sm,um,cm=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}($v),lm=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}($v),fm=function(){function e(t,n,r,i){g(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Jv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Zv(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Zv(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Sv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Xv(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(wh.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Nv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,(function(e,t){return tm(e,t)}))&&yh(this.baseMutations,e.baseMutations,(function(e,t){return tm(e,t)}))}}]),e}(),hm=function(){function e(t,n,r,i){g(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){nh(t.mutations.length===r.length);for(var i=Iv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),dm=function(){function e(t,n){g(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pm=k((function e(t,n){g(this,e),this.count=t,this.unchangedNames=n}));function vm(e){switch(e){default:return th();case ih.CANCELLED:case ih.UNKNOWN:case ih.DEADLINE_EXCEEDED:case ih.RESOURCE_EXHAUSTED:case ih.INTERNAL:case ih.UNAVAILABLE:case ih.UNAUTHENTICATED:return!1;case ih.INVALID_ARGUMENT:case ih.NOT_FOUND:case ih.ALREADY_EXISTS:case ih.PERMISSION_DENIED:case ih.FAILED_PRECONDITION:case ih.ABORTED:case ih.OUT_OF_RANGE:case ih.UNIMPLEMENTED:case ih.DATA_LOSS:return!0}}function mm(e){if(void 0===e)return Jf("GRPC error has no .code"),ih.UNKNOWN;switch(e){case sm.OK:return ih.OK;case sm.CANCELLED:return ih.CANCELLED;case sm.UNKNOWN:return ih.UNKNOWN;case sm.DEADLINE_EXCEEDED:return ih.DEADLINE_EXCEEDED;case sm.RESOURCE_EXHAUSTED:return ih.RESOURCE_EXHAUSTED;case sm.INTERNAL:return ih.INTERNAL;case sm.UNAVAILABLE:return ih.UNAVAILABLE;case sm.UNAUTHENTICATED:return ih.UNAUTHENTICATED;case sm.INVALID_ARGUMENT:return ih.INVALID_ARGUMENT;case sm.NOT_FOUND:return ih.NOT_FOUND;case sm.ALREADY_EXISTS:return ih.ALREADY_EXISTS;case sm.PERMISSION_DENIED:return ih.PERMISSION_DENIED;case sm.FAILED_PRECONDITION:return ih.FAILED_PRECONDITION;case sm.ABORTED:return ih.ABORTED;case sm.OUT_OF_RANGE:return ih.OUT_OF_RANGE;case sm.UNIMPLEMENTED:return ih.UNIMPLEMENTED;case sm.DATA_LOSS:return ih.DATA_LOSS;default:return th()}}(um=sm||(sm={}))[um.OK=0]="OK",um[um.CANCELLED=1]="CANCELLED",um[um.UNKNOWN=2]="UNKNOWN",um[um.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",um[um.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",um[um.NOT_FOUND=5]="NOT_FOUND",um[um.ALREADY_EXISTS=6]="ALREADY_EXISTS",um[um.PERMISSION_DENIED=7]="PERMISSION_DENIED",um[um.UNAUTHENTICATED=16]="UNAUTHENTICATED",um[um.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",um[um.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",um[um.ABORTED=10]="ABORTED",um[um.OUT_OF_RANGE=11]="OUT_OF_RANGE",um[um.UNIMPLEMENTED=12]="UNIMPLEMENTED",um[um.INTERNAL=13]="INTERNAL",um[um.UNAVAILABLE=14]="UNAVAILABLE",um[um.DATA_LOSS=15]="DATA_LOSS";var gm=null;function ym(){return new TextEncoder}var bm=new Kf([4294967295,4294967295],0);function km(e){var t=ym().encode(e),n=new Hf;return n.update(t),new Uint8Array(n.digest())}function wm(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Kf([n,r],0),new Kf([i,a],0)]}var xm=function(){function e(t,n,r){if(g(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cm("Invalid padding: ".concat(n));if(r<0)throw new Cm("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Cm("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Cm("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=Kf.fromNumber(this.Te)}return k(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(Kf.fromNumber(n)));return 1===r.compare(bm)&&(r=new Kf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=p(wm(km(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=p(wm(km(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Cm=function(e){x(n,e);var t=I(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return k(n)}(N(Error)),Sm=function(){function e(t,n,r,i,a){g(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Em.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(wh.min(),i,new Pd(gh),bv(),Nv())}}]),e}(),Em=function(){function e(t,n,r,i,a){g(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Nv(),Nv(),Nv())}}]),e}(),Im=k((function e(t,n,r,i){g(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),_m=k((function e(t,n){g(this,e),this.targetId=t,this.fe=n})),Nm=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Tm=function(){function e(){g(this,e),this.ge=0,this.pe=Am(),this.ye=zd.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return k(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Nv(),t=Nv(),n=Nv();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:th()}})),new Em(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Am()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),Dm=function(){function e(t){g(this,e),this.Le=t,this.ke=new Map,this.qe=bv(),this.Qe=jm(),this.Ke=new Pd(gh)}return k(e,[{key:"$e",value:function(e){var t,n=T(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:th()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if($p(i))if(0===n){var a=new Ih(i.path);this.We(t,a,wp.newNoDocument(a,wh.min()))}else nh(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==gm||gm.tt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=Gd(o).toUint8Array()}catch(e){if(e instanceof Ud)return Zf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new xm(n,u,l)}catch(e){return Zf(e instanceof Cm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&$p(a.target)){var o=new Ih(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,wp.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Nv();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Sm(e,n,this.Ke,this.qe,r);return this.qe=bv(),this.Qe=jm(),this.Ke=new Pd(gh),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Tm,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new Md(gh),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||Xf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Tm),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function jm(){return new Pd(Ih.comparator)}function Am(){return new Pd(Ih.comparator)}var Lm={asc:"ASCENDING",desc:"DESCENDING"},Pm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Om={and:"AND",or:"OR"},Rm=k((function e(t,n){g(this,e),this.databaseId=t,this.useProto3Json=n}));function Mm(e,t){return e.useProto3Json||Zh(t)?t:{value:t}}function Fm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bm(e,t){return Fm(e,t.toTimestamp())}function Um(e){return nh(!!e),wh.fromTimestamp(function(e){var t=Hd(e);return new kh(t.seconds,t.nanos)}(e))}function zm(e,t){return function(e){return new Ch(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qm(e){var t=Ch.fromString(e);return nh(hg(t)),t}function Hm(e,t){return zm(e.databaseId,t.path)}function Km(e,t){var n=qm(t);if(n.get(1)!==e.databaseId.projectId)throw new ah(ih.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ah(ih.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ih(Ym(n))}function Gm(e,t){return zm(e.databaseId,t)}function Wm(e){var t=qm(e);return 4===t.length?Ch.emptyPath():Ym(t)}function Qm(e){return new Ch(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ym(e){return nh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $m(e,t,n){return{name:Hm(e,t),fields:n.value.mapValue.fields}}function Xm(e,t,n){var r=Km(e,t.name),i=Um(t.updateTime),a=t.createTime?Um(t.createTime):wh.min(),o=new bp({mapValue:{fields:t.fields}}),s=wp.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Jm(e,t){return"found"in t?function(e,t){nh(!!t.found),t.found.name,t.found.updateTime;var n=Km(e,t.found.name),r=Um(t.found.updateTime),i=t.found.createTime?Um(t.found.createTime):wh.min(),a=new bp({mapValue:{fields:t.found.fields}});return wp.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){nh(!!t.missing),nh(!!t.readTime);var n=Km(e,t.missing),r=Um(t.readTime);return wp.newNoDocument(n,r)}(e,t):th()}function Zm(e,t){var n;if(t instanceof nm)n={update:$m(e,t.key,t.value)};else if(t instanceof cm)n={delete:Hm(e,t.key)};else if(t instanceof rm)n={update:$m(e,t.key,t.data),updateMask:fg(t.fieldMask)};else{if(!(t instanceof lm))return th();n={verify:Hm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Fv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw th()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:th()}(e,t.precondition)),n}function eg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Qv.updateTime(Um(e.updateTime)):void 0!==e.exists?Qv.exists(e.exists):Qv.none()}(t.currentDocument):Qv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)nh("REQUEST_TIME"===t.setToServerValue),n=new Fv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Vv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Uv(i)}else"increment"in t?n=new qv(e,t.increment):th();var a=Eh.fromServerFormat(t.fieldPath);return new Gv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Km(e,t.update.name),a=new bp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Bd(t.map((function(e){return Eh.fromServerFormat(e)})))}(t.updateMask);return new rm(i,a,o,n,r)}return new nm(i,a,n,r)}if(t.delete){var s=Km(e,t.delete);return new cm(s,n)}if(t.verify){var u=Km(e,t.verify);return new lm(u,n)}return th()}function tg(e,t){return{documents:[Gm(e,t.path)]}}function ng(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return lg(Tp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ug(e.field),direction:ag(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Mm(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rg(e){var t=Wm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ig(e);return t instanceof Tp&&Ap(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Ep(cg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Zh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new xp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new xp(n,t)}(n.endAt)),tv(t,i,s,o,u,"F",c,l)}function ig(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cg(e.unaryFilter.field);return Np.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cg(e.unaryFilter.field);return Np.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cg(e.unaryFilter.field);return Np.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cg(e.unaryFilter.field);return Np.create(i,"!=",{nullValue:"NULL_VALUE"});default:return th()}}(e):void 0!==e.fieldFilter?function(e){return Np.create(cg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return th()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Tp.create(e.compositeFilter.filters.map((function(e){return ig(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return th()}}(e.compositeFilter.op))}(e):th()}function ag(e){return Lm[e]}function og(e){return Pm[e]}function sg(e){return Om[e]}function ug(e){return{fieldPath:e.canonicalString()}}function cg(e){return Eh.fromServerFormat(e.fieldPath)}function lg(e){return e instanceof Np?function(e){if("=="===e.op){if(fp(e.value))return{unaryFilter:{field:ug(e.field),op:"IS_NAN"}};if(lp(e.value))return{unaryFilter:{field:ug(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fp(e.value))return{unaryFilter:{field:ug(e.field),op:"IS_NOT_NAN"}};if(lp(e.value))return{unaryFilter:{field:ug(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ug(e.field),op:og(e.op),value:e.value}}}(e):e instanceof Tp?function(e){var t=e.getFilters().map((function(e){return lg(e)}));return 1===t.length?t[0]:{compositeFilter:{op:sg(e.op),filters:t}}}(e):th()}function fg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var dg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zd.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;g(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),pg=k((function e(t){g(this,e),this.ut=t}));function vg(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Hm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fm(e,t.version.toTimestamp()),createTime:Fm(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gg(t.version)};else{if(!t.isUnknownDocument())return th();r.unknownDocument={path:n.path.toArray(),version:gg(t.version)}}return r}function mg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gg(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function yg(e){var t=new kh(e.seconds,e.nanoseconds);return wh.fromTimestamp(t)}function bg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return eg(e.ut,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return eg(e.ut,t)})),s=kh.fromMillis(t.localWriteTimeMs);return new fm(t.batchId,s,n,o)}function kg(e){var t,n=yg(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?yg(e.lastLimboFreeSnapshotVersion):wh.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return nh(1===e.documents.length),ov(nv(Wm(e.documents[0])))}(e.query):function(e){return ov(rg(e))}(e.query),new dg(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,zd.fromBase64String(e.resumeToken))}function wg(e,t){var n,r=gg(t.snapshotVersion),i=gg(t.lastLimboFreeSnapshotVersion);n=$p(t.target)?tg(e.ut,t.target):ng(e.ut,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function xg(e){var t=rg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cv(t,t.limit,"L"):t}function Cg(e,t){return new dm(t.largestBatchId,eg(e.ut,t.overlayMutation))}function Sg(e,t){var n=t.path.lastSegment();return[e,nd(t.path.popLast()),n]}function Eg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gg(r.readTime),documentKey:nd(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ig=function(){function e(){g(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return _g(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:yg(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return _g(e).put(function(e){return{bundleId:e.id,createTime:gg(Um(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Ng(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:xg(e.bundledQuery),readTime:yg(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Ng(e).put(function(e){return{name:e.name,readTime:gg(Um(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _g(e){return Dd(e,"bundles")}function Ng(e){return Dd(e,"namedQueries")}var Tg=function(){function e(t,n){g(this,e),this.serializer=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return Dg(e).get(Sg(this.userId,t)).next((function(e){return e?Cg(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cv();return Bh.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new dm(t,a);i.push(r.lt(e,o))})),Bh.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(nd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Dg(e).H("collectionPathOverlayIndex",i))})),Bh.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Cv(),a=nd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Dg(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Cg(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Cv(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dg(e).Y({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Cg(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"lt",value:function(e,t){return Dg(e).put(function(e,t,n){var r=p(Sg(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Zm(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ct",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Dg(e){return Dd(e,"documentOverlays")}var jg=function(){function e(){g(this,e)}return k(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Kd(e.integerValue));else if("doubleValue"in e){var n=Kd(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),ed(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Gd(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?pp(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):th()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),Ih.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();function Ag(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Lg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ag(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}jg.St=new jg;var Pg=function(){function e(){g(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"bt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Dt(n.value),n=t.next();this.Ct()}},{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{var a=r.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Ot",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Nt",value:function(e){var t=this.Bt(e),n=Lg(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"kt",value:function(e){var t=this.Bt(e),n=Lg(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qt",value:function(){this.Qt(255),this.Qt(255)}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ut",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Dt",value:function(e){var t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}},{key:"Ct",value:function(){this.Qt(0),this.Qt(1)}},{key:"Mt",value:function(){this.$t(0),this.$t(1)}},{key:"Qt",value:function(e){this.Lt(1),this.buffer[this.position++]=e}},{key:"$t",value:function(e){this.Lt(1),this.buffer[this.position++]=~e}},{key:"Lt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Og=function(){function e(t){g(this,e),this.Wt=t}return k(e,[{key:"Vt",value:function(e){this.Wt.bt(e)}},{key:"dt",value:function(e){this.Wt.xt(e)}},{key:"Et",value:function(e){this.Wt.Nt(e)}},{key:"It",value:function(){this.Wt.qt()}}]),e}(),Rg=function(){function e(t){g(this,e),this.Wt=t}return k(e,[{key:"Vt",value:function(e){this.Wt.vt(e)}},{key:"dt",value:function(e){this.Wt.Ot(e)}},{key:"Et",value:function(e){this.Wt.kt(e)}},{key:"It",value:function(){this.Wt.Kt()}}]),e}(),Mg=function(){function e(){g(this,e),this.Wt=new Pg,this.Gt=new Og(this.Wt),this.zt=new Rg(this.Wt)}return k(e,[{key:"seed",value:function(e){this.Wt.seed(e)}},{key:"jt",value:function(e){return 0===e?this.Gt:this.zt}},{key:"Ut",value:function(){return this.Wt.Ut()}},{key:"reset",value:function(){this.Wt.reset()}}]),e}(),Fg=function(){function e(t,n,r,i){g(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return k(e,[{key:"Ht",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Vg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Bg(e.arrayValue,t.arrayValue))?n:0!==(n=Bg(e.directionalValue,t.directionalValue))?n:Ih.comparator(e.documentKey,t.documentKey)}function Bg(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ug=function(){function e(t){g(this,e),this.Jt=new Md((function(e,t){return Eh.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return k(e,[{key:"Xt",get:function(){return this.Jt.size>1}},{key:"en",value:function(e){if(nh(e.collectionGroup===this.collectionId),this.Xt)return!1;var t=Nh(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Th(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){var o=this.Jt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.nn(o,s)||!this.rn(this.Yt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"sn",value:function(){if(this.Xt)return null;var e,t=new Md(Eh.comparator),n=[],r=T(this.Zt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Dh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Dh(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.Yt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new Dh(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new _h(_h.UNKNOWN_ID,this.collectionId,n,jh.empty())}},{key:"tn",value:function(e){var t,n=T(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function zg(e){var t,n;if(nh(e instanceof Np||e instanceof Tp),e instanceof Np){if(e instanceof qp){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Np.create(e.field,"==",t)})))||[];return Tp.create(r,"or")}return e}var i=e.filters.map((function(e){return zg(e)}));return Tp.create(i,e.op)}function qg(e){if(0===e.getFilters().length)return[];var t=Wg(zg(e));return nh(Gg(t)),Hg(t)||Kg(t)?[t]:t.getFilters()}function Hg(e){return e instanceof Np}function Kg(e){return e instanceof Tp&&Ap(e)}function Gg(e){return Hg(e)||Kg(e)||function(e){if(e instanceof Tp&&jp(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Hg(r)&&!Kg(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Wg(e){if(nh(e instanceof Np||e instanceof Tp),e instanceof Np)return e;if(1===e.filters.length)return Wg(e.filters[0]);var t=e.filters.map((function(e){return Wg(e)})),n=Tp.create(t,e.op);return Gg(n=$g(n))?n:(nh(n instanceof Tp),nh(Dp(n)),nh(n.filters.length>1),n.filters.reduce((function(e,t){return Qg(e,t)})))}function Qg(e,t){var n;return nh(e instanceof Np||e instanceof Tp),nh(t instanceof Np||t instanceof Tp),n=e instanceof Np?t instanceof Np?function(e,t){return Tp.create([e,t],"and")}(e,t):Yg(e,t):t instanceof Np?Yg(t,e):function(e,t){if(nh(e.filters.length>0&&t.filters.length>0),Dp(e)&&Dp(t))return Rp(e,t.getFilters());var n=jp(e)?e:t,r=jp(e)?t:e,i=n.filters.map((function(e){return Qg(e,r)}));return Tp.create(i,"or")}(e,t),$g(n)}function Yg(e,t){if(Dp(t))return Rp(t,e.getFilters());var n=t.filters.map((function(t){return Qg(e,t)}));return Tp.create(n,"or")}function $g(e){if(nh(e instanceof Np||e instanceof Tp),e instanceof Np)return e;var t=e.getFilters();if(1===t.length)return $g(t[0]);if(Lp(e))return e;var n=t.map((function(e){return $g(e)})),r=[];return n.forEach((function(t){t instanceof Np?r.push(t):t instanceof Tp&&(t.op===e.op?r.push.apply(r,m(t.filters)):r.push(t))})),1===r.length?r[0]:Tp.create(r,e.op)}var Xg=function(){function e(){g(this,e),this.on=new Jg}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Bh.resolve()}},{key:"getCollectionParents",value:function(e,t){return Bh.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Bh.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Bh.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Bh.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Bh.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Bh.resolve(null)}},{key:"getIndexType",value:function(e,t){return Bh.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Bh.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Bh.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Bh.resolve(Ph.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Bh.resolve(Ph.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Bh.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Bh.resolve()}}]),e}(),Jg=function(){function e(){g(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Md(Ch.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Md(Ch.comparator)).toArray()}}]),e}(),Zg=new Uint8Array(0),ey=function(){function e(t,n){g(this,e),this.user=t,this.databaseId=n,this._n=new Jg,this.an=new gv((function(e){return Qp(e)}),(function(e,t){return Yp(e,t)})),this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:nd(i)};return ty(e).put(a)}return Bh.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bh(t),""],!1,!0);return ty(e).W(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ad(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ry(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=iy(e);return a.next((function(e){o.put(Eg(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ry(e),r=iy(e),i=ny(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=ry(e),n=ny(e),r=iy(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Bh.forEach(this.un(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Ug(t).sn();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ny(e),i=!0,a=new Map;return Bh.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Nv(),o=[];return Bh.forEach(a,(function(i,a){Xf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Qp(t)));var s=function(e,t){var n=Nh(t);if(void 0===n)return null;var r,i=T(Xp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=T(Th(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=T(Xp(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=T(Th(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Jp(e,o.fieldPath,e.startAt):Zp(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new xp(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(Th(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Zp(e,o.fieldPath,e.endAt):Jp(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new xp(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,u),p=n.Pn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return Bh.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Ih.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Bh.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:qg(Tp.create(e.filters,"and")).map((function(t){return Wp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.In(t[h/c]):Zg,f=s.Tn(e,u,n[h%c],r),d=s.En(e,u,i[h%c],a),p=o.map((function(t){return s.Tn(e,u,t,!0)}));l.push.apply(l,m(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new Fg(e,Ih.empty(),t,n);return r?i:i.Ht()}},{key:"En",value:function(e,t,n,r){var i=new Fg(e,Ih.empty(),t,n);return r?i.Ht():i}},{key:"cn",value:function(e,t){var n=new Ug(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Bh.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Md(Eh.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=T(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new Mg,i=T(Th(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.jt(a.kind);jg.St.ht(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ut()}},{key:"In",value:function(e){var t=new Mg;return jg.St.ht(e,t.jt(0)),t.Ut()}},{key:"An",value:function(e,t){var n=new Mg;return jg.St.ht(sp(this.databaseId,t),n.jt(function(e){var t=Th(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Mg);var i,a=0,o=T(Th(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=T(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Rn(t,u.fieldPath)&&cp(c))r=this.Vn(r,u,c);else{var h=f.jt(u.kind);jg.St.ht(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ut();return t}},{key:"Vn",value:function(e,t,n){var r,i=m(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=T(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Mg;f.seed(l.Ut()),jg.St.ht(u,f.jt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Np&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ry(e),i=iy(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Bh.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new jh(t.sequenceNumber,new Ph(yg(t.readTime),new Ih(ad(t.documentKey)),t.largestBatchId)):jh.empty(),r=e.fields.map((function(e){var t=p(e,2),n=t[0],r=t[1];return new Dh(Eh.fromServerFormat(n),r)}));return new _h(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:gh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ry(e),a=iy(e);return this.fn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Bh.forEach(t,(function(t){return a.put(Eg(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Bh.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Bh.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Bh.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Bh.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ny(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return ny(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=ny(e),i=new Md(Vg);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new Fg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new Md(Vg),r=this.dn(t,e);if(null==r)return n;var i=Nh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(cp(a)){var o,s=T(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Fg(t.indexId,e.key,this.In(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Fg(t.indexId,e.key,Zg,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Xf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Vd(a),u=Vd(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Vd(o)):l?(i(s),s=Vd(a)):(s=Vd(a),u=Vd(o))}}(r,i,Vg,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Bh.waitFor(o)}},{key:"fn",value:function(e){var t=1;return iy(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Vg(e,t)})).filter((function(e,t,n){return!t||0!==Vg(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Vg(o,e),u=Vg(o,t);if(0===s)r[0]=e.Ht();else if(s>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Zg,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Zg,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Vg(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(ay)}},{key:"getMinOffset",value:function(e,t){var n=this;return Bh.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||th()}))})).next(ay)}}]),e}();function ty(e){return Dd(e,"collectionParents")}function ny(e){return Dd(e,"indexEntries")}function ry(e){return Dd(e,"indexConfiguration")}function iy(e){return Dd(e,"indexState")}function ay(e){nh(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Oh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ph(t.readTime,t.documentKey,n)}var oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sy=function(){function e(t,n,r){g(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function uy(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Y({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){nh(1===s)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ud(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Bh.waitFor(a).next((function(){return l}))}function cy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw th();t=e.noDocument}return JSON.stringify(t).length}sy.DEFAULT_COLLECTION_PERCENTILE=10,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sy.DEFAULT=new sy(41943040,sy.DEFAULT_COLLECTION_PERCENTILE,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sy.DISABLED=new sy(-1,0,0);var ly=function(){function e(t,n,r,i){g(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hy(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=dy(e),o=hy(e);return o.add({}).next((function(s){nh("number"==typeof s);var u,c=new fm(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Zm(e.ut,t)})),i=n.mutations.map((function(t){return Zm(e.ut,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Md((function(e,t){return gh(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ud(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,cd))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[s]=c.keys()})),Bh.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return hy(e).get(t).next((function(e){return e?(nh(e.userId===n.userId),bg(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.Dn[t]?Bh.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return hy(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(nh(t.batchId>=r),a=bg(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hy(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hy(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return bg(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=sd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dy(e).Y({range:i},(function(r,i,o){var s=p(r,3),u=s[0],c=s[1],l=s[2],f=ad(c);if(u===n.userId&&t.path.isEqual(f))return hy(e).get(l).next((function(e){if(!e)throw th();nh(e.userId===n.userId),a.push(bg(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Md(gh),i=[];return t.forEach((function(t){var a=sd(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=dy(e).Y({range:o},(function(e,i,a){var o=p(e,3),s=o[0],u=o[1],c=o[2],l=ad(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Bh.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=sd(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Md(gh);return dy(e).Y({range:o},(function(e,t,a){var o=p(e,3),u=o[0],c=o[1],l=o[2],f=ad(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.vn(e,s)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hy(e).get(t).next((function(e){if(null===e)throw th();nh(e.userId===n.userId),r.push(bg(n.serializer,e))})))})),Bh.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return uy(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Bh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Bh.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return dy(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ad(e[1]);i.push(a)}else r.done()})).next((function(){nh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return fy(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return py(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ct",value:function(t,n,r,i){return nh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fy(e,t,n){var r=sd(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return dy(e).Y({range:a,J:!0},(function(e,n,r){var a=p(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function hy(e){return Dd(e,"mutations")}function dy(e){return Dd(e,"documentMutations")}function py(e){return Dd(e,"mutationQueues")}var vy=function(){function e(t){g(this,e),this.xn=t}return k(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),my=function(){function e(t,n){g(this,e),this.referenceDelegate=t,this.serializer=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new vy(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return wh.fromTimestamp(new kh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return gy(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return nh(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return gy(e).Y((function(o,s){var u=kg(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Bh.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return gy(e).Y((function(e,n){var r=kg(n);t(r)}))}},{key:"Bn",value:function(e){return yy(e).get("targetGlobalKey").next((function(e){return nh(null!==e),e}))}},{key:"Ln",value:function(e,t){return yy(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return gy(e).put(wg(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Qp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gy(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=kg(n);Yp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=by(e);return t.forEach((function(t){var o=nd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Bh.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=by(e);return Bh.forEach(t,(function(t){var a=nd(t.path);return Bh.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=by(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=by(e),i=Nv();return r.Y({range:n,J:!0},(function(e,t,n){var r=ad(e[1]),a=new Ih(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=nd(t.path),r=IDBKeyRange.bound([n],[bh(n)],!1,!0),i=0;return by(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=p(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return gy(e).get(t).next((function(e){return e?kg(e):null}))}}]),e}();function gy(e){return Dd(e,"targets")}function yy(e){return Dd(e,"targetGlobal")}function by(e){return Dd(e,"targetDocuments")}function ky(e,t){var n=p(e,2),r=n[0],i=n[1],a=p(t,2),o=a[0],s=a[1],u=gh(r,o);return 0===u?gh(i,s):u}var wy=function(){function e(t){g(this,e),this.Qn=t,this.buffer=new Md(ky),this.Kn=0}return k(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ky(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xy=function(){function e(t,n,r){g(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return k(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;Xf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Kh(e.t0)){e.next=12;break}Xf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Fh(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Cy=function(){function e(t,n){g(this,e),this.zn=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Bh.resolve(Jh._e);var r=new wy(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Xf("LruGarbageCollector","Garbage collection skipped; disabled"),Bh.resolve(oy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Xf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),oy):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Xf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),$f()<=Dn.DEBUG&&Xf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Bh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Sy(e,t){return new Cy(e,t)}var Ey=function(){function e(t,n){g(this,e),this.db=t,this.garbageCollector=Sy(this,n)}return k(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Iy(e,n)}},{key:"removeReference",value:function(e,t,n){return Iy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Iy(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return py(e).Z((function(r){return fy(e,r,t).next((function(e){return e&&(n=!0),Bh.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,wh.min()),by(e).delete(function(e){return[0,nd(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Bh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Iy(e,t)}},{key:"Zn",value:function(e,t){var n,r=by(e),i=Jh._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=p(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Jh._e&&t(new Ih(ad(n)),i),i=u,n=s):i=Jh._e})).next((function(){i!==Jh._e&&t(new Ih(ad(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Iy(e,t){return by(e).put(function(e,t){return{targetId:0,path:nd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var _y=function(){function e(){g(this,e),this.changes=new gv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Bh.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ny=function(){function e(t){g(this,e),this.serializer=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ay(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ay(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],mg(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=wp.newInvalidDocument(t);return Ay(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ly(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:wp.newInvalidDocument(t)};return Ay(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ly(t))},(function(e,i){r={document:n.tr(t,i),size:cy(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=bv();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=bv(),i=new Pd(Ih.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,cy(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Bh.resolve();var r=new Md(Oy);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ly(r.first()),Ly(r.last())),a=r.getIterator(),o=a.getNext();return Ay(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ih.fromSegments([].concat(m(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Oy(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(Ly(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),mg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ay(e).W(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=bv(),s=T(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.tr(Ih.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(dv(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=bv(),o=Py(t,n),s=Py(t,Ph.max());return Ay(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.tr(Ih.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Dy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return jy(e).get("remoteDocumentGlobalKey").next((function(e){return nh(!!e),e}))}},{key:"er",value:function(e,t){return jy(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Xm(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ih.fromSegments(t.noDocument.path),i=yg(t.noDocument.readTime);n=wp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return th();var a=Ih.fromSegments(t.unknownDocument.path),o=yg(t.unknownDocument.version);n=wp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new kh(e[0],e[1]);return wh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(wh.min()))return n}return wp.newInvalidDocument(e)}}]),e}();function Ty(e){return new Ny(e)}var Dy=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new gv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Md((function(e,t){return gh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=vg(t._r.serializer,o);i=i.add(a.path.popLast());var c=cy(u);r+=c-s.size,n.push(t._r.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=vg(t._r.serializer,o.convertToNoDocument(wh.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Bh.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(_y);function jy(e){return Dd(e,"remoteDocumentGlobal")}function Ay(e){return Dd(e,"remoteDocumentsV14")}function Ly(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Py(e,t){var n=t.documentKey.path.toArray();return[e,mg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Oy(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=gh(n[a],r[a]))return i;return(i=gh(n.length,r.length))||((i=gh(n[n.length-2],r[r.length-2]))||gh(n[n.length-1],r[r.length-1]))}var Ry=k((function e(t,n){g(this,e),this.overlayedDocument=t,this.mutatedFields=n})),My=function(){function e(t,n,r,i){g(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return k(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Zv(r.mutation,e,Bd.empty(),kh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Nv()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nv(),i=Cv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=wv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Cv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Nv())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=bv(),a=Ev(),o=Ev();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rm)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Zv(o.mutation,t,o.mutation.getFieldMask(),kh.now())):a.set(t.key,Bd.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ry(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ev(),i=new Pd((function(e,t){return e-t})),a=Nv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Bd.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Nv()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Sv();c.forEach((function(e){if(!a.has(e)){var n=Xv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Bh.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Ih.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Bh.resolve(Cv()),s=-1,u=a;return o.next((function(t){return Bh.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Bh.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Nv())})).next((function(e){return{batchId:s,changes:xv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ih(t)).next((function(e){var t=wv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=wv();return this.indexManager.getCollectionParents(e,a).next((function(s){return Bh.forEach(s,(function(s){var u=function(e,t){return new ev(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,wp.newInvalidDocument(r)))}));var n=wv();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Zv(a.mutation,r,Bd.empty(),kh.now()),dv(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Fy=function(){function e(t){g(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return Bh.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Um(e.createTime)}}(t)),Bh.resolve()}},{key:"getNamedQuery",value:function(e,t){return Bh.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:xg(e.bundledQuery),readTime:Um(e.readTime)}}(t)),Bh.resolve()}}]),e}(),Vy=function(){function e(){g(this,e),this.overlays=new Pd(Ih.comparator),this.lr=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return Bh.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cv();return Bh.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),Bh.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Bh.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Cv(),i=t.length+1,a=new Ih(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Bh.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pd((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Cv(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Cv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Bh.resolve(u)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new dm(t,n));var a=this.lr.get(t);void 0===a&&(a=Nv(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),By=function(){function e(){g(this,e),this.hr=new Md(Uy.Pr),this.Ir=new Md(Uy.Tr)}return k(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Uy(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new Uy(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new Ih(new Ch([])),r=new Uy(n,e),i=new Uy(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new Ih(new Ch([])),n=new Uy(t,e),r=new Uy(t,e+1),i=Nv();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Uy(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Uy=function(){function e(t,n){g(this,e),this.key=t,this.gr=n}return k(e,null,[{key:"Pr",value:function(e,t){return Ih.comparator(e.key,t.key)||gh(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return gh(e.gr,t.gr)||Ih.comparator(e.key,t.key)}}]),e}(),zy=function(){function e(t,n){g(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Md(Uy.Pr)}return k(e,[{key:"checkEmpty",value:function(e){return Bh.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new fm(i,t,n,r);this.mutationQueue.push(a);var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.yr=this.yr.add(new Uy(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Bh.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Bh.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Bh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Bh.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Bh.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Uy(t,0),i=new Uy(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Bh.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Md(gh);return t.forEach((function(e){var t=new Uy(e,0),i=new Uy(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Bh.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ih.isDocumentKey(i)||(i=i.child(""));var a=new Uy(new Ih(i),0),o=new Md(gh);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Bh.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;nh(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Bh.forEach(t.mutations,(function(i){var a=new Uy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Uy(t,0),r=this.yr.firstAfterOrEqual(n);return Bh.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Bh.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qy=function(){function e(t){g(this,e),this.Cr=t,this.docs=new Pd(Ih.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Bh.resolve(n?n.document.mutableCopy():wp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=bv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wp.newInvalidDocument(e))})),Bh.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=bv(),a=t.path,o=new Ih(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Oh(Lh(l),n)<=0||(r.has(l.key)||dv(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Bh.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){th()}},{key:"vr",value:function(e,t){return Bh.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hy(this)}},{key:"getSize",value:function(e){return Bh.resolve(this.size)}}]),e}(),Hy=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this))._r=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Bh.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(_y),Ky=function(){function e(t){g(this,e),this.persistence=t,this.Fr=new gv((function(e){return Qp(e)}),Yp),this.lastRemoteSnapshotVersion=wh.min(),this.highestTargetId=0,this.Mr=0,this.Or=new By,this.targetCount=0,this.Nr=vy.On()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Bh.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Bh.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Bh.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Bh.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Bh.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new vy(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Bh.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Bh.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Bh.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Bh.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Bh.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Bh.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Bh.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Bh.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Bh.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Bh.resolve(n)}},{key:"containsKey",value:function(e,t){return Bh.resolve(this.Or.containsKey(t))}}]),e}(),Gy=function(){function e(t,n){var r=this;g(this,e),this.Br={},this.overlays={},this.Lr=new Jh(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Ky(this),this.indexManager=new Xg,this.remoteDocumentCache=function(e){return new qy(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new pg(n),this.Kr=new Fy(this.serializer)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Vy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new zy(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Xf("MemoryPersistence","Starting transaction:",e);var i=new Wy(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Bh.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Wy=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}(Mh),Qy=function(){function e(t){g(this,e),this.persistence=t,this.Gr=new By,this.zr=null}return k(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw th()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Bh.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Bh.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Bh.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bh.forEach(this.Hr,(function(r){var i=Ih.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,wh.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Bh.or([function(){return Bh.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),Yy=function(){function e(t){g(this,e),this.serializer=t}return k(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new Uh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",od,{unique:!0}),e.createObjectStore("documentMutations")}(e),$y(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Bh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),$y(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",od,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Bh.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:wd});t.createIndex("collectionPathOverlayIndex",xd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Cd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ld});t.createIndex("documentKeyIndex",fd),t.createIndex("collectionGroupIndex",hd)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gd}).createIndex("sequenceNumberIndex",yd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:bd}).createIndex("documentKeyIndex",kd,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=cy(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Bh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Bh.forEach(r,(function(r){nh(r.userId===n.userId);var i=bg(t.serializer,r);return uy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new Ch(n),o=function(e){return[0,nd(e)]}(a);r.push(t.get(o).next((function(n){return n?Bh.resolve():function(n){return t.put({targetId:0,path:nd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Bh.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:md});var n=t.store("collectionParents"),r=new Jg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nd(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new Ch(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=p(e,3),r=(n[0],n[1]),a=(n[2],ad(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=kg(r),a=wg(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Ih(Ch.fromString(e.document.name).popFirst(5)):e.noDocument?Ih.fromSegments(e.noDocument.path):e.unknownDocument?Ih.fromSegments(e.unknownDocument.path):th()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Bh.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=Ty(this.serializer),a=new Gy(Qy.jr,this.serializer.ut);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Nv();bg(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Bh.forEach(r,(function(e,r){var o=new Wf(r),s=Tg.ct(n.serializer,o),u=a.getIndexManager(o),c=ly.ct(o,n.serializer,u,a.referenceDelegate);return new My(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Td(t,Jh._e),e).next()}))}))}}]),e}();function $y(e){e.createObjectStore("targetDocuments",{keyPath:pd}).createIndex("documentTargetsIndex",vd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dd,{unique:!0}),e.createObjectStore("targetGlobal")}var Xy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jy=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(g(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.D())throw new ah(ih.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ey(this,i),this.Ii=n+"main",this.serializer=new pg(u),this.Ti=new zh(this.Ii,this.ai,new Yy(this.serializer)),this.qr=new my(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ty(this.serializer),this.Kr=new Ig,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Jf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ah(ih.FAILED_PRECONDITION,Xy);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new Jh(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=c(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.L(function(){var t=c(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return eb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(Kh(t))return Xf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Xf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Zy(e).get("owner").next((function(e){return Bh.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return eb(e).delete(this.clientId)}},{key:"bi",value:function(){var e=c(s().mark((function e(){var t,n,r,i,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Dd(e,"clientMetadata");return t.W().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Bh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Bh.resolve(!0):Zy(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new ah(ih.FAILED_PRECONDITION,Xy);return!1}}return!(!t.networkEnabled||!t.inForeground)||eb(e).W().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Xf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=c(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Td(e,Jh._e);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return eb(t).W().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return ly.ct(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ey(e,this.serializer.ut.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Tg.ct(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Xf("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Nd:14===e?_d:13===e?Id:12===e?Ed:11===e?Sd:void th()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new Td(a,r.Lr?r.Lr.next():Jh._e),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw Jf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new ah(ih.FAILED_PRECONDITION,Rh);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return Zy(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ah(ih.FAILED_PRECONDITION,Xy)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zy(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=Zy(e);return n.get("owner").next((function(e){return t.wi(e)?(Xf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Bh.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;un()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Xf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jf("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return zh.D()}}]),e}();function Zy(e){return Dd(e,"owner")}function eb(e){return Dd(e,"clientMetadata")}function tb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var nb=function(){function e(t,n,r,i){g(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return k(e,null,[{key:"Qi",value:function(t,n){var r,i=Nv(),a=Nv(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rb=function(){function e(){g(this,e),this._documentReadCount=0}return k(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),ib=function(){function e(){g(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return k(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new rb;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?($f()<=Dn.DEBUG&&Xf("QueryEngine","SDK will not create cache indexes for query:",hv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Bh.resolve()):($f()<=Dn.DEBUG&&Xf("QueryEngine","Query:",hv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?($f()<=Dn.DEBUG&&Xf("QueryEngine","The SDK decides to create cache indexes for query:",hv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ov(t))):Bh.resolve())}},{key:"zi",value:function(e,t){var n=this;if(rv(t))return Bh.resolve(null);var r=ov(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=cv(t,null,"F"),r=ov(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Nv.apply(void 0,m(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,cv(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return rv(t)||r.isEqual(wh.min())?Bh.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?Bh.resolve(null):($f()<=Dn.DEBUG&&Xf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hv(t)),i.Xi(e,o,t,Ah(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new Md(vv(e));return t.forEach((function(t,r){dv(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return $f()<=Dn.DEBUG&&Xf("QueryEngine","Using full collection scan to execute query:",hv(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ph.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ab=function(){function e(t,n,r,i){g(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new Pd(gh),this.ns=new gv((function(e){return Qp(e)}),Yp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return k(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new My(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function ob(e,t,n,r){return new ab(e,t,n,r)}function sb(e,t){return ub.apply(this,arguments)}function ub(){return ub=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Nv(),u=T(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=T(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function cb(e,t){var n=rh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Bh.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);nh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Nv(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function lb(e){var t=rh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function fb(e,t){var n=rh(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(zd.EMPTY_BYTE_STRING,wh.min()).withLastLimboFreeSnapshotVersion(wh.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var s=bv(),u=Nv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hb(e,a,t.documentUpdates).next((function(e){s=e.us,u=e.cs}))),!r.isEqual(wh.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Bh.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ts=i,e}))}function hb(e,t,n){var r=Nv(),i=Nv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=bv();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(wh.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Xf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function db(e,t){var n=rh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function pb(e,t){var n=rh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Bh.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new dg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function vb(e,t,n){return mb.apply(this,arguments)}function mb(){return mb=c(s().mark((function e(t,n,r){var i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rh(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Kh(e.t1)){e.next=12;break}throw e.t1;case 12:Xf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mb.apply(this,arguments)}function gb(e,t,n){var r=rh(e),i=wh.min(),a=Nv();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=rh(e),i=r.ns.get(n);return void 0!==i?Bh.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,ov(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:wh.min(),n?a:Nv())})).next((function(e){return kb(r,pv(t),e),{documents:e,ls:a}}))}))}function yb(e,t){var n=rh(e),r=rh(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function bb(e,t){var n=rh(e),r=n.rs.get(t)||wh.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ss.getAllFromCollectionGroup(e,t,Ah(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kb(n,t,e),e}))}function kb(e,t,n){var r=e.rs.get(t)||wh.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}function wb(e,t,n,r){return xb.apply(this,arguments)}function xb(){return xb=c(s().mark((function e(t,n,r,i){var a,o,u,c,l,f,h,d,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=rh(t),o=Nv(),u=bv(),c=T(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.hs(f.metadata.name),f.document&&(o=o.add(h)),(d=n.Ps(f)).setReadTime(n.Is(f.metadata.readTime)),u=u.insert(h,d)}catch(s){c.e(s)}finally{c.f()}return p=a.ss.newChangeBuffer({trackRemovals:!0}),e.next=7,pb(a,function(e){return ov(nv(Ch.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return hb(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.qr.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)})).next((function(){return t.us}))}))})));case 9:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function Cb(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=c(s().mark((function e(t,n){var r,i,a,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Nv(),e.next=3,pb(t,ov(xg(n.bundledQuery)));case 3:return i=e.sent,a=rh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Um(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(zd.EMPTY_BYTE_STRING,t);return a.ts=a.ts.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Eb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ib(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _b(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Nb=function(){function e(t,n,r,i){g(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ah(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Tb=function(){function e(t,n,r){g(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ah(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Db=function(){function e(t,n){g(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Ts",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Dv(),o=0;i&&o<r.activeTargetIds.length;++o)i=td(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),jb=function(){function e(t,n){g(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Ts",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ab=function(){function e(){g(this,e),this.activeTargetIds=Dv()}return k(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Lb=function(){function e(t,n,r,i,a){g(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Pd(gh),this.started=!1,this.ps=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ys=Eb(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Ab),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}return k(e,[{key:"start",value:function(){var e=c(s().mark((function e(){var t,n,r,i,a,o,u,c,l,f,h,d=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Rs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Eb(this.persistenceKey,i)))&&(o=Db.Ts(i,a))&&(this.gs=this.gs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Fs(),(u=this.storage.getItem(this.Cs))&&(c=this.Ms(u))&&this.xs(c),l=T(this.ps);try{for(l.s();!(f=l.n()).done;)h=f.value,this.fs(h)}catch(s){l.e(s)}finally{l.f()}this.ps=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Os(this.gs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ns(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ns(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_b(this.persistenceKey,e));if(n){var r=Tb.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ls.As(e),this.Fs()}},{key:"isLocalQueryTarget",value:function(e){return this.Ls.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_b(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ks(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Qs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Xf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Xf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Xf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"fs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Xf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Jf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(c(s().mark((function e(){var r,i,a,o,u,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ss.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ks(n.key),e.abrupt("return",t.$s(r,null));case 6:if(!(i=t.Us(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$s(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.bs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ws(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Gs(a));case 16:e.next=41;break;case 18:if(!t.Ds.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.zs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Cs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ms(n.newValue))){e.next=30;break}return e.abrupt("return",t.xs(u));case 30:e.next=41;break;case 32:if(n.key!==t.ws){e.next=37;break}c=function(e){var t=Jh._e;if(null!=e)try{var n=JSON.parse(e);nh("number"==typeof n),t=n}catch(e){Jf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==Jh._e&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.vs){e.next=41;break}return l=t.Hs(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Js(e)})));case 41:e.next=44;break;case 43:t.ps.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ls",get:function(){return this.gs.get(this.Rs)}},{key:"Fs",value:function(){this.setItem(this.ys,this.Ls.Es())}},{key:"Ns",value:function(e,t,n){var r=new Nb(this.currentUser,e,t,n),i=Ib(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}},{key:"Bs",value:function(e){var t=Ib(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"qs",value:function(e){var t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}},{key:"ks",value:function(e,t,n){var r=_b(this.persistenceKey,e),i=new Tb(e,t,n);this.setItem(r,i.Es())}},{key:"Qs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}},{key:"Ks",value:function(e){var t=this.Ss.exec(e);return t?t[1]:null}},{key:"Us",value:function(e,t){var n=this.Ks(e);return Db.Ts(n,t)}},{key:"Ws",value:function(e,t){var n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Nb.Ts(new Wf(i),r,t)}},{key:"zs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]);return Tb.Ts(r,t)}},{key:"Ms",value:function(e){return jb.Ts(e)}},{key:"Hs",value:function(e){return JSON.parse(e)}},{key:"Gs",value:function(){var e=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Ys(t.batchId,t.state,t.error));case 2:Xf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"js",value:function(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}},{key:"$s",value:function(e,t){var n=this,r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),a=this.Os(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((function(){n.gs=r}))}},{key:"xs",value:function(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Os",value:function(e){var t=Dv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Pb=function(){function e(){g(this,e),this.eo=new Ab,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new Ab,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ob=function(){function e(){g(this,e)}return k(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Rb=function(){function e(){var t=this;g(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return k(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){Xf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){Xf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Mb=null;function Fb(){return null===Mb?Mb=268435456+Math.round(2147483648*Math.random()):Mb++,"0x"+Mb.toString(16)}var Vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Bb=function(){function e(t){g(this,e),this.co=t.co,this.lo=t.lo}return k(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),Ub="WebChannelConnection",zb=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return k(n,[{key:"Do",value:function(e,t,n,r){var i=Fb();return new Promise((function(a,o){var s=new qf;s.setWithCredentials(!0),s.listenOnce(Ff.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Mf.NO_ERROR:var t=s.getResponseJson();Xf(Ub,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Mf.TIMEOUT:Xf(Ub,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ah(ih.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:var n=s.getStatus();if(Xf(Ub,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ih).indexOf(t)>=0?t:ih.UNKNOWN}(u.status);o(new ah(c,u.message))}else o(new ah(ih.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ah(ih.UNAVAILABLE,"Connection failed."));break;default:th()}}finally{Xf(Ub,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Xf(Ub,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"vo",value:function(e,t,n){var r=Fb(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Of(),o=Rf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Uf({})),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Xf(Ub,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new Bb({co:function(t){h?Xf(Ub,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Xf(Ub,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},lo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,zf.EventType.OPEN,(function(){h||Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,zf.EventType.CLOSE,(function(){h||(h=!0,Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(l,zf.EventType.ERROR,(function(t){h||(h=!0,Zf(Ub,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new ah(ih.UNAVAILABLE,"The operation could not be completed")))})),p(l,zf.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];nh(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=sm[e];if(void 0!==t)return mm(t)}(s),c=o.message;void 0===u&&(u=ih.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Ro(new ah(u,c)),l.close()}else Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,Vf.STAT_EVENT,(function(t){t.stat===Bf.PROXY?Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Bf.NOPROXY&&Xf(Ub,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){g(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return k(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=Fb(),o=this.So(e,t);Xf("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,o,s,n).then((function(t){return Xf("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Zf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=Vb[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function qb(){return"undefined"!=typeof window?window:null}function Hb(){return"undefined"!=typeof document?document:null}function Kb(e){return new Rm(e,!0)}var Gb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;g(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Xf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),Wb=function(){function e(t,n,r,i,a,o,s,u){g(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Gb(t,n)}return k(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=c(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===ih.RESOURCE_EXHAUSTED?(Jf(n.toString()),Jf("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===ih.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=p(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new ah(ih.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return Xf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(Xf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Qb=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return g(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return k(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:th()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(nh(void 0===t||"string"==typeof t),zd.fromBase64String(t||"")):(nh(void 0===t||t instanceof Uint8Array),zd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ih.UNKNOWN:mm(e.code);return new ah(t,e.message||"")}(o);n=new Nm(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Km(e,u.document.name),l=Um(u.document.updateTime),f=u.document.createTime?Um(u.document.createTime):wh.min(),h=new bp({mapValue:{fields:u.document.fields}}),d=wp.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Im(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Km(e,m.document),y=m.readTime?Um(m.readTime):wh.min(),b=wp.newNoDocument(g,y),k=m.removedTargetIds||[];n=new Im([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Km(e,w.document),C=w.removedTargetIds||[];n=new Im([],C,x,null)}else{if(!("filter"in t))return th();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,_=S.unchangedNames,N=new pm(I,_),T=S.targetId;n=new _m(T,N)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wh.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?wh.min():t.readTime?Um(t.readTime):wh.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=Qm(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=$p(r)?{documents:tg(e,r)}:{query:ng(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vm(e,t.resumeToken);var i=Mm(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(wh.min())>0){n.readTime=Fm(e,t.snapshotVersion.toTimestamp());var a=Mm(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return th()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=Qm(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(Wb),Yb=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return g(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.l_=!1,u}return k(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,No(C(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(nh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(nh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Um(e.updateTime):Um(t);return n.isEqual(wh.min())&&(n=Um(t)),new Wv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Um(e.commitTime);return this.listener.I_(n,t)}return nh(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=Qm(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Zm(t.serializer,e)}))};this.e_(n)}}]),n}(Wb),$b=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return k(n,[{key:"A_",value:function(){if(this.d_)throw new ah(ih.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=p(i,2),o=a[0],s=a[1];return r.connection.wo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ih.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ah(ih.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=p(a,2),s=o[0],u=o[1];return i.connection.Co(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ih.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ah(ih.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(k((function e(){g(this,e)})));var Xb=function(){function e(t,n){g(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return k(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Jf(t),this.f_=!1):Xf("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),Jb=k((function e(t,n,r,i,a){var o=this;g(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ck(o),!e.t0){e.next=5;break}return Xf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=rh(t)).C_.add(4),e.next=4,tk(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,Zb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new Xb(r,i)}));function Zb(e){return ek.apply(this,arguments)}function ek(){return(ek=c(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ck(t)){e.next=18;break}n=T(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function tk(e){return nk.apply(this,arguments)}function nk(){return(nk=c(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function rk(e,t){var n=rh(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),uk(n)?sk(n):Fk(n).Ho()&&ak(n,t))}function ik(e,t){var n=rh(e),r=Fk(n);n.D_.delete(t),r.Ho()&&ok(n,t),0===n.D_.size&&(r.Ho()?r.Zo():ck(n)&&n.M_.set("Unknown"))}function ak(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wh.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fk(e).u_(t)}function ok(e,t){e.x_.Oe(t),Fk(e).c_(t)}function sk(e){e.x_=new Dm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),Fk(e).start(),e.M_.g_()}function uk(e){return ck(e)&&!Fk(e).jo()&&e.D_.size>0}function ck(e){return 0===rh(e).C_.size}function lk(e){e.x_=void 0}function fk(e){return hk.apply(this,arguments)}function hk(){return(hk=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){ak(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dk(e,t){return pk.apply(this,arguments)}function pk(){return(pk=c(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lk(t),uk(t)?(t.M_.w_(n),sk(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vk(e,t,n){return mk.apply(this,arguments)}function mk(){return mk=c(s().mark((function e(t,n,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof Nm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=c(s().mark((function e(t,n){var r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Xf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Im?t.x_.$e(n):n instanceof _m?t.x_.Je(n):t.x_.Ge(n),r.isEqual(wh.min())){e.next=29;break}return e.prev=14,e.next=17,lb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(zd.EMPTY_BYTE_STRING,r.snapshotVersion)),ok(e,t);var i=new dg(r.target,t,n,r.sequenceNumber);ak(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Xf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mk.apply(this,arguments)}function gk(e,t,n){return yk.apply(this,arguments)}function yk(){return(yk=c(s().mark((function e(t,n,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kh(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,tk(t);case 5:t.M_.set("Offline"),r||(r=function(){return lb(t.localStore)}),t.asyncQueue.enqueueRetryable(c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,Zb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bk(e,t){return t().catch((function(n){return gk(e,n,t)}))}function kk(e){return wk.apply(this,arguments)}function wk(){return wk=c(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rh(t),r=Vk(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!xk(n)){e.next=19;break}return e.prev=3,e.next=6,db(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,Ck(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gk(n,e.t0);case 17:e.next=2;break;case 19:Sk(n)&&Ek(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),wk.apply(this,arguments)}function xk(e){return ck(e)&&e.b_.length<10}function Ck(e,t){e.b_.push(t);var n=Vk(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Sk(e){return ck(e)&&!Vk(e).jo()&&e.b_.length>0}function Ek(e){Vk(e).start()}function Ik(e){return _k.apply(this,arguments)}function _k(){return(_k=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vk(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nk(e){return Tk.apply(this,arguments)}function Tk(){return(Tk=c(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vk(t),r=T(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dk(e,t,n){return jk.apply(this,arguments)}function jk(){return jk=c(s().mark((function e(t,n,r){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=hm.from(i,n,r),e.next=3,bk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,kk(t);case 5:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Ak(e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=c(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Vk(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return vm(e)&&e!==ih.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),Vk(t).Yo(),e.next=5,bk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,kk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Sk(t)&&Ek(t);case 5:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Pk(e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=rh(t)).asyncQueue.verifyOperationInProgress(),Xf("RemoteStore","RemoteStore received new credentials"),i=ck(r),r.C_.add(3),e.next=6,tk(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,Zb(r);case 12:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Rk(e,t){return Mk.apply(this,arguments)}function Mk(){return(Mk=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rh(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,Zb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,tk(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fk(e){return e.O_||(e.O_=function(e,t,n){var r=rh(e);return r.A_(),new Qb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:fk.bind(null,e),Io:dk.bind(null,e),a_:vk.bind(null,e)}),e.v_.push(function(){var t=c(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),uk(e)?sk(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:lk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function Vk(e){return e.N_||(e.N_=function(e,t,n){var r=rh(e);return r.A_(),new Yb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Ik.bind(null,e),Io:Ak.bind(null,e),T_:Nk.bind(null,e),I_:Dk.bind(null,e)}),e.v_.push(function(){var t=c(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,kk(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(Xf("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var Bk=function(){function e(t,n,r,i,a){g(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ah(ih.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Uk(e,t){if(Jf("AsyncQueue","".concat(t,": ").concat(e)),Kh(e))return new ah(ih.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zk=function(){function e(t){g(this,e),this.comparator=t?function(e,n){return t(e,n)||Ih.comparator(e.key,n.key)}:function(e,t){return Ih.comparator(e.key,t.key)},this.keyedMap=wv(),this.sortedSet=new Pd(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),qk=function(){function e(){g(this,e),this.B_=new Pd(Ih.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):th():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Hk=function(){function e(t,n,r,i,a,o,s,u,c){g(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,zk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Kk=k((function e(){g(this,e),this.k_=void 0,this.listeners=[]})),Gk=k((function e(){g(this,e),this.queries=new gv((function(e){return fv(e)}),lv),this.onlineState="Unknown",this.q_=new Set}));function Wk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=c(s().mark((function e(t,n){var r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Kk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Uk(e.t0,"Initialization of query '".concat(hv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&Zk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qk.apply(this,arguments)}function Yk(e,t){return $k.apply(this,arguments)}function $k(){return $k=c(s().mark((function e(t,n){var r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function Xk(e,t){var n,r=rh(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=T(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.K_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.k_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Zk(r)}function Jk(e,t,n){var r=rh(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Zk(e){e.q_.forEach((function(e){e.next()}))}var ew=function(){function e(t,n,r){g(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Hk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=Hk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}(),tw=function(){function e(t,n){g(this,e),this.Y_=t,this.byteLength=n}return k(e,[{key:"Z_",value:function(){return"metadata"in this.Y_}}]),e}(),nw=function(){function e(t){g(this,e),this.serializer=t}return k(e,[{key:"hs",value:function(e){return Km(this.serializer,e)}},{key:"Ps",value:function(e){return e.metadata.exists?Xm(this.serializer,e.document,!1):wp.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}},{key:"Is",value:function(e){return Um(e)}}]),e}(),rw=function(){function e(t,n,r){g(this,e),this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iw(t)}return k(e,[{key:"ea",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;var n=Ch.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ta",value:function(e){var t,n=new Map,r=new nw(this.serializer),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.hs(a.metadata.name),u=T(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Nv()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=c(s().mark((function e(){var t,n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wb(this.localStore,new nw(this.serializer),this.documents,this.X_.id);case 2:t=e.sent,n=this.ta(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Cb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function iw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var aw=k((function e(t){g(this,e),this.key=t})),ow=k((function e(t){g(this,e),this.key=t})),sw=function(){function e(t,n){g(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Nv(),this.mutatedKeys=Nv(),this._a=vv(t),this.aa=new zk(this._a)}return k(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new qk,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=dv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ha(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n._a(f,u)>0||c&&n._a(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:s,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var a=e.la.L_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return th()}};return n(e)-n(t)}(e.type,t.type)||r._a(e.doc,t.doc)})),this.Pa(n);var o=t?this.Ia():[],s=0===this.oa.size&&this.current?1:0,u=s!==this.sa;return this.sa=s,0!==a.length||u?{snapshot:new Hk(this.query,e.aa,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new qk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=Nv(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new ow(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new aw(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=Nv();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return Hk.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),uw=k((function e(t,n,r){g(this,e),this.query=t,this.targetId=n,this.view=r})),cw=k((function e(t){g(this,e),this.key=t,this.Ra=!1})),lw=function(){function e(t,n,r,i,a,o){g(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new gv((function(e){return fv(e)}),lv),this.fa=new Map,this.ga=new Set,this.pa=new Pd(Ih.comparator),this.ya=new Map,this.wa=new By,this.Sa={},this.ba=new Map,this.Da=vy.Nn(),this.onlineState="Unknown",this.Ca=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function fw(e,t){return hw.apply(this,arguments)}function hw(){return hw=c(s().mark((function e(t,n){var r,i,a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ix(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,pb(r.localStore,ov(n));case 8:return u=e.sent,c=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,dw(r,n,i,"current"===c,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&rk(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t,n,r,i){return pw.apply(this,arguments)}function pw(){return pw=c(s().mark((function e(t,n,r,i,a){var o,u,l,f,h,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=c(s().mark((function e(t,n,r,i){var a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,gb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Pw(t,n.targetId,u.Ta),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gb(t.localStore,n,!0);case 3:return o=e.sent,u=new sw(n,o.ls),l=u.ca(o.documents),f=Em.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=u.applyChanges(l,t.isPrimaryClient,f),Pw(t,r,h.Ta),d=new uw(n,r,u),e.abrupt("return",(t.ma.set(n,d),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=c(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rh(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!lv(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ik(r.remoteStore,i.targetId),Aw(r,i.targetId)})).catch(Fh);case 9:e.next=14;break;case 11:return Aw(r,i.targetId),e.next=14,vb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function gw(e,t,n){return yw.apply(this,arguments)}function yw(){return yw=c(s().mark((function e(t,n,r){var i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ax(t),e.prev=1,e.next=4,function(e,t){var n,r,i=rh(e),a=kh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Nv());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=bv(),u=Nv();return i.ss.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=em(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new rm(c.key,l,kp(l.value.mapValue),Qv.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:xv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new Pd(gh)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Mw(i,a.changes);case 9:return e.next=11,kk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Uk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),yw.apply(this,arguments)}function bw(e,t){return kw.apply(this,arguments)}function kw(){return kw=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),e.prev=1,e.next=4,fb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(nh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?nh(n.Ra):e.removedDocuments.size>0&&(nh(n.Ra),n.Ra=!1))})),e.next=8,Mw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Fh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),kw.apply(this,arguments)}function ww(e,t,n){var r=rh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=rh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Zk(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xw(e,t,n){return Cw.apply(this,arguments)}function Cw(){return Cw=c(s().mark((function e(t,n,r){var i,a,o,u,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=rh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Pd(Ih.comparator)).insert(o,wp.newNoDocument(o,wh.min())),c=Nv().add(o),l=new Sm(wh.min(),new Map,new Pd(gh),u,c),e.next=9,bw(i,l);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),Rw(i),e.next=16;break;case 14:return e.next=16,vb(i.localStore,n,!1).then((function(){return Aw(i,n,r)})).catch(Fh);case 16:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Sw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=c(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),i=n.batch.batchId,e.prev=1,e.next=4,cb(r.localStore,n);case 4:return a=e.sent,jw(r,i,null),Dw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Mw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ew.apply(this,arguments)}function Iw(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=c(s().mark((function e(t,n,r){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rh(t),e.prev=1,e.next=4,function(e,t){var n=rh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return nh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,jw(i,n,r),Dw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Mw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_w.apply(this,arguments)}function Nw(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=c(s().mark((function e(t,n){var r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ck((r=rh(t)).remoteStore)||Xf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=rh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ba.get(i)||[]).push(n),r.ba.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Uk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Tw.apply(this,arguments)}function Dw(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function jw(e,t,n){var r=rh(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Aw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||Lw(e,t)}))}function Lw(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(ik(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Rw(e))}function Pw(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof aw?(e.wa.addReference(a.key,t),Ow(e,a)):a instanceof ow?(Xf("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||Lw(e,a.key)):th()}}catch(o){i.e(o)}finally{i.f()}}function Ow(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Xf("SyncEngine","New document in limbo: "+n),e.ga.add(r),Rw(e))}function Rw(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new Ih(Ch.fromString(t)),r=e.Da.next();e.ya.set(r,new cw(n)),e.pa=e.pa.insert(n,r),rk(e.remoteStore,new dg(ov(nv(n.path)),r,"TargetPurposeLimboResolution",Jh._e))}}function Mw(e,t,n){return Fw.apply(this,arguments)}function Fw(){return Fw=c(s().mark((function e(t,n,r){var i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rh(t),a=[],o=[],u=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){u.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=nb.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Va.a_(a),e.next=9,function(){var e=c(s().mark((function e(t,n){var r,i,a,o,u,c,l,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Bh.forEach(n,(function(t){return Bh.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Bh.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Kh(e.t0)){e.next=10;break}throw e.t0;case 10:Xf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(c=r.ts.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.ts=r.ts.insert(u,f))}catch(s){i.e(s)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function Vw(e,t){return Bw.apply(this,arguments)}function Bw(){return(Bw=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=rh(t)).currentUser.isEqual(n)){e.next=11;break}return Xf("SyncEngine","User change. New user:",n.toKey()),e.next=5,sb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new ah(ih.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Mw(r,i._s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uw(e,t){var n=rh(e),r=n.ya.get(t);if(r&&r.Ra)return Nv().add(r.key);var i=Nv(),a=n.fa.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ma.get(u);i=i.unionWith(c.view.ua)}}catch(l){s.e(l)}finally{s.f()}return i}function zw(e,t){return qw.apply(this,arguments)}function qw(){return qw=c(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),e.next=3,gb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.da(i),e.abrupt("return",(r.isPrimaryClient&&Pw(r,n.targetId,a.Ta),a));case 6:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function Hw(e,t){return Kw.apply(this,arguments)}function Kw(){return(Kw=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),e.abrupt("return",bb(r.localStore,n).then((function(e){return Mw(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gw(e,t,n,r){return Ww.apply(this,arguments)}function Ww(){return Ww=c(s().mark((function e(t,n,r,i){var a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rh(t),e.next=3,function(e,t){var n=rh(e),r=rh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Bh.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,kk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(jw(a,n,i||null),Dw(a,n),function(e,t){rh(rh(e).mutationQueue).Fn(t)}(a.localStore,n)):th();case 11:return e.next=13,Mw(a,o);case 13:e.next=16;break;case 15:Xf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Qw(e,t){return Yw.apply(this,arguments)}function Yw(){return(Yw=c(s().mark((function e(t,n){var r,i,a,o,u,c,l,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ix(r=rh(t)),ax(r),!0!==n||!0===r.Ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$w(r,i.toArray());case 5:return a=e.sent,r.Ca=!0,e.next=9,Rk(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(u=o.n()).done;)c=u.value,rk(r.remoteStore,c)}catch(s){o.e(s)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ca){e.next=25;break}return l=[],f=Promise.resolve(),r.fa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Aw(r,t),vb(r.localStore,t,!0)})),ik(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,$w(r,l);case 21:return function(e){var t=rh(e);t.ya.forEach((function(e,n){ik(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Pd(Ih.comparator)}(r),r.Ca=!1,e.next=25,Rk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $w(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=c(s().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p,v,m,g,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=rh(t),a=[],o=[],u=T(n),e.prev=2,u.s();case 4:if((c=u.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i.fa.get(l))||0===h.length){e.next=34;break}return e.next=11,pb(i.localStore,ov(h[0]));case 11:f=e.sent,d=T(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.ma.get(v),e.next=20,zw(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yb(i.localStore,l);case 36:return y=e.sent,e.next=39,pb(i.localStore,y);case 39:return f=e.sent,e.next=42,dw(i,Jw(y),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Va.a_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Xw.apply(this,arguments)}function Jw(e){return tv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Zw(e){return function(e){return rh(rh(e).persistence).Bi()}(rh(e).localStore)}function ex(e,t,n,r){return tx.apply(this,arguments)}function tx(){return tx=c(s().mark((function e(t,n,r,i){var a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=rh(t)).Ca){e.next=3;break}return e.abrupt("return",void Xf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.fa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bb(a.localStore,pv(o[0]));case 10:return u=e.sent,c=Sm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,zd.EMPTY_BYTE_STRING),e.next=14,Mw(a,u,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,vb(a.localStore,n,!0);case 17:return Aw(a,n,i),e.abrupt("break",20);case 19:th();case 20:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t,n){return rx.apply(this,arguments)}function rx(){return rx=c(s().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ix(t)).Ca){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.fa.has(u)){e.next=10;break}return Xf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yb(i.localStore,u);case 12:return c=e.sent,e.next=15,pb(i.localStore,c);case 15:return l=e.sent,e.next=18,dw(i,Jw(c),l.targetId,!1,l.resumeToken);case 18:rk(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=T(r),e.prev=30,d=s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.fa.has(t),!e.t0){e.next=5;break}return e.next=5,vb(i.localStore,t,!1).then((function(){ik(i.remoteStore,t),Aw(i,t)})).catch(Fh);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),rx.apply(this,arguments)}function ix(e){var t=rh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xw.bind(null,t),t.Va.a_=Xk.bind(null,t.eventManager),t.Va.Fa=Jk.bind(null,t.eventManager),t}function ax(e){var t=rh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Iw.bind(null,t),t}function ox(e,t,n){var r=rh(e);(function(){var e=c(s().mark((function e(t,n,r){var i,a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=rh(e),r=Um(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(iw(i)),a=new rw(i,t.localStore,n.serializer),e.next=15,n.Ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ea(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,Mw(t,c.ra,void 0);case 31:return e.next=33,function(e,t){var n=rh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.na));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Zf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sx=function(){function e(){g(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Kb(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return ob(this.persistence,new ib,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Gy(Qy.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Pb}},{key:"terminate",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ux=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).xa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=c(s().mark((function e(t){var r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(C(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.xa.initialize(this,t);case 4:return e.next=6,ax(this.xa.syncEngine);case 6:return e.next=8,kk(this.xa.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return ob(this.persistence,new ib,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new xy(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Xh(t,this.persistence);return new $h(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=tb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sy.withCacheSize(this.cacheSizeBytes):sy.DEFAULT;return new Jy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qb(),Hb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Pb}}]),n}(sx),cx=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r,!1)).xa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=c(s().mark((function e(t){var r,i=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(C(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.xa.syncEngine,e.t0=this.sharedClientState instanceof Lb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Ys:Gw.bind(null,r),Zs:ex.bind(null,r),Xs:nx.bind(null,r),Bi:Zw.bind(null,r),Js:Hw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qw(i.xa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=qb();if(!Lb.D(t))throw new ah(ih.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ux),lx=function(){function e(){g(this,e)}return k(e,[{key:"initialize",value:function(){var e=c(s().mark((function e(t,n){var r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ww(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vw.bind(null,this.syncEngine),e.next=12,Rk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Gk}},{key:"createDatastore",value:function(e){var t=Kb(e.databaseInfo.databaseId),n=function(e){return new zb(e)}(e.databaseInfo);return function(e,t,n,r){return new $b(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Jb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return ww(t.syncEngine,e,0)}),Rb.D()?new Rb:new Ob)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new lw(e,t,n,r,i,a);return o&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rh(t),Xf("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,tk(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function fx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return c(s().mark((function r(){var i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var hx=function(){function e(t){g(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):Jf("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),dx=function(){function e(t,n){var r=this;g(this,e),this.Ba=t,this.serializer=n,this.metadata=new oh,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((function(e){e&&e.Z_()?r.metadata.resolve(e.Y_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.Ba.cancel()}},{key:"getMetadata",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ka());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=c(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.La.decode(t),r=Number(n),isNaN(r)&&this.Qa("length string (".concat(n,") is not valid number")),e.next=9,this.Ka(r);case 9:return i=e.sent,e.abrupt("return",new tw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"qa",value:function(){var e=c(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.$a()<0)){e.next=7;break}return e.next=3,this.Ua();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.$a())<0&&this.Qa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ka",value:function(){var e=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ua();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Qa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.La.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qa",value:function(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ua",value:function(){var e=c(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),px=function(){function e(t){g(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=c(s().mark((function e(t){var n,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ah(ih.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=c(s().mark((function e(t,n){var r,i,a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),i=Qm(r.serializer)+"/documents",a={documents:n.map((function(e){return Hm(r.serializer,e)}))},e.next=5,r.Co("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Jm(r.serializer,e);u.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());nh(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new cm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=c(s().mark((function e(){var t,n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ih.fromPath(t);n.mutations.push(new lm(r,n.precondition(r)))})),e.next=7,function(){var e=c(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rh(t),i=Qm(r.serializer)+"/documents",a={writes:n.map((function(e){return Zm(r.serializer,e)}))},e.next=3,r.wo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw th();t=wh.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ah(ih.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wh.min())?Qv.exists(!1):Qv.updateTime(t):Qv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wh.min()))throw new ah(ih.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qv.updateTime(t)}return Qv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),vx=function(){function e(t,n,r,i,a){g(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Wa=r.maxAttempts,this.zo=new Gb(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.Wa-=1,this.Ga()}},{key:"Ga",value:function(){var e=this;this.zo.ko(c(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new px(e.datastore),(r=e.za(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ja(t)}))}))})).catch((function(t){e.ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"za",value:function(e){try{var t=this.updateFunction(e);return!Zh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ja",value:function(e){var t=this;this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ga(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ha",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vm(t)}return!1}}]),e}(),mx=function(){function e(t,n,r,i){var a=this;g(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wf.UNAUTHENTICATED,this.clientId=mh.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Xf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ah(ih.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new oh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(c(s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Uk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function gx(e,t){return yx.apply(this,arguments)}function yx(){return yx=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Xf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,sb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function bx(e,t){return kx.apply(this,arguments)}function kx(){return kx=c(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,xx(t);case 3:return r=e.sent,Xf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Pk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Pk(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function wx(e){return"FirebaseError"===e.name?e.code===ih.FAILED_PRECONDITION||e.code===ih.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function xx(e){return Cx.apply(this,arguments)}function Cx(){return(Cx=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Xf("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,gx(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),wx(n=e.t0)){e.next=13;break}throw n;case 13:return Zf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,gx(t,new sx);case 16:e.next=21;break;case 18:return Xf("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,gx(t,new sx);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Sx(e){return Ex.apply(this,arguments)}function Ex(){return(Ex=c(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Xf("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,bx(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Xf("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,bx(t,new lx);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ix(e){return xx(e).then((function(e){return e.persistence}))}function _x(e){return xx(e).then((function(e){return e.localStore}))}function Nx(e){return Sx(e).then((function(e){return e.remoteStore}))}function Tx(e){return Sx(e).then((function(e){return e.syncEngine}))}function Dx(e){return Sx(e).then((function(e){return e.datastore}))}function jx(e){return Ax.apply(this,arguments)}function Ax(){return(Ax=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=fw.bind(null,n.syncEngine),r.onUnlisten=vw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function i(){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hx({next:function(a){t.enqueueAndForget((function(){return Yk(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new ah(ih.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new ah(ih.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ew(nv(n.path),a,{includeMetadataChanges:!0,J_:!0});return Wk(e,o)},i.next=3,jx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Px(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function i(){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hx({next:function(n){t.enqueueAndForget((function(){return Yk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ah(ih.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ew(n,a,{includeMetadataChanges:!0,J_:!0});return Wk(e,o)},i.next=3,jx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ox(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Rx=new Map;function Mx(e,t,n){if(!n)throw new ah(ih.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fx(e,t,n,r){if(!0===t&&!0===r)throw new ah(ih.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Vx(e){if(!Ih.isDocumentKey(e))throw new ah(ih.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bx(e){if(Ih.isDocumentKey(e))throw new ah(ih.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ux(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":th()}function zx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ah(ih.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ux(e);throw new ah(ih.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function qx(e,t){if(t<=0)throw new ah(ih.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Hx=function(){function e(t){var n,r;if(g(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ah(ih.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ah(ih.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Fx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ah(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ah(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ah(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Kx=function(){function e(t,n,r,i){g(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hx({}),this._settingsFrozen=!1}return k(e,[{key:"app",get:function(){if(!this._app)throw new ah(ih.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ah(ih.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new uh;switch(e.type){case"firstParty":return new hh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ah(ih.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Rx.get(e);t&&(Xf("ComponentProvider","Removing Datastore"),Rx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zx(e,Kx))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Zf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Wf.MOCK_USER;else{s=on(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ah(ih.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wf(c)}e._authCredentials=new ch(new sh(s,u))}}var Wx=function(){function e(t,n,r){g(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Qx=function(){function e(t,n,r){g(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Yx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Yx=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,e,r,nv(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Qx(this.firestore,null,new Ih(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wx);function $x(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=En(e),Mx("collection","path",t),e instanceof Kx){var a=Ch.fromString.apply(Ch,[t].concat(r));return Bx(a),new Yx(e,null,a)}if(!(e instanceof Qx||e instanceof Yx))throw new ah(ih.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ch.fromString.apply(Ch,[t].concat(r)));return Bx(o),new Yx(e.firestore,null,o)}function Xx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=En(e),1===arguments.length&&(t=mh.newId()),Mx("doc","path",t),e instanceof Kx){var a=Ch.fromString.apply(Ch,[t].concat(r));return Vx(a),new Qx(e,null,new Ih(a))}if(!(e instanceof Qx||e instanceof Yx))throw new ah(ih.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ch.fromString.apply(Ch,[t].concat(r)));return Vx(o),new Qx(e.firestore,e instanceof Yx?e.converter:null,new Ih(o))}function Jx(e,t){return e=En(e),t=En(t),(e instanceof Qx||e instanceof Yx)&&(t instanceof Qx||t instanceof Yx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Zx(e,t){return e=En(e),t=En(t),e instanceof Wx&&t instanceof Wx&&e.firestore===t.firestore&&lv(e._query,t._query)&&e.converter===t.converter}var eC=function(){function e(){var t=this;g(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Gb(this,"async_queue_retry"),this.iu=function(){var e=Hb();e&&Xf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=Hb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return k(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=Hb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new oh;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=c(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Kh(e.t0)){e.next=12;break}throw e.t0;case 12:Xf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=Bk.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&th()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=T(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();function tC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var nC=function(){function e(){g(this,e),this._progressObserver={},this._taskCompletionResolver=new oh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),rC=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new eC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||aC(this),this._firestoreClient.terminate()}}]),n}(Kx);function iC(e){return e._firestoreClient||aC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function aC(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new $d(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ox(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new mx(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function oC(e,t,n){var r=new oh;return e.asyncQueue.enqueue(c(s().mark((function i(){var a;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,gx(e,n);case 3:return i.next=5,bx(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),wx(a=i.t0)){i.next=13;break}throw a;case 13:Zf("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sC(e){return function(e){return e.asyncQueue.enqueue(c(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ix(e);case 2:return n=t.sent,t.next=5,Nx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=rh(e);return t.C_.delete(0),Zb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(iC(e=zx(e,rC)))}function uC(e){return function(e){return e.asyncQueue.enqueue(c(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ix(e);case 2:return n=t.sent,t.next=5,Nx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=rh(t)).C_.add(0),e.next=4,tk(n);case 4:n.M_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(iC(e=zx(e,rC)))}function cC(e,t){var n=iC(e=zx(e,rC)),r=new nC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new dx(e,t)}(function(e,t){if(e instanceof Uint8Array)return fx(e,t);if(e instanceof ArrayBuffer)return fx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?ym().encode(e):e),t)}(n,Kb(t));e.asyncQueue.enqueueAndForget(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ox,t.next=3,Tx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function lC(e,t){return function(e,t){return e.asyncQueue.enqueue(c(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=rh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,_x(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(iC(e=zx(e,rC)),t).then((function(t){return t?new Wx(e,null,t.query):null}))}function fC(e){if(e._initialized||e._terminated)throw new ah(ih.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hC=function(){function e(t){g(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(zd.fromBase64String(t))}catch(t){throw new ah(ih.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(zd.fromUint8Array(t))}}]),e}(),dC=function(){function e(){g(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ah(ih.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eh(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pC=k((function e(t){g(this,e),this._methodName=t})),vC=function(){function e(t,n){if(g(this,e),!isFinite(t)||t<-90||t>90)throw new ah(ih.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ah(ih.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return gh(this._lat,e._lat)||gh(this._long,e._long)}}]),e}(),mC=/^__.*__$/,gC=function(){function e(t,n,r){g(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new rm(e,this.data,this.fieldMask,t,this.fieldTransforms):new nm(e,this.data,t,this.fieldTransforms)}}]),e}(),yC=function(){function e(t,n,r){g(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new rm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw th()}}var kC=function(){function e(t,n,r,i,a,o){g(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return BC(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(bC(this.Iu)&&mC.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),wC=function(){function e(t,n,r){g(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Kb(t)}return k(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kC({Iu:e,methodName:t,gu:n,path:Eh.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function xC(e){var t=e._freezeSettings(),n=Kb(e._databaseId);return new wC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function CC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);RC("Data must be an object, but it was:",o,r);var s,u,c=PC(r,o);if(a.merge)s=new Bd(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=MC(t,l.value,n);if(!o.contains(d))throw new ah(ih.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));UC(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Bd(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new gC(new bp(c),s,u)}var SC=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pC);function EC(e,t,n){return new kC({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var IC=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new Gv(e.path,new Fv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pC),_C=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).yu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=EC(this,e,!0),n=this.yu.map((function(e){return LC(e,t)})),r=new Vv(n);return new Gv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pC),NC=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).yu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=EC(this,e,!0),n=this.yu.map((function(e){return LC(e,t)})),r=new Uv(n);return new Gv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pC),TC=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).wu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new qv(e.serializer,Lv(e.serializer,this.wu));return new Gv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pC);function DC(e,t,n,r){var i=e.pu(1,t,n);RC("Data must be an object, but it was:",i,r);var a=[],o=bp.empty();Ad(r,(function(e,r){var s=VC(t,e,n);r=En(r);var u=i.Ru(s);if(r instanceof SC)a.push(s);else{var c=LC(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Bd(a);return new yC(o,s,i.fieldTransforms)}function jC(e,t,n,r,i,a){var o=e.pu(1,t,n),s=[MC(t,r,n)],u=[i];if(a.length%2!=0)throw new ah(ih.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(MC(t,a[c])),u.push(a[c+1]);for(var l=[],f=bp.empty(),h=s.length-1;h>=0;--h)if(!UC(l,s[h])){var d=s[h],p=u[h];p=En(p);var v=o.Ru(d);if(p instanceof SC)l.push(d);else{var m=LC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Bd(l);return new yC(f,g,o.fieldTransforms)}function AC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return LC(n,e.pu(r?4:3,t))}function LC(e,t){if(OC(e=En(e)))return RC("Unsupported field value:",t,e),PC(e,t);if(e instanceof pC)return function(e,t){if(!bC(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=LC(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=En(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Lv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=kh.fromDate(e);return{timestampValue:Fm(t.serializer,n)}}if(e instanceof kh){var r=new kh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fm(t.serializer,r)}}if(e instanceof vC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hC)return{bytesValue:Vm(t.serializer,e._byteString)};if(e instanceof Qx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Ux(e)))}(e,t)}function PC(e,t){var n={};return Ld(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ad(e,(function(e,r){var i=LC(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function OC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kh||e instanceof vC||e instanceof hC||e instanceof Qx||e instanceof pC)}function RC(e,t,n){if(!OC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ux(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function MC(e,t,n){if((t=En(t))instanceof dC)return t._internalPath;if("string"==typeof t)return VC(e,t);throw BC("Field path arguments must be of type string or ",e,!1,void 0,n)}var FC=new RegExp("[~\\*/\\[\\]]");function VC(e,t,n){if(t.search(FC)>=0)throw BC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(dC,m(t.split(".")))._internalPath}catch(Rs){throw BC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function BC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ah(ih.INVALID_ARGUMENT,s+e+u)}function UC(e,t){return e.some((function(e){return e.isEqual(t)}))}var zC=function(){function e(t,n,r,i,a){g(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Qx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),qC=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return No(C(n.prototype),"data",this).call(this)}}]),n}(zC);function HC(e,t){return"string"==typeof t?VC(e,t):t instanceof dC?t._internalPath:t._delegate._internalPath}function KC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ah(ih.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var GC=k((function e(){g(this,e)})),WC=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n)}(GC);function QC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof GC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof $C})).length,n=e.filter((function(e){return e instanceof YC})).length;if(t>1||t>0&&n>0)throw new ah(ih.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=T(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var YC=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=this._parse(e);return uS(e._query,t),new Wx(e.firestore,e.converter,uv(e._query,t))}},{key:"_parse",value:function(e){var t=xC(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ah(ih.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sS(o,a);var u,c=[],l=T(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(oS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=oS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sS(o,a),s=AC(n,t,o,"in"===a||"not-in"===a);return Np.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WC);var $C=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return k(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Tp.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;uS(r,a),r=uv(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Wx(e.firestore,e.converter,uv(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(GC);var XC=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ah(ih.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ah(ih.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ep(t,n)}(e._query,this._field,this._direction);return new Wx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ev(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(WC);var JC=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return k(n,[{key:"_apply",value:function(e){return new Wx(e.firestore,e.converter,cv(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WC);var ZC=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return k(n,[{key:"_apply",value:function(e){var t=aS(e,this.type,this._docOrFields,this._inclusive);return new Wx(e.firestore,e.converter,function(e,t){return new ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WC);function eS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZC._create("startAt",t,!0)}function tS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZC._create("startAfter",t,!1)}var nS=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return k(n,[{key:"_apply",value:function(e){var t=aS(e,this.type,this._docOrFields,this._inclusive);return new Wx(e.firestore,e.converter,function(e,t){return new ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WC);function rS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nS._create("endBefore",t,!1)}function iS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nS._create("endAt",t,!0)}function aS(e,t,n,r){if(n[0]=En(n[0]),n[0]instanceof zC)return function(e,t,n,r,i){if(!r)throw new ah(ih.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=T(av(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(sp(t,r.key));else{var c=r.data.field(u.field);if(Wd(c))throw new ah(ih.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ah(ih.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new xp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ah(ih.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new ah(ih.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!iv(e)&&-1!==c.indexOf("/"))throw new ah(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ch.fromString(c));if(!Ih.isDocumentKey(l))throw new ah(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ih(l);s.push(sp(t,f))}else{var h=AC(n,r,c);s.push(h)}}return new xp(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function oS(e,t,n){if("string"==typeof(n=En(n))){if(""===n)throw new ah(ih.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iv(t)&&-1!==n.indexOf("/"))throw new ah(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ch.fromString(n));if(!Ih.isDocumentKey(r))throw new ah(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sp(e,new Ih(r))}if(n instanceof Qx)return sp(e,n._key);throw new ah(ih.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ux(n),"."))}function sS(e,t){if(!Array.isArray(e)||0===e.length)throw new ah(ih.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function uS(e,t){var n=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ah(ih.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ah(ih.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var cS=function(){function e(){g(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ep(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw th()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Ad(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new vC(Kd(e.latitude),Kd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Qd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Hd(e);return new kh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ch.fromString(e);nh(hg(n));var r=new Xd(n.get(1),n.get(3)),i=new Ih(n.popFirst(5));return r.isEqual(t)||Jf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function lS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fS=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new hC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qx(this.firestore,null,t)}}]),n}(cS);var hS=function(){function e(t,n){g(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),dS=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return g(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return k(n,[{key:"exists",value:function(){return No(C(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new pS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zC),pS=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return No(C(n.prototype),"data",this).call(this,e)}}]),n}(dS),vS=function(){function e(t,n,r,i){g(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hS(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pS(n._firestore,n._userDataWriter,r.key,r,new hS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ah(ih.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new pS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:mS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function mS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return th()}}function gS(e,t){return e instanceof dS&&t instanceof dS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vS&&t instanceof vS&&e._firestore===t._firestore&&Zx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var yS=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new hC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qx(this.firestore,null,t)}}]),n}(cS);function bS(e){e=zx(e,Qx);var t=zx(e.firestore,rC),n=iC(t),r=new yS(t);return function(e,t){var n=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=c(s().mark((function e(t,n,r){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=rh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ah(ih.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Uk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new dS(t,r,e._key,n,new hS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kS(e){e=zx(e,Wx);var t=zx(e.firestore,rC),n=iC(t),r=new yS(t);return function(e,t){var n=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=c(s().mark((function e(t,n,r){var i,a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gb(t,n,!0);case 3:i=e.sent,a=new sw(n,i.ls),o=a.ca(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=Uk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new vS(t,r,e,n)}))}function wS(e,t,n){e=zx(e,Qx);var r=zx(e.firestore,rC),i=lS(e.converter,t,n);return ES(r,[CC(xC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qv.none())])}function xS(e,t,n){e=zx(e,Qx);for(var r=zx(e.firestore,rC),i=xC(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ES(r,[("string"==typeof(t=En(t))||t instanceof dC?jC(i,"updateDoc",e._key,t,n,o):DC(i,"updateDoc",e._key,t)).toMutation(e._key,Qv.exists(!0))])}function CS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=En(e);var u={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||tC(n[l])||(u=n[l],l++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(tC(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Qx)h=zx(e.firestore,rC),d=nv(e._key.path),f={next:function(t){n[l]&&n[l](IS(h,e,t))},error:n[l+1],complete:n[l+2]};else{var m=zx(e,Wx);h=zx(m.firestore,rC),d=m._query;var g=new yS(h);f={next:function(e){n[l]&&n[l](new vS(h,g,m,e))},error:n[l+1],complete:n[l+2]},KC(e._query)}return function(e,t,n,r){var i=new hx(r),a=new ew(t,i,n);return e.asyncQueue.enqueueAndForget(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wk,t.next=3,jx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Na(),e.asyncQueue.enqueueAndForget(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Yk,t.next=3,jx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(iC(h),d,p,f)}function SS(e,t){return function(e,t){var n=new hx(t);return e.asyncQueue.enqueueAndForget(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){rh(e).q_.add(t),t.next()},t.next=3,jx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Na(),e.asyncQueue.enqueueAndForget(c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){rh(e).q_.delete(t)},t.next=3,jx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(iC(e=zx(e,rC)),tC(t)?t:{next:t})}function ES(e,t){return function(e,t){var n=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=gw,r.next=3,Tx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(iC(e),t)}function IS(e,t,n){var r=n.docs.get(t._key),i=new yS(e);return new dS(e,i,t._key,r,new hS(n.hasPendingWrites,n.fromCache),t.converter)}var _S={maxAttempts:5},NS=function(){function e(t,n){g(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xC(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=TS(e,this._firestore),i=lS(r.converter,t,n),a=CC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Qv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=TS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=En(t))||t instanceof dC?jC(this._dataReader,"WriteBatch.update",i._key,t,n,o):DC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Qv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=TS(e,this._firestore);return this._mutations=this._mutations.concat(new cm(t._key,Qv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ah(ih.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function TS(e,t){if((e=En(e)).firestore!==t)throw new ah(ih.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var DS=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=TS(e,this._firestore),i=new yS(this._firestore);return No(C(n.prototype),"get",this).call(this,e).then((function(e){return new dS(t._firestore,i,r._key,e._document,new hS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){g(this,e),this._firestore=t,this._transaction=n,this._dataReader=xC(t)}return k(e,[{key:"get",value:function(e){var t=this,n=TS(e,this._firestore),r=new fS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return th();var i=e[0];if(i.isFoundDocument())return new zC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zC(t._firestore,r,n._key,null,n.converter);throw th()}))}},{key:"set",value:function(e,t,n){var r=TS(e,this._firestore),i=lS(r.converter,t,n),a=CC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=TS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=En(t))||t instanceof dC?jC(this._dataReader,"Transaction.update",i._key,t,n,o):DC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=TS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function jS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _C("arrayUnion",t)}function AS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NC("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qf=e}(kr),dr(new In("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new rC(new lh(e.getProvider("auth-internal")),new ph(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ah(ih.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ir(Gf,"4.3.2",e),Ir(Gf,"4.3.2","esm2017")}();function LS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ah("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function PS(){if("undefined"===typeof Uint8Array)throw new ah("unimplemented","Uint8Arrays are not available in this environment.")}function OS(){if("undefined"==typeof atob)throw new ah("unimplemented","Blobs are unavailable in Firestore in this environment.")}var RS=function(){function e(t){g(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return OS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return PS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return OS(),new e(hC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return PS(),new e(hC.fromUint8Array(t))}}]),e}();function MS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var FS=function(){function e(){g(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){fC(e=zx(e,rC));var n=iC(e);if(n._uninitializedComponentsProvider)throw new ah(ih.FAILED_PRECONDITION,"SDK cache is already specified.");Zf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new lx;return oC(n,i,new ux(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){fC(e=zx(e,rC));var t=iC(e);if(t._uninitializedComponentsProvider)throw new ah(ih.FAILED_PRECONDITION,"SDK cache is already specified.");Zf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new lx;return oC(t,r,new cx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ah(ih.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new oh;return e._queue.enqueueAndForgetEvenWhileRestricted(c(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=c(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zh.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,zh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(tb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),VS=function(){function e(t,n,r){var i=this;g(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Xd||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Zf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sC(this._delegate)}},{key:"disableNetwork",value:function(){return uC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Fx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Nw,n.next=3,Tx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(iC(zx(this._delegate,rC)))}},{key:"onSnapshotsInSync",value:function(e){return SS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ah("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ZS(this,$x(this._delegate,e))}catch(t){throw KS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new HS(this,Xx(this._delegate,e))}catch(t){throw KS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $S(this,function(e,t){if(e=zx(e,Kx),Mx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ah(ih.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Wx(e,null,function(e){return new ev(Ch.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw KS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=zx(e,rC);var r=Object.assign(Object.assign({},_S),n);return function(e){if(e.maxAttempts<1)throw new ah(ih.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new oh;return e.asyncQueue.enqueueAndForget(c(s().mark((function i(){var a;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dx(e);case 2:a=i.sent,new vx(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(iC(e),(function(n){return t(new DS(e,n))}),r)}(this._delegate,(function(n){return e(new US(t,n))}))}},{key:"batch",value:function(){var e=this;return iC(this._delegate),new zS(new NS(this._delegate,(function(t){return ES(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return cC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return lC(this._delegate,e).then((function(e){return e?new $S(t,e):null}))}}]),e}(),BS=function(e){x(n,e);var t=I(n);function n(e){var r;return g(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new RS(new hC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return HS.forKey(t,this.firestore,null)}}]),n}(cS);var US=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BS(t)}return k(e,[{key:"get",value:function(e){var t=this,n=eE(e);return this._delegate.get(n).then((function(e){return new QS(t._firestore,new dS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=eE(e);return n?(LS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=eE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=eE(e);return this._delegate.delete(t),this}}]),e}(),zS=function(){function e(t){g(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=eE(e);return n?(LS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=eE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=eE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),qS=function(){function e(t,n,r){g(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new pS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new YS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BS(t),n),i.set(n,a)),a}}]),e}();qS.INSTANCES=new WeakMap;var HS=function(){function e(t,n){g(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BS(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ZS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ZS(this.firestore,$x(this._delegate,e))}catch(t){throw KS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=En(e))instanceof Qx&&Jx(this._delegate,e)}},{key:"set",value:function(e,t){t=LS("DocumentReference.set",t);try{return t?wS(this._delegate,e,t):wS(this._delegate,e)}catch(n){throw KS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xS(this._delegate,e):xS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw KS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return ES(zx((e=this._delegate).firestore,rC),[new cm(e._key,Qv.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=GS(n),a=WS(n,(function(t){return new QS(e.firestore,new dS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return CS(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?bS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zx(e,Qx);var t=zx(e.firestore,rC);return Lx(iC(t),e._key,{source:"server"}).then((function(n){return IS(t,e,n)}))}(this._delegate):function(e){e=zx(e,Qx);var t=zx(e.firestore,rC);return Lx(iC(t),e._key).then((function(n){return IS(t,e,n)}))}(this._delegate)).then((function(e){return new QS(t.firestore,new dS(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(qS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ah("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Qx(n._delegate,r,new Ih(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Qx(n._delegate,r,t))}}]),e}();function KS(e,t,n){return e.message=e.message.replace(t,n),e}function GS(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!MS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function WS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=MS(e[0])?e[0]:MS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var QS=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new HS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gS(this._delegate,e._delegate)}}]),e}(),YS=function(e){x(n,e);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||void 0!==t||th(),t}}]),n}(QS),$S=function(){function e(t,n){g(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BS(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,QC(this._delegate,function(e,t,n){var r=t,i=HC("where",e);return YC._create(i,r,n)}(t,n,r)))}catch(i){throw KS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,QC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=HC("orderBy",e);return XC._create(n,t)}(t,n)))}catch(r){throw KS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,QC(this._delegate,(qx("limit",n=t),JC._create("limit",n,"F"))))}catch(n){throw KS(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,QC(this._delegate,(qx("limitToLast",n=t),JC._create("limitToLast",n,"L"))))}catch(n){throw KS(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,QC(this._delegate,eS.apply(void 0,arguments)))}catch(t){throw KS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,QC(this._delegate,tS.apply(void 0,arguments)))}catch(t){throw KS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,QC(this._delegate,rS.apply(void 0,arguments)))}catch(t){throw KS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,QC(this._delegate,iS.apply(void 0,arguments)))}catch(t){throw KS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Zx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zx(e,Wx);var t=zx(e.firestore,rC),n=iC(t),r=new yS(t);return Px(n,e._query,{source:"server"}).then((function(n){return new vS(t,r,e,n)}))}(this._delegate):function(e){e=zx(e,Wx);var t=zx(e.firestore,rC),n=iC(t),r=new yS(t);return KC(e._query),Px(n,e._query).then((function(n){return new vS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new JS(n.firestore,new vS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=GS(n),a=WS(n,(function(t){return new JS(e.firestore,new vS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return CS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(qS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),XS=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new YS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),JS=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new $S(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new YS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new XS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new YS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gS(this._delegate,e._delegate)}}]),e}(),ZS=function(e){x(n,e);var t=I(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new HS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new HS(this.firestore,void 0===e?Xx(this._delegate):Xx(this._delegate,e))}catch(t){throw KS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zx(e.firestore,rC),r=Xx(e),i=lS(e.converter,t);return ES(n,[CC(xC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new HS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Jx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(qS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($S);function eE(e){return zx(e,Qx)}var tE,nE=function(){function e(){g(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(dC,n)}return k(e,[{key:"isEqual",value:function(e){return(e=En(e))instanceof dC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Eh.keyField().canonicalString())}}]),e}(),rE=function(){function e(t){g(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new IC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new SC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=jS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=AS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new TC("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),iE={Firestore:VS,GeoPoint:vC,Timestamp:kh,Blob:RS,Transaction:US,WriteBatch:zS,DocumentReference:HS,DocumentSnapshot:QS,Query:$S,QueryDocumentSnapshot:YS,QuerySnapshot:JS,CollectionReference:ZS,FieldPath:nE,FieldValue:rE,setLogLevel:function(e){var t;t=e,Yf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new In("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iE)))})(tE=xs,(function(e,t){return new VS(e,t,new FS)})),tE.registerVersion("@firebase/firestore-compat","0.3.22");var aE=function(){var e=p((0,r.useState)({compId:"Not available",compName:"Not available",mobNum:"Not available",dateOfInci:"Not available",category:"Not available",details:"Not available"}),2),t=e[0],n=e[1];(0,r.useEffect)((function(){xs.apps.length||xs.initializeApp({apiKey:"AIzaSyDjsec2TjbFSkTom1C4Xx-fXSagCTPrTJo",authDomain:"cyberthon-8e6f0.firebaseapp.com",databaseURL:"https://cyberthon-8e6f0-default-rtdb.firebaseio.com",projectId:"cyberthon-8e6f0",storageBucket:"cyberthon-8e6f0.appspot.com",messagingSenderId:"554653440274",appId:"1:554653440274:web:3a96eece739f0af215fbcb",measurementId:"G-MS3FFCDJDF"});var e=xs.firestore(),t=e.collection("aM2yd3KJ09Ym92GQ7JymaOSwTbi1").doc("Alleged Details"),r=e.collection("aM2yd3KJ09Ym92GQ7JymaOSwTbi1").doc("Incident Details");t.get().then((function(e){if(e.exists){var t=e.data();n((function(n){return st(st({},n),{},{compId:e.id,compName:t.algname||"Not available",mobNum:t.mob||"Not available",location:t.loc||"Not available"})}))}else console.log("No such document1!")})),r.get().then((function(e){if(e.exists){var t=e.data();n((function(e){return st(st({},e),{},{category:t.nature||"Not available",details:t.desc||"Not available",datefrom:t.datefrom||"Not available",dateOfInci:t.datefrom||"Not available"})}))}else console.log("No such document2!")}))}),[]);var i=Ce(),a=p((0,r.useState)(!1),2),o=a[0],s=a[1],u="\xa0";return(0,et.jsxs)("div",{className:"casePage",children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"casepage-mainsection",children:[(0,et.jsxs)("div",{className:"casepage-mainsection-left",children:[(0,et.jsx)("div",{className:"case-top",children:(0,et.jsx)("div",{className:"case-top-left",children:(0,et.jsxs)("div",{className:"case-head",children:[t.compId,": ",t.compName]})})}),(0,et.jsxs)("div",{className:"case-gridq",children:[(0,et.jsxs)("div",{className:"flex-1",children:[(0,et.jsxs)("div",{className:"flex-1-items",children:[(0,et.jsx)("h2",{className:"flex-head",children:"FIR Image :"}),(0,et.jsx)("div",{children:(0,et.jsx)(ps,{imageUrl:"https://example.com/sample-image.jpg",isFullscreen:o,toggleFullscreen:function(){s(!o)}})})]}),(0,et.jsxs)("div",{className:"flex-1-items",children:[(0,et.jsxs)("div",{className:"caseNameAndTag",children:[(0,et.jsx)("h2",{className:"flex-head",children:t.details}),(0,et.jsxs)("div",{className:"case-tag",children:[(0,et.jsx)("div",{className:"tag g",children:"Highly Critical"}),(0,et.jsx)("div",{className:"tag r",children:"Murder"}),(0,et.jsx)("div",{className:"tag",children:"Forwarded"})]})]}),(0,et.jsx)("div",{children:"The defence attorney claimed that Nobin Chandra had committed the act in a fit of rage and to ensure that his wife had to belong to him. It was claimed that when Elokeshi confessed about her actions to the defendant, Nobin wanted to protect her and shift her from her parent\u2019s house, over which the Priest had control. But the latter became aware of these plans and his goons prevented the shift from happening, leading to Nobin Chandra killing his wife. Nobin then immediately went to the Police to confess his crimes. The entire series of events painted Nobin as the victim. The jury eventually acquitted the defendant on the grounds of insanity. But the Sessions judge overturned the judgement on the ground of \u201cdisagreement on the native sense of justice\u201d and sent the case to the Calcutta High Court wherein the defendant was held guilty."})]})]}),(0,et.jsxs)("div",{className:"flex-2",children:[(0,et.jsxs)("div",{className:"flex-2-items victim",children:[(0,et.jsx)("h2",{className:"flex-head",onClick:function(){return i("/Communications")},children:"Victim Details:"}),(0,et.jsxs)("div",{children:[(0,et.jsxs)("span",{className:"d",children:["Name: ",(0,et.jsx)("span",{className:"bold",children:"John Doe"})]}),(0,et.jsxs)("span",{className:"d",children:["Age: ",(0,et.jsx)("span",{className:"bold",children:"30"})]}),(0,et.jsx)("span",{className:"d",children:"Address: 123 Main Street"}),(0,et.jsx)("span",{className:"d",children:"Phone: 555-555-5555"})]})]}),(0,et.jsxs)("div",{className:"flex-2-items",children:[(0,et.jsx)("h2",{className:"flex-head",children:"Culprit Details:"}),(0,et.jsxs)("div",{children:[(0,et.jsxs)("span",{className:"d",children:["Name: ",(0,et.jsx)("span",{className:"bold",children:"Jane Doe"})]}),(0,et.jsxs)("span",{className:"d",children:["Age: ",(0,et.jsx)("span",{className:"bold",children:"35"})]}),(0,et.jsx)("span",{className:"d",children:"Address: 456 Elm Street"}),(0,et.jsx)("span",{className:"d",children:"Phone: 555-555-5556"})]})]}),(0,et.jsxs)("div",{className:"flex-2-items",children:[(0,et.jsx)("h2",{className:"flex-head",children:"Eye Witness Details:"}),(0,et.jsxs)("div",{children:[(0,et.jsxs)("span",{className:"d",children:["Name: ",(0,et.jsx)("span",{className:"bold",children:"James Smith"})]}),(0,et.jsxs)("span",{className:"d",children:["Age: ",(0,et.jsx)("span",{className:"bold",children:"25"})]}),(0,et.jsx)("span",{className:"d",children:"Address: 789 Oak Street"}),(0,et.jsx)("span",{className:"d",children:"Phone: 555-555-5557"})]})]})]}),(0,et.jsxs)("div",{className:"flex-3",children:[(0,et.jsx)("div",{children:"DS"}),(0,et.jsx)("div",{children:"DS"}),(0,et.jsx)("div",{children:"DS"})]})]})]}),(0,et.jsxs)("div",{className:"casepage-mainsection-right",children:[(0,et.jsxs)("div",{className:"casepage-mainsection-right-top",children:[(0,et.jsxs)("div",{className:"casepage-mainsection-right-top-tags",children:[(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,et.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.875 7.5V14.375H6.875V1.875H11.25V5.3125C11.25 6.52 12.23 7.5 13.4375 7.5H16.875ZM13.125 2.02625L16.7237 5.625H13.4375C13.3546 5.625 13.2751 5.59208 13.2165 5.53347C13.1579 5.47487 13.125 5.39538 13.125 5.3125V2.02625ZM6.25 0C5.91848 0 5.60054 0.131696 5.36612 0.366117C5.1317 0.600537 5 0.918479 5 1.25V3.75H2.8125C1.95 3.75 1.25 4.45 1.25 5.3125V18.4375C1.25 19.3 1.95 20 2.8125 20H13.125C13.9875 20 14.6875 19.3 14.6875 18.4375V16.35C14.6876 16.3166 14.6859 16.2832 14.6825 16.25H17.5C17.8315 16.25 18.1495 16.1183 18.3839 15.8839C18.6183 15.6495 18.75 15.3315 18.75 15V5.5175C18.7499 5.18601 18.6182 4.86812 18.3837 4.63375L14.1163 0.36625C13.8819 0.131813 13.564 7.07968e-05 13.2325 0H6.25ZM5 15V5.625H3.125V18.125H12.8125V16.35C12.8125 16.3162 12.8137 16.2825 12.8175 16.25H6.25C5.91848 16.25 5.60054 16.1183 5.36612 15.8839C5.1317 15.6495 5 15.3315 5 15Z",fill:"#FFD233"})}),(0,et.jsx)("div",{id:"buttonid",onClick:function(){document.getElementById("fileid").click()},children:"Upload documents"}),(0,et.jsx)("input",{type:"file",id:"fileid",hidden:!0})]}),(0,et.jsxs)("div",{className:"rightTopTagCont",children:[(0,et.jsxs)("div",{className:"casepage-mainsection-right-top-tags",children:[(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",children:(0,et.jsx)("path",{d:"M6.125 7.875H14.875V6.125H6.125V7.875ZM15.75 20.125C14.5396 20.125 13.5077 19.6983 12.6542 18.8449C11.8008 17.9915 11.3744 16.9598 11.375 15.75C11.375 14.5396 11.8017 13.5077 12.6551 12.6542C13.5085 11.8008 14.5402 11.3744 15.75 11.375C16.9604 11.375 17.9923 11.8017 18.8457 12.6551C19.6992 13.5085 20.1256 14.5402 20.125 15.75C20.125 16.9604 19.6983 17.9923 18.8449 18.8457C17.9915 19.6992 16.9598 20.1256 15.75 20.125ZM15.3125 18.375H16.1875V16.1875H18.375V15.3125H16.1875V13.125H15.3125V15.3125H13.125V16.1875H15.3125V18.375ZM2.625 18.375V2.625H18.375V10.2375C17.9521 10.0333 17.5254 9.88021 17.0949 9.77812C16.6644 9.67604 16.2161 9.625 15.75 9.625C15.5896 9.625 15.44 9.62879 15.3011 9.63637C15.1623 9.64396 15.0202 9.66204 14.875 9.69062V9.625H6.125V11.375H11.4625C11.2146 11.6229 10.985 11.8927 10.7739 12.1844C10.5627 12.476 10.3766 12.7896 10.2156 13.125H6.125V14.875H9.69062C9.66146 15.0208 9.64308 15.1632 9.6355 15.302C9.62792 15.4408 9.62442 15.5902 9.625 15.75C9.625 16.2312 9.66875 16.6798 9.75625 17.0957C9.84375 17.5117 9.99687 17.9381 10.2156 18.375H2.625Z",fill:"#FFD233"})}),(0,et.jsxs)("div",{id:"addSummary",children:[(0,et.jsx)("input",{type:"text",id:"enterComment"}),(0,et.jsxs)("div",{className:"btnCont",children:[(0,et.jsx)("button",{id:"addComment",onClick:function(){var e=document.querySelector("#enterComment").value;if(""!==e.trim()){var t=document.createElement("div");t.className="notesItem",t.innerHTML='\n        <span className="noteTimeandDate">23/10/23 - 11:33 AM</span>\n        <span className="noteCont">'.concat(e,"</span>\n      "),document.querySelector("#notesItemContainer").appendChild(t),document.querySelector("#enterComment").value="",alert("Summary Updated Successfully"),document.querySelector("#addSummary").style.display="none"}},children:"Add Comment"}),(0,et.jsx)("button",{id:"closeComment",onClick:function(){document.querySelector("#addSummary").style.display="none"},children:"Close"})]})]}),(0,et.jsxs)("div",{onClick:function(){document.querySelector("#addSummary").style.display="block"},children:["Add notes ",(0,et.jsx)("button",{id:"viewSummary",onClick:function(){document.querySelector("#viewNotesSummary").style.display="flex"},children:"View Summary"})]}),(0,et.jsxs)("div",{id:"viewNotesSummary",children:[(0,et.jsxs)("div",{className:"headAndCloseCont",children:[(0,et.jsx)("h1",{children:"Summary:"}),(0,et.jsx)("span",{id:"closeSummaryBtn",onClick:function(){document.querySelector("#viewNotesSummary").style.display="none"},children:"Close"})]}),(0,et.jsx)("div",{id:"notesItemContainer",children:(0,et.jsxs)("div",{className:"notesItem",children:[(0,et.jsx)("span",{className:"noteTimeandDate",children:"23/10/23 - 11:33 AM"}),(0,et.jsx)("span",{className:"noteCont",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique natus iusto facere quo officiis vitae."})]})})]})]}),(0,et.jsxs)("div",{className:"casepage-mainsection-right-top-tags",children:[(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:(0,et.jsx)("path",{d:"M5.72909 9.37435C6.14349 9.37435 6.54091 9.20973 6.83394 8.9167C7.12697 8.62368 7.29159 8.22625 7.29159 7.81185C7.29159 7.39745 7.12697 7.00002 6.83394 6.70699C6.54091 6.41397 6.14349 6.24935 5.72909 6.24935C5.31468 6.24935 4.91726 6.41397 4.62423 6.70699C4.33121 7.00002 4.16659 7.39745 4.16659 7.81185C4.16659 8.22625 4.33121 8.62368 4.62423 8.9167C4.91726 9.20973 5.31468 9.37435 5.72909 9.37435ZM18.1353 12.0618C18.5103 12.4368 18.7499 12.9577 18.7499 13.541C18.7499 14.1139 18.5208 14.6348 18.1353 15.0098L12.927 20.2181C12.7338 20.4123 12.5041 20.5664 12.2512 20.6716C11.9982 20.7767 11.727 20.8308 11.453 20.8308C11.1791 20.8308 10.9079 20.7767 10.6549 20.6716C10.402 20.5664 10.1723 20.4123 9.97909 20.2181L2.69784 12.9368C2.31242 12.5514 2.08325 12.0306 2.08325 11.4577V6.24935C2.08325 5.0931 3.01034 4.16602 4.16659 4.16602H9.37492C9.94784 4.16602 10.4687 4.39518 10.8437 4.77018L18.1353 12.0618ZM14.1041 5.94727L15.1458 4.9056L22.302 12.0618C22.6874 12.4368 22.9166 12.9681 22.9166 13.541C22.9166 14.1139 22.6874 14.6348 22.3124 15.0098L16.7083 20.6139L15.6666 19.5723L21.6145 13.541L14.1041 5.94727Z",fill:"#FFD233"})}),(0,et.jsx)("div",{className:"addtagbtn",children:"Add tags"})]})]})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("h3",{className:"casediscusshead",children:"Case discussion"}),(0,et.jsxs)("div",{className:"casediscuss",children:[(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]}),(0,et.jsxs)("span",{className:"discussItem",children:[(0,et.jsx)("span",{className:"sender",children:"xyz@gmail.com: "}),u,"  Hi, have you chcked the files"]})]})]}),(0,et.jsxs)("div",{className:"officer-assigned",children:[(0,et.jsx)("div",{className:"officer-assigned-head",children:"Talk to Officers case assigned to"}),(0,et.jsxs)("div",{className:"officer-assigned-info",children:[(0,et.jsx)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M2.08325 22.9173V4.16732C2.08325 3.5944 2.28742 3.10378 2.69575 2.69544C3.10409 2.28711 3.59436 2.08329 4.16659 2.08399H20.8333C21.4062 2.08399 21.8968 2.28815 22.3051 2.69649C22.7135 3.10482 22.9173 3.5951 22.9166 4.16732V16.6673C22.9166 17.2402 22.7124 17.7309 22.3041 18.1392C21.8958 18.5475 21.4055 18.7513 20.8333 18.7507H6.24992L2.08325 22.9173ZM6.24992 14.584H14.5833V12.5007H6.24992V14.584ZM6.24992 11.459H18.7499V9.37565H6.24992V11.459ZM6.24992 8.33399H18.7499V6.25065H6.24992V8.33399Z",fill:"#F4F4F4"})}),(0,et.jsxs)("div",{className:"officer-assigned-info-details",children:[(0,et.jsx)("div",{children:"Mr Sukhpreet Singh"}),(0,et.jsx)("div",{children:"IPS"})]}),(0,et.jsx)("div",{className:"officer-assigned-info-img",children:"hh"})]})]})]})]})]})},oE=function(e){var t=e.caseId,n=e.caseName,i=e.caseDate,a=(e.evidenceUsed,e.evidenceList),o=p((0,r.useState)(!1),2),s=o[0],u=o[1];return(0,et.jsxs)("div",{className:"case-folder",children:[(0,et.jsxs)("div",{className:"folder-header",onClick:function(){u(!s)},children:[(0,et.jsxs)("span",{children:["Case ID: ",t]}),(0,et.jsx)("span",{children:n}),(0,et.jsxs)("span",{children:["Case Date: ",i]}),(0,et.jsx)("span",{className:"viewEvidence",children:"View evidence "})]}),s&&(0,et.jsx)("ul",{className:"evidence-list",children:a.map((function(e,t){return(0,et.jsx)("li",{children:(0,et.jsx)("a",{href:"#",children:e})},t)}))})]})},sE=function(){return(0,et.jsxs)("div",{className:"EvidencePortal",children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"EvidencePortal-container",children:[(0,et.jsx)("h2",{className:"EvidencePortal-container-head",children:"Evidence Portal"}),(0,et.jsx)("div",{className:"case-folders",children:[{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]},{caseId:"12345",caseName:"Case 1",caseDate:"11/11/23",evidenceUsed:"Investigation",evidenceList:["Evidence 1","Evidence 2"]}].map((function(e){return(0,et.jsx)(oE,{caseId:e.caseId,caseName:e.caseName,caseDate:e.caseDate,evidenceUsed:e.evidenceUsed,evidenceList:e.evidenceList},e.caseId)}))})]})]})},uE=function(){var e=p((0,r.useState)({caseType:"",crimeYear:"",area:"",keyword:""}),2),t=e[0],n=e[1],i=p((0,r.useState)([{id:1,reportingOfficer:"John Cena",caseName:"Case 1",caseDate:"23/03/2023",caseType:"Murder",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Area: Mohali",area:"Mohali"},{id:2,reportingOfficer:"John Doe",caseName:"Case 2",caseDate:"23/03/2023",caseType:"Robbery",description:"Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Area: Kharar",area:"Kharar"}]),1)[0],a=p((0,r.useState)(i),2),o=a[0],s=a[1],u=function(e){var t=e.target,r=t.name,i=t.value;n((function(e){return st(st({},e),{},rt({},r,i))}))},c=function(){var e=i.filter((function(e){var n,r=(null===(n=t.keyword)||void 0===n?void 0:n.toLowerCase())||"",i=""===t.caseType||e.caseType&&e.caseType.toLowerCase().includes(t.caseType.toLowerCase()),a=""===t.crimeYear||e.caseDate&&e.caseDate.includes(t.crimeYear),o=""===t.area||e.area&&e.area.toLowerCase().includes(t.area.toLowerCase()),s=""===r||e.description&&e.description.toLowerCase().includes(r),u=e.reportingOfficer&&e.reportingOfficer.toLowerCase().includes(r)||e.area&&e.area.toLowerCase().includes(r)||e.caseDate&&e.caseDate.includes(r)||e.caseName&&e.caseName.toLowerCase().includes(r);return i&&a&&o&&(s||u)}));s(e)};return(0,r.useEffect)((function(){c()}),[t,c]),(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"CaseSearchMainContainer",children:[(0,et.jsxs)("div",{className:"searchAndSelectedFilterContainer",children:[(0,et.jsxs)("div",{className:"searchFilterContainers",children:[(0,et.jsxs)("select",{name:"caseType",className:"searchFilterItem",onChange:u,value:t.caseType,children:[(0,et.jsx)("option",{value:"",disabled:!0,children:"Select Case Type"}),(0,et.jsx)("option",{value:"Murder",children:"Murder"}),(0,et.jsx)("option",{value:"Robbery",children:"Robbery"}),(0,et.jsx)("option",{value:"Assault",children:"Assault"})]}),(0,et.jsxs)("select",{name:"crimeYear",className:"searchFilterItem",onChange:u,value:t.crimeYear,children:[(0,et.jsx)("option",{value:"",disabled:!0,children:"Select Crime Year"}),(0,et.jsx)("option",{value:"2023",children:"2023"}),(0,et.jsx)("option",{value:"2022",children:"2022"}),(0,et.jsx)("option",{value:"2021",children:"2021"})]}),(0,et.jsxs)("select",{name:"area",className:"searchFilterItem",onChange:u,value:t.area,children:[(0,et.jsx)("option",{value:"",disabled:!0,children:"Select Area"}),(0,et.jsx)("option",{value:"Mohali",children:"Mohali"}),(0,et.jsx)("option",{value:"Kharar",children:"Kharar"})]}),(0,et.jsx)("input",{type:"text",className:"searchFilterItem",placeholder:"Enter any related keyword",name:"keyword",value:t.keyword,onChange:u}),(0,et.jsx)("button",{onClick:c,children:"Search"})]}),(0,et.jsx)("span",{className:"line"}),(0,et.jsxs)("div",{className:"selectedFilterContainer",children:[(0,et.jsx)("h4",{children:"Applied Filters:"}),Object.entries(t).map((function(e){var t=p(e,2),n=t[0],r=t[1];return r&&""!==r?(0,et.jsxs)("span",{className:"selectedFilterItem",children:["area"===n?"City":n,": ",r,(0,et.jsx)("span",{className:"deleteSelectedFilter",onClick:function(){return u({target:{name:n,value:""}})},children:"X"})]},n):null}))]})]}),(0,et.jsx)("div",{className:"filteredCaseItemsContainer",children:0===o.length?(0,et.jsx)("p",{children:"No cases found"}):o.map((function(e){return(0,et.jsxs)("div",{className:"filteredCaseItem",children:[(0,et.jsxs)("span",{className:"caseRprtngOffcrandNameContainer",children:[(0,et.jsxs)("h3",{children:["Reporting Officer: ",(0,et.jsx)("span",{id:"reportingOfficer",children:e.reportingOfficer})]}),(0,et.jsxs)("span",{className:"caseNameDateAndTypeConntainer",children:[(0,et.jsx)("h3",{children:e.caseName}),(0,et.jsx)("span",{className:"caseDate",children:e.caseDate}),(0,et.jsx)("span",{className:"filteredCaseType",children:e.caseType})]})]}),(0,et.jsxs)("div",{className:"filteredCaseDetailsbtnAndDesc",children:[(0,et.jsx)("div",{className:"filteredCaseItemDesc",children:(0,et.jsx)("p",{children:e.description})}),(0,et.jsx)(Ye,{to:{pathname:"/casedetails",state:{caseItem:e}},children:(0,et.jsx)("div",{id:"filteredCaseDetailsBtn",children:"View Case Details"})})]})]},e.id)}))})]})})},cE=n.p+"static/media/dialer.3ffdec1fc3bb35ead4c5.png",lE=n.p+"static/media/video.96d0c873fb55c2dc3a4d.png",fE=n.p+"static/media/voice.ce85fb159f2121434f98.png",hE={width:"100%"},dE={height:"60px",borderRadius:"50%"},pE=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"communicationMainContainer",style:hE,children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"communiLeftRighContainer",children:[(0,et.jsxs)("div",{className:"communiLeftContainer",children:[(0,et.jsx)("div",{className:"communiSearch",children:(0,et.jsx)("input",{type:"text",placeholder:"Search"})}),(0,et.jsxs)("div",{className:"communiItemContainer",children:[(0,et.jsxs)("div",{className:"communiItem",children:[(0,et.jsx)("span",{className:"chatImg",children:(0,et.jsx)("img",{src:it,alt:"",style:dE})}),(0,et.jsxs)("span",{className:"ChatNameContainer",children:[(0,et.jsx)("span",{className:"chatName",children:"John Smith"}),(0,et.jsx)("span",{className:"chatDesc",children:"Lorem ipsum dolor "})]}),(0,et.jsx)("span",{className:"chatTime",children:"Today, 03:30 PM"})]}),(0,et.jsxs)("div",{className:"communiItem",children:[(0,et.jsx)("span",{className:"chatImg",children:(0,et.jsx)("img",{src:it,alt:"",style:dE})}),(0,et.jsxs)("span",{className:"ChatNameContainer",children:[(0,et.jsx)("span",{className:"chatName",children:"John Smith"}),(0,et.jsx)("span",{className:"chatDesc",children:"Lorem ipsum dolor "})]}),(0,et.jsx)("span",{className:"chatTime",children:"Today, 03:30 PM"})]})]})]}),(0,et.jsxs)("div",{className:"communiRightContainer",children:[(0,et.jsxs)("div",{className:"communiRightTop",children:[(0,et.jsx)("span",{className:"chatImg",children:(0,et.jsx)("img",{src:it,alt:"",style:dE})}),(0,et.jsxs)("span",{className:"ChatNameContainer",children:[(0,et.jsx)("span",{className:"chatName",children:"John Smith"}),(0,et.jsx)("span",{className:"activeStatus",children:"Online"})]}),(0,et.jsxs)("span",{className:"chatOptionContainer",children:[(0,et.jsx)("img",{src:cE,alt:"",height:"30px"}),(0,et.jsx)("img",{src:lE,alt:"",height:"30px"}),(0,et.jsxs)("span",{className:"threeDotsContainer",children:[(0,et.jsx)("span",{className:"dots"}),(0,et.jsx)("span",{className:"dots"}),(0,et.jsx)("span",{className:"dots"})]})]})]}),(0,et.jsxs)("div",{className:"communiBottomContainer",children:[(0,et.jsx)("input",{type:"text"}),(0,et.jsx)("img",{src:fE,alt:"",height:"50px"})]})]})]})]})})},vE=n.p+"static/media/location.438847ee6c2ba8899313.png",mE=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Decline Request"})]})]})]}),(0,et.jsxs)("div",{className:"resourceAllocitems",children:[(0,et.jsxs)("span",{className:"areaName",children:[(0,et.jsx)("img",{src:vE,height:"50px",alt:""}),(0,et.jsx)("span",{id:"area",children:"Police station name and area details"})]}),(0,et.jsx)("div",{className:"rsrcDetails",children:(0,et.jsxs)("p",{children:["subject ",(0,et.jsx)("span",{id:"sub",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad, itaque."})]})}),(0,et.jsx)("div",{className:"rsrcdesc",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum eius eveniet deserunt quam ex recusandae magni ad perferendis cumque unde?"}),(0,et.jsxs)("div",{className:"btnContainer",children:[(0,et.jsxs)("div",{className:"acceptBtn",children:[(0,et.jsx)("span",{className:"acceptBtnCrcl"}),(0,et.jsx)("span",{id:"acceptBtn",children:"Accept Request"})]}),(0,et.jsxs)("div",{className:"RejectBtn",children:[(0,et.jsx)("span",{className:"rjctBtnCrcl"}),(0,et.jsx)("span",{id:"rjctBtn",children:"Reject Request"})]})]})]})]})},gE=n.p+"static/media/loader.f9242596d8e982bbdf28.gif",yE=function(){var e=p((0,r.useState)({compId:"Not available",compName:"Not available",mobNum:"Not available",dateOfInci:"Not available",category:"Not available",details:"Not available"}),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){xs.apps.length||xs.initializeApp({apiKey:"AIzaSyDjsec2TjbFSkTom1C4Xx-fXSagCTPrTJo",authDomain:"cyberthon-8e6f0.firebaseapp.com",databaseURL:"https://cyberthon-8e6f0-default-rtdb.firebaseio.com",projectId:"cyberthon-8e6f0",storageBucket:"cyberthon-8e6f0.appspot.com",messagingSenderId:"554653440274",appId:"1:554653440274:web:3a96eece739f0af215fbcb",measurementId:"G-MS3FFCDJDF"});var e=xs.firestore(),t=e.collection("aM2yd3KJ09Ym92GQ7JymaOSwTbi1").doc("Alleged Details"),r=e.collection("aM2yd3KJ09Ym92GQ7JymaOSwTbi1").doc("Incident Details");t.get().then((function(e){if(e.exists){var t=e.data();n((function(n){return st(st({},n),{},{compId:e.id,compName:t.algname||"Not available",mobNum:t.mob||"Not available",location:t.loc||"Not available"})}))}else console.log("No such document1!")})),r.get().then((function(e){if(e.exists){var t=e.data();n((function(e){return st(st({},e),{},{category:t.nature||"Not available",details:t.desc||"Not available",datefrom:t.datefrom||"Not available",dateOfInci:t.datefrom||"Not available"})}))}else console.log("No such document2!")}))}),[]),console.log(t),(0,et.jsxs)("div",{className:"newPopupMainContainer",children:[(0,et.jsx)("span",{className:"popupttl",children:"New Case Reported"}),(0,et.jsxs)("div",{className:"compDetailsContainer",children:[(0,et.jsxs)("span",{children:["Complainee Name: ",(0,et.jsx)("span",{id:"compName",children:t.compName})]}),(0,et.jsxs)("span",{children:["Place: ",(0,et.jsx)("span",{id:"compId",children:t.location})]}),(0,et.jsxs)("span",{children:["Mobile Number:",(0,et.jsx)("span",{id:"mobNum",children:t.mobNum})]}),(0,et.jsxs)("span",{children:["Date of Incident: ",(0,et.jsx)("span",{id:"dateOfInci",children:t.dateOfInci})]}),(0,et.jsxs)("span",{children:["Category:",(0,et.jsx)("span",{id:"category",children:t.category})]})]}),(0,et.jsxs)("div",{className:"compDetailsCont",children:[(0,et.jsx)("h3",{children:"Details:"}),(0,et.jsx)("div",{className:"compDetails",children:t.details})]}),(0,et.jsxs)("div",{className:"loaderContent",children:[(0,et.jsx)("span",{className:"sending",children:"Sending data....."}),(0,et.jsx)("span",{className:"processing",children:"Processing data....."}),(0,et.jsx)("span",{className:"receiving",children:"Getting data....."})]}),(0,et.jsx)("img",{src:gE,alt:"",id:"loader"}),(0,et.jsxs)("div",{className:"btnCont",children:[(0,et.jsx)("div",{className:"takeAction",onClick:function(){var e=document.querySelector(".loaderContent"),t=e.querySelectorAll("span");document.querySelector(".popupttl").style.display="none",document.querySelector(".compDetailsContainer").style.display="none",document.querySelector(".compDetailsCont").style.display="none",document.querySelector(".btnCont").style.display="none",document.querySelector("#loader").style.display="block",e.style.display="block";var n=0,r=function(){t.forEach((function(e,t){e.style.display=t===n?"block":"none"})),n=(n+1)%t.length};r();var i=setInterval((function(){r()}),2e3);setTimeout((function(){clearInterval(i)}),6e3),setTimeout((function(){window.location.href="/casedetails"}),9e3)},children:"Take Action"}),(0,et.jsx)("div",{className:"closePop",onClick:function(){document.querySelector(".newPopupMainContainer").style.display="none"},children:"Close"})]})]})},bE=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"dashMainContainer",children:[(0,et.jsx)(at,{}),(0,et.jsx)(yE,{}),(0,et.jsxs)("div",{className:"dashCompoContain",children:[(0,et.jsxs)("div",{className:"dash3LeftContainer",children:[(0,et.jsx)("h1",{children:"Officers Dashboard"}),(0,et.jsx)("div",{className:"mapContainer",children:(0,et.jsx)(jt,{})}),(0,et.jsxs)("div",{className:"leftBottomContainer",children:[(0,et.jsxs)("div",{className:"leftBottomLeftContainer",children:[(0,et.jsx)("h3",{children:"Crime rate in your area in past one month"}),(0,et.jsx)("div",{className:"lineChartContainer",children:(0,et.jsx)(At,{})}),(0,et.jsxs)("div",{className:"crtclHead",children:[(0,et.jsx)("span",{className:"criticalSymbol",children:(0,et.jsx)("span",{className:"criticalCrcl"})}),(0,et.jsx)("h3",{children:"Critical Case"})]}),(0,et.jsx)("div",{className:"criticalcasecomcont",children:(0,et.jsx)(Pt,{})})]}),(0,et.jsxs)("div",{className:"leftBottomRight",children:[(0,et.jsx)("h3",{children:"Updates on critical cases"}),(0,et.jsx)(Ot,{})]})]})]}),(0,et.jsxs)("div",{className:"dash3RightContainer",children:[(0,et.jsxs)("div",{className:"dashRightResourcesData",children:[(0,et.jsx)("h2",{children:"Resources left under you"}),(0,et.jsxs)("div",{className:"resourceData",children:[(0,et.jsx)("span",{className:"veh",children:"105 vehicles"}),(0,et.jsx)("span",{className:"guns",children:"75 guns"}),(0,et.jsx)("span",{className:"facilities",children:"105 vehicles"})]})]}),(0,et.jsxs)("div",{className:"resourceAllocContainer",children:[(0,et.jsx)("h2",{children:"Resource Allocation"}),(0,et.jsx)(mE,{})]})]})]})]})})},kE=function(){var e=p((0,r.useState)({compId:"Not available",compName:"Not available",mobNum:"Not available",dateOfInci:"Not available",category:"Not available",details:"Not available"}),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){xs.apps.length||xs.initializeApp({apiKey:"AIzaSyDjsec2TjbFSkTom1C4Xx-fXSagCTPrTJo",authDomain:"cyberthon-8e6f0.firebaseapp.com",databaseURL:"https://cyberthon-8e6f0-default-rtdb.firebaseio.com",projectId:"cyberthon-8e6f0",storageBucket:"cyberthon-8e6f0.appspot.com",messagingSenderId:"554653440274",appId:"1:554653440274:web:3a96eece739f0af215fbcb",measurementId:"G-MS3FFCDJDF"});var e=xs.firestore(),t=e.collection("aM2yd3KJ09Ym92GQ7JymaOSwTbi1").doc("Alleged Details"),r=e.collection("aM2yd3KJ09Ym92GQ7JymaOSwTbi1").doc("Incident Details");t.get().then((function(e){if(e.exists){var t=e.data();n((function(n){return st(st({},n),{},{compId:e.id,compName:t.algname||"Not available",mobNum:t.mob||"Not available",location:t.loc||"Not available"})}))}else console.log("No such document1!")})),r.get().then((function(e){if(e.exists){var t=e.data();n((function(e){return st(st({},e),{},{category:t.nature||"Not available",details:t.desc||"Not available",datefrom:t.datefrom||"Not available",dateOfInci:t.datefrom||"Not available"})}))}else console.log("No such document2!")}))}),[]),(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"detailCont",children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"caseLefRigCont",children:[(0,et.jsxs)("div",{className:"caseLeftContainer",children:[(0,et.jsxs)("div",{className:"caseidandname",children:[(0,et.jsx)("span",{id:"caseid",children:"Case Id:"}),(0,et.jsx)("span",{id:"casename",children:t.compId})]}),(0,et.jsxs)("div",{className:"tagcontainer",children:["Tags: ",(0,et.jsx)("div",{className:"casetags",children:t.category})]}),(0,et.jsxs)("div",{className:"compDetailsContainer",children:[(0,et.jsxs)("span",{children:["Complainee Name: ",(0,et.jsx)("span",{id:"compName",children:t.compName})]}),(0,et.jsxs)("span",{children:["Place: ",(0,et.jsx)("span",{id:"compId",children:t.location})]}),(0,et.jsxs)("span",{children:["Mobile Number:",(0,et.jsx)("span",{id:"mobNum",children:t.mobNum})]}),(0,et.jsxs)("span",{children:["Date of Incident: ",(0,et.jsx)("span",{id:"dateOfInci",children:t.dateOfInci})]}),(0,et.jsxs)("span",{children:["Category:",(0,et.jsx)("span",{id:"category",children:t.category})]})]}),(0,et.jsx)("div",{className:"caseDet",children:t.details})]}),(0,et.jsxs)("div",{className:"caseRightCon",children:[(0,et.jsx)("h1",{children:"Case Flow"}),(0,et.jsx)("img",{src:vs,alt:""})]})]})]})})};var wE=function(){var e=wr({apiKey:"AIzaSyDjsec2TjbFSkTom1C4Xx-fXSagCTPrTJo",authDomain:"cyberthon-8e6f0.firebaseapp.com",databaseURL:"https://cyberthon-8e6f0-default-rtdb.firebaseio.com",projectId:"cyberthon-8e6f0",storageBucket:"cyberthon-8e6f0.appspot.com",messagingSenderId:"554653440274",appId:"1:554653440274:web:3a96eece739f0af215fbcb",measurementId:"G-MS3FFCDJDF"});return So(e),us(e),(0,et.jsx)(Ge,{children:(0,et.jsxs)("div",{className:"app",children:[(0,et.jsx)(tt,{}),(0,et.jsxs)(Fe,{children:[(0,et.jsx)(Re,{path:"/",element:(0,et.jsx)(bE,{})}),(0,et.jsx)(Re,{path:"/EvidencePortal",element:(0,et.jsx)(sE,{})}),(0,et.jsx)(Re,{path:"/InteractionLog",element:(0,et.jsx)(hs,{})}),(0,et.jsx)(Re,{path:"/Login",element:(0,et.jsx)(zt,{})}),(0,et.jsx)(Re,{path:"/officers",element:(0,et.jsx)(Gt,{})}),(0,et.jsx)(Re,{path:"/cases",element:(0,et.jsx)(uE,{})}),(0,et.jsx)(Re,{path:"/annual",element:(0,et.jsx)(nt,{})}),(0,et.jsx)(Re,{path:"/team",element:(0,et.jsx)(nt,{})}),(0,et.jsx)(Re,{path:"/RegistereCase",element:(0,et.jsx)(Wt,{})}),(0,et.jsx)(Re,{path:"/casesearch",element:(0,et.jsx)(uE,{})}),(0,et.jsx)(Re,{path:"/casedetails",element:(0,et.jsx)(aE,{})}),(0,et.jsx)(Re,{path:"/communications",element:(0,et.jsx)(pE,{})}),(0,et.jsx)(Re,{path:"/popupDetail",element:(0,et.jsx)(kE,{})})]})]})})};a.createRoot(document.getElementById("root")).render((0,et.jsx)(r.StrictMode,{children:(0,et.jsx)(wE,{})}))}()}();
//# sourceMappingURL=main.72be40c3.js.map